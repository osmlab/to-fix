!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/to-fix/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,o){r.apply(this,[t,e,o].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){n(304),t.exports=n(326)},function(t,e,n){"use strict";t.exports=n(366)},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(e.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}t.exports=r},function(t,e){"use strict";function n(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=n},function(t,e,n){"use strict";var r=n(13),o=r;t.exports=o},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,a,s=n(t),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)o.call(r,l)&&(s[l]=r[l]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(t,e,n){"use strict";function r(t){for(var e;e=t._renderedComponent;)t=e;return t}function o(t,e){var n=r(t);n._hostNode=e,e[m]=n}function i(t){var e=t._hostNode;e&&(delete e[m],t._hostNode=null)}function a(t,e){if(!(t._flags&d.hasCachedChildNodes)){var n=t._renderedChildren,i=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(0!==u){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(h)===String(u)||8===i.nodeType&&i.nodeValue===" react-text: "+u+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+u+" "){o(s,i);continue t}c("32",u)}}t._flags|=d.hasCachedChildNodes}}function s(t){if(t[m])return t[m];for(var e=[];!t[m];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,r;t&&(r=t[m]);t=e.pop())n=r,e.length&&a(r,t);return n}function u(t){var e=s(t);return null!=e&&e._hostNode===t?e:null}function l(t){if(void 0===t._hostNode?c("33"):void 0,t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent?void 0:c("34"),t=t._hostParent;for(;e.length;t=e.pop())a(t,t._hostNode);return t._hostNode}var c=n(3),f=n(39),p=n(153),h=(n(2),f.ID_ATTRIBUTE_NAME),d=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:o,uncacheNode:i};t.exports=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.connect=e.Provider=void 0;var o=n(263),i=r(o),a=n(264),s=r(a);e.Provider=i.default,e.connect=s.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.asyncAction=e.checkStatusCode=e.AsyncStatus=void 0;var o=n(14),i=r(o),a=n(108),s=n(336),u=r(s),l=n(11),c=r(l),f=e.AsyncStatus=(0,i.default)({REQUEST:null,SUCCESS:null,FAILURE:null}),p=e.checkStatusCode=function(t){var e=t.statusCode;return e&&e>=400?Promise.reject(t.message||"Something went wrong."):t};e.asyncAction=function(t){var e=t.type,n=t.asyncCall,r=t.responseSchema,o=t.showLoader,i=void 0!==o&&o,s=t.showError,l=void 0===s||s;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(o){return o(Object.assign({type:e,status:f.REQUEST},t)),i&&o(u.default.startLoading()),n(t).then(p).then(function(n){return i&&o(u.default.stopLoading()),o({type:e,status:f.SUCCESS,response:r?(0,a.normalize)(n,r):n,params:t})},function(t){return i&&o(u.default.stopLoading()),l&&o(c.default.openErrorModal(t)),o({type:e,status:f.FAILURE,error:t})})}}}},function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(e.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(138),i=r(o),a={openSettingsModal:function(){return{type:i.default.MODALS_OPEN_SETTINGS}},closeSettingsModal:function(){return{type:i.default.MODALS_CLOSE_SETTINGS}},openSuccessModal:function(t){return{type:i.default.MODALS_OPEN_SUCCESS,successMessage:t}},closeSuccessModal:function(){return{type:i.default.MODALS_CLOSE_SUCCESS}},openErrorModal:function(t){return{type:i.default.MODALS_OPEN_ERROR,errorMessage:t}},closeErrorModal:function(){return{type:i.default.MODALS_CLOSE_ERROR}},openCreateTaskModal:function(){return{type:i.default.MODALS_OPEN_CREATE_TASK}},closeCreateTaskModal:function(){return{type:i.default.MODALS_CLOSE_CREATE_TASK}},openManageUsersModal:function(){return{type:i.default.MODALS_OPEN_MANAGE_USERS}},closeManageUsersModal:function(){return{type:i.default.MODALS_CLOSE_MANAGE_USERS}}};e.default=a},function(t,e,n){"use strict";var r=null;t.exports={debugTool:r}},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e){"use strict";var n=function(t){var e,n={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=n},function(t,e,n){"use strict";function r(t){return void 0!==t.ref}function o(t){return void 0!==t.key}var i=n(5),a=n(27),s=(n(4),n(166),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l={key:!0,ref:!0,__self:!0,__source:!0},c=function(t,e,n,r,o,i,a){var s={$$typeof:u,type:t,key:e,ref:n,props:a,_owner:i};return s};c.createElement=function(t,e,n){var i,u={},f=null,p=null,h=null,d=null;if(null!=e){r(e)&&(p=e.ref),o(e)&&(f=""+e.key),h=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(i in e)s.call(e,i)&&!l.hasOwnProperty(i)&&(u[i]=e[i])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var y=Array(m),v=0;v<m;v++)y[v]=arguments[v+2];u.children=y}if(t&&t.defaultProps){var g=t.defaultProps;for(i in g)void 0===u[i]&&(u[i]=g[i])}return c(t,f,p,h,d,a.current,u)},c.createFactory=function(t){var e=c.createElement.bind(null,t);return e.type=t,e},c.cloneAndReplaceKey=function(t,e){var n=c(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},c.cloneElement=function(t,e,n){var u,f=i({},t.props),p=t.key,h=t.ref,d=t._self,m=t._source,y=t._owner;if(null!=e){r(e)&&(h=e.ref,y=a.current),o(e)&&(p=""+e.key);var v;t.type&&t.type.defaultProps&&(v=t.type.defaultProps);for(u in e)s.call(e,u)&&!l.hasOwnProperty(u)&&(void 0===e[u]&&void 0!==v?f[u]=v[u]:f[u]=e[u])}var g=arguments.length-2;if(1===g)f.children=n;else if(g>1){for(var _=Array(g),b=0;b<g;b++)_[b]=arguments[b+2];f.children=_}return c(t.type,p,h,d,m,y,f)},c.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===u},c.REACT_ELEMENT_TYPE=u,t.exports=c},function(t,e,n){"use strict";function r(){C.ReactReconcileTransaction&&x?void 0:c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!0)}function i(t,e,n,o,i,a){r(),x.batchedUpdates(t,e,n,o,i,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==v.length?c("124",e,v.length):void 0,v.sort(a),g++;for(var n=0;n<e;n++){var r=v[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(d.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,t.reconcileTransaction,g),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)t.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(t){return r(),x.isBatchingUpdates?(v.push(t),void(null==t._updateBatchNumber&&(t._updateBatchNumber=g+1))):void x.batchedUpdates(u,t)}function l(t,e){x.isBatchingUpdates?void 0:c("125"),_.enqueue(t,e),b=!0}var c=n(3),f=n(5),p=n(149),h=n(26),d=n(156),m=n(40),y=n(50),v=(n(2),[]),g=0,_=p.getPooled(),b=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),M()):v.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},S=[w,E];f(o.prototype,y.Mixin,{getTransactionWrappers:function(){return S},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return y.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(o);var M=function(){for(;v.length||b;){if(v.length){var t=o.getPooled();t.perform(s,null,t),o.release(t)}if(b){b=!1;var e=_;_=p.getPooled(),e.notifyAll(),p.release(e)}}},T={injectReconcileTransaction:function(t){t?void 0:c("126"),C.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:c("127"),"function"!=typeof t.batchedUpdates?c("128"):void 0,"boolean"!=typeof t.isBatchingUpdates?c("129"):void 0,x=t}},C={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:M,injection:T,asap:l};t.exports=C},[456,111],function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=n(21),a=r(i),s=function(t){return t.tasks},u=function(t){return t.allIds.map(function(e){return t.byId[e]}).sort(function(t,e){return e.value.updated-t.value.updated})},l=function(t){if(0!==t.allIds.length)return u(t)[0].idtask},c=function(t){return u(t).filter(function(t){return t.isCompleted})},f=function(t){return u(t).filter(function(t){return!t.isCompleted})},p=function(t){return t.byId[t.currentId]},h=function(t){return t.currentId},d=function(t){return p(t).value.stats},m=function(t){var e=d(t),n=1e3*e.date,r=a.default.time.format("%Y-%m-%d"),o=r(new Date(n)),i=r(new Date);return{fromDate:o,toDate:i}},y=function(t){return d(t).type},v={getAllTasks:(0,o.createSelector)(s,u),getLatestTaskId:(0,o.createSelector)(s,l),getCompletedTasks:(0,o.createSelector)(s,c),getActiveTasks:(0,o.createSelector)(s,f),getCurrentTask:(0,o.createSelector)(s,p),getCurrentTaskId:(0,o.createSelector)(s,h),getCurrentTaskType:(0,o.createSelector)(s,y),getCurrentTaskSummary:(0,o.createSelector)(s,d),getCurrentTaskExtent:(0,o.createSelector)(s,m)};e.default=v},function(t,e,n){"use strict";var r=n(67),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};t.exports=a},function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=n(5),i=n(26),a=n(13),s=(n(4),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,i.addPoolingTo(t,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},function(t,e,n){var r,o;!function(){function i(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function u(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function c(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}function f(t){return t.length}function p(t){for(var e=1;t*e%1;)e*=10;return e}function h(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d(){this._=Object.create(null)}function m(t){return(t+="")===Ta||t[0]===Ca?Ca+t:t}function y(t){return(t+="")[0]===Ca?t.slice(1):t}function v(t){return m(t)in this._}function g(t){return(t=m(t))in this._&&delete this._[t]}function _(){var t=[];for(var e in this._)t.push(y(e));return t}function b(){var t=0;for(var e in this._)++t;return t}function x(){for(var t in this._)return!1;return!0}function w(){this._=Object.create(null)}function E(t){return t}function S(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function M(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ka.length;n<r;++n){var o=ka[n]+e;if(o in t)return o}}function T(){}function C(){}function k(t){function e(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}var n=[],r=new d;return e.on=function(e,o){var i,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(e)),o&&n.push(r.set(e,{on:o})),t)},e}function P(){ha.event.preventDefault()}function A(){for(var t,e=ha.event;t=e.sourceEvent;)e=t;return e}function R(t){for(var e=new C,n=0,r=arguments.length;++n<r;)e[arguments[n]]=k(e);return e.of=function(n,r){return function(o){try{var i=o.sourceEvent=ha.event;o.target=t,ha.event=o,e[o.type].apply(n,r)}finally{ha.event=i}}},e}function O(t){return Aa(t,La),t}function I(t){return"function"==typeof t?t:function(){return Ra(t,this)}}function L(t){return"function"==typeof t?t:function(){return Oa(t,this)}}function N(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ha.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?i:o}function D(t){return t.trim().replace(/\s+/g," ")}function j(t){return new RegExp("(?:^|\\s+)"+ha.requote(t)+"(?:\\s+|$)","g")}function z(t){return(t+"").trim().split(/^|\s+/)}function U(t,e){function n(){for(var n=-1;++n<o;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<o;)t[n](this,r)}t=z(t).map(F);var o=t.length;return"function"==typeof e?r:n}function F(t){var e=j(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",D(o+" "+t))):n.setAttribute("class",D(o.replace(e," ")))}}function B(t,e,n){function r(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,n)}function i(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?i:o}function q(t,e){function n(){delete this[t]}function r(){this[t]=e}function o(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?o:r}function V(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Na&&e.documentElement.namespaceURI===Na?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ha.ns.qualify(t)).local?n:e}function H(){var t=this.parentNode;t&&t.removeChild(this)}function W(t){return{__data__:t}}function G(t){return function(){return Ia(this,t)}}function K(t){return arguments.length||(t=s),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function Z(t,e){for(var n=0,r=t.length;n<r;n++)for(var o,i=t[n],a=0,s=i.length;a<s;a++)(o=i[a])&&e(o,a,n);return t}function X(t){return Aa(t,ja),t}function Y(t){var e,n;return function(r,o,i){var a,s=t[i].update,u=s.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<u;);return a}}function J(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function o(){var o=u(e,ma(arguments));r.call(this),this.addEventListener(t,this[a]=o,o.$=n),o._=e}function i(){var e,n=new RegExp("^__on([^.]+)"+ha.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=$;s>0&&(t=t.slice(0,s));var l=za.get(t);return l&&(t=l,u=Q),s?e?o:r:e?T:i}function $(t,e){return function(n){var r=ha.event;ha.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ha.event=r}}}function Q(t,e){var n=$(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Fa,n="click"+e,r=ha.select(a(t)).on("touchmove"+e,P).on("dragstart"+e,P).on("selectstart"+e,P);if(null==Ua&&(Ua=!("onselectstart"in t)&&M(t.style,"userSelect")),Ua){var o=i(t).style,s=o[Ua];o[Ua]="none"}return function(t){if(r.on(e,null),Ua&&(o[Ua]=s),t){var i=function(){r.on(n,null)};r.on(n,function(){P(),i()},!0),setTimeout(i,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ba<0){var o=a(t);if(o.scrollX||o.scrollY){n=ha.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ba=!(i.f||i.e),n.remove()}}return Ba?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function nt(){return ha.event.changedTouches[0].identifier}function rt(t){return t>0?1:t<0?-1:0}function ot(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function it(t){return t>1?0:t<-1?Ha:Math.acos(t)}function at(t){return t>1?Ka:t<-1?-Ka:Math.asin(t)}function st(t){return((t=Math.exp(t))-1/t)/2}function ut(t){return((t=Math.exp(t))+1/t)/2}function lt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ct(t){return(t=Math.sin(t/2))*t}function ft(){}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.s,t.l):Tt(""+t,Ct,pt):new pt(t,e,n)}function ht(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i}function o(t){return Math.round(255*r(t))}var i,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,i=2*n-a,new wt(o(t+120),o(t),o(t-120))}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.c,t.l):t instanceof yt?gt(t.l,t.a,t.b):gt((t=kt((t=ha.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new dt(t,e,n)}function mt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new yt(n,Math.cos(t*=Za)*e,Math.sin(t)*e)}function yt(t,e,n){return this instanceof yt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof yt?new yt(t.l,t.a,t.b):t instanceof dt?mt(t.h,t.c,t.l):kt((t=wt(t)).r,t.g,t.b):new yt(t,e,n)}function vt(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return o=_t(o)*is,r=_t(r)*as,i=_t(i)*ss,new wt(xt(3.2404542*o-1.5371385*r-.4985314*i),xt(-.969266*o+1.8760108*r+.041556*i),xt(.0556434*o-.2040259*r+1.0572252*i))}function gt(t,e,n){return t>0?new dt(Math.atan2(n,e)*Xa,Math.sqrt(e*e+n*n),t):new dt(NaN,NaN,t)}function _t(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function bt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function xt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function wt(t,e,n){return this instanceof wt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof wt?new wt(t.r,t.g,t.b):Tt(""+t,wt,ht):new wt(t,e,n)}function Et(t){return new wt(t>>16,t>>8&255,255&t)}function St(t){return Et(t)+""}function Mt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Tt(t,e,n){var r,o,i,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(At(o[0]),At(o[1]),At(o[2]))}return(i=cs.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&i)>>4,a=a>>4|a,s=240&i,s=s>>4|s,u=15&i,u=u<<4|u):7===t.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,u=255&i)),e(a,s,u))}function Ct(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-i,u=(a+i)/2;return s?(o=u<.5?s/(a+i):s/(2-a-i),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,o=u>0&&u<1?0:r),new pt(r,o,u)}function kt(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=bt((.4124564*t+.3575761*e+.1804375*n)/is),o=bt((.2126729*t+.7151522*e+.072175*n)/as),i=bt((.0193339*t+.119192*e+.9503041*n)/ss);return yt(116*o-16,500*(r-o),200*(o-i))}function Pt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Rt(t){return"function"==typeof t?t:function(){return t}}function Ot(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),It(e,n,t,r)}}function It(t,e,n,r){function o(){var t,e=u.status;if(!e&&Nt(u)||e>=200&&e<300||304===e){try{t=n.call(i,u)}catch(r){return void a.error.call(i,r)}a.load.call(i,t)}else a.error.call(i,u)}var i={},a=ha.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=o:u.onreadystatechange=function(){u.readyState>3&&o()},u.onprogress=function(t){var e=ha.event;ha.event=t;try{a.progress.call(i,u)}finally{ha.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(l=t,i):l},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(ma(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},ha.rebind(i,a,"on"),null==r?i:i.get(Lt(r))}function Lt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Nt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var o=n+e,i={c:t,t:o,n:null};return ps?ps.n=i:fs=i,ps=i,hs||(ds=clearTimeout(ds),hs=1,ms(jt)),i}function jt(){var t=zt(),e=Ut()-t;e>24?(isFinite(e)&&(clearTimeout(ds),ds=setTimeout(jt,e)),hs=0):(hs=1,ms(jt))}function zt(){for(var t=Date.now(),e=fs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ut(){for(var t,e=fs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:fs=e.n;return ps=t,n}function Ft(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Bt(t,e){var n=Math.pow(10,3*Ma(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function qt(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,i=r&&n?function(t,e){for(var o=t.length,i=[],a=0,s=r[0],u=0;o>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),i.push(t.substring(o-=s,o+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:E;return function(t){var n=vs.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],p=n[8],h=n[9],d=1,m="",y="",v=!1,g=!0;switch(p&&(p=+p.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),h){case"n":f=!0,h="g";break;case"%":d=100,y="%",h="f";break;case"p":d=100,y="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+h.toLowerCase());case"c":g=!1;case"d":v=!0,p=0;break;case"s":d=-1,h="r"}"$"===u&&(m=o[0],y=o[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):"e"!=h&&"f"!=h||(p=Math.max(0,Math.min(20,p)))),h=gs.get(h)||Vt;var _=l&&f;return function(t){var n=y;if(v&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(d<0){var u=ha.formatPrefix(t,p);t=u.scale(t),n=u.symbol+y}else t*=d;t=h(t,p);var b,x,w=t.lastIndexOf(".");if(w<0){var E=g?t.lastIndexOf("e"):-1;E<0?(b=t,x=""):(b=t.substring(0,E),x=t.substring(E))}else b=t.substring(0,w),x=e+t.substring(w+1);!l&&f&&(b=i(b,1/0));var S=m.length+b.length+x.length+(_?0:o.length),M=S<c?new Array(S=c-S+1).join(r):"";return _&&(b=i(M+b,M.length?c-x.length:1/0)),o+=m,t=b+x,("<"===a?o+t+M:">"===a?M+o+t:"^"===a?M.substring(0,S>>=1)+o+t+M.substring(S):o+(_?t:M+t))+n}}}function Vt(t){return t+""}function Ht(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Wt(t,e,n){function r(e){var n=t(e),r=i(n,1);return e-n<r-e?n:r}function o(n){return e(n=t(new bs(n-1)),1),n}function i(t,n){return e(t=new bs((+t)),n),t}function a(t,r,i){var a=o(t),s=[];if(i>1)for(;a<r;)n(a)%i||s.push(new Date((+a))),e(a,1);else for(;a<r;)s.push(new Date((+a))),e(a,1);return s}function s(t,e,n){try{bs=Ht;var r=new Ht;return r._=t,a(r,e,n)}finally{bs=Date}}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var u=t.utc=Gt(t);return u.floor=u,u.round=Gt(r),u.ceil=Gt(o),u.offset=Gt(i),u.range=s,t}function Gt(t){return function(e,n){try{bs=Ht;var r=new Ht;return r._=e,t(r,n)._}finally{bs=Date}}}function Kt(t){function e(t){function e(e){for(var n,o,i,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(o=ws[n=t.charAt(++s)])&&(n=t.charAt(++s)),(i=k[n])&&(n=i(e,null==o?"e"===n?" ":"0":o)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(r,t,e,0);if(o!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&bs!==Ht,a=new(i?Ht:bs);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var o,i,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(o=e.charCodeAt(s++),37===o){if(a=e.charAt(s++),i=P[a in ws?e.charAt(s++):a],!i||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,k.c.toString(),e,r)}function u(t,e,r){return n(t,k.x.toString(),e,r)}function l(t,e,r){return n(t,k.X.toString(),e,r)}function c(t,e,n){var r=_.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,p=t.date,h=t.time,d=t.periods,m=t.days,y=t.shortDays,v=t.months,g=t.shortMonths;e.utc=function(t){function n(t){try{bs=Ht;var e=new bs;return e._=t,r(e)}finally{bs=Date}}var r=e(t);return n.parse=function(t){
try{bs=Ht;var e=r.parse(t);return e&&e._}finally{bs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=he;var _=ha.map(),b=Xt(m),x=Yt(m),w=Xt(y),E=Yt(y),S=Xt(v),M=Yt(v),T=Xt(g),C=Yt(g);d.forEach(function(t,e){_.set(t.toLowerCase(),e)});var k={a:function(t){return y[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return g[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return Zt(t.getDate(),e,2)},e:function(t,e){return Zt(t.getDate(),e,2)},H:function(t,e){return Zt(t.getHours(),e,2)},I:function(t,e){return Zt(t.getHours()%12||12,e,2)},j:function(t,e){return Zt(1+_s.dayOfYear(t),e,3)},L:function(t,e){return Zt(t.getMilliseconds(),e,3)},m:function(t,e){return Zt(t.getMonth()+1,e,2)},M:function(t,e){return Zt(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return Zt(t.getSeconds(),e,2)},U:function(t,e){return Zt(_s.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Zt(_s.mondayOfYear(t),e,2)},x:e(p),X:e(h),y:function(t,e){return Zt(t.getFullYear()%100,e,2)},Y:function(t,e){return Zt(t.getFullYear()%1e4,e,4)},Z:fe,"%":function(){return"%"}},P={a:r,A:o,b:i,B:a,c:s,d:ie,e:ie,H:se,I:se,j:ae,L:ce,m:oe,M:ue,p:c,S:le,U:$t,w:Jt,W:Qt,x:u,X:l,y:ee,Y:te,Z:ne,"%":pe};return e}function Zt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Xt(t){return new RegExp("^(?:"+t.map(ha.requote).join("|")+")","i")}function Yt(t){for(var e=new d,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Jt(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $t(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qt(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function te(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ee(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+2));return r?(t.y=re(+r[0]),n+r[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function re(t){return t+(t>68?1900:2e3)}function oe(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ie(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ae(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function se(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ue(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function le(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ce(t,e,n){Es.lastIndex=0;var r=Es.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=Ma(e)/60|0,o=Ma(e)%60;return n+Zt(r,"0",2)+Zt(o,"0",2)}function pe(t,e,n){Ss.lastIndex=0;var r=Ss.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function he(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function de(){}function me(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function ye(t,e){t&&ks.hasOwnProperty(t.type)&&ks[t.type](t,e)}function ve(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function ge(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ve(t[n],e,1);e.polygonEnd()}function _e(){function t(t,e){t*=Za,e=e*Za/2+Ha/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=i*l,f=o*u+c*Math.cos(s),p=c*a*Math.sin(s);As.add(Math.atan2(p,f)),r=t,o=u,i=l}var e,n,r,o,i;Rs.point=function(a,s){Rs.point=t,r=(e=a)*Za,o=Math.cos(s=(n=s)*Za/2+Ha/4),i=Math.sin(s)},Rs.lineEnd=function(){t(e,n)}}function be(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function xe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function we(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ee(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Se(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Me(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){return[Math.atan2(t[1],t[0]),at(t[2])]}function Ce(t,e){return Ma(t[0]-e[0])<qa&&Ma(t[1]-e[1])<qa}function ke(t,e){t*=Za;var n=Math.cos(e*=Za);Pe(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Pe(t,e,n){++Os,Ls+=(t-Ls)/Os,Ns+=(e-Ns)/Os,Ds+=(n-Ds)/Os}function Ae(){function t(t,o){t*=Za;var i=Math.cos(o*=Za),a=i*Math.cos(t),s=i*Math.sin(t),u=Math.sin(o),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);Is+=l,js+=l*(e+(e=a)),zs+=l*(n+(n=s)),Us+=l*(r+(r=u)),Pe(e,n,r)}var e,n,r;Vs.point=function(o,i){o*=Za;var a=Math.cos(i*=Za);e=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Vs.point=t,Pe(e,n,r)}}function Re(){Vs.point=ke}function Oe(){function t(t,e){t*=Za;var n=Math.cos(e*=Za),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=o*u-i*s,c=i*a-r*u,f=r*s-o*a,p=Math.sqrt(l*l+c*c+f*f),h=r*a+o*s+i*u,d=p&&-it(h)/p,m=Math.atan2(p,h);Fs+=d*l,Bs+=d*c,qs+=d*f,Is+=m,js+=m*(r+(r=a)),zs+=m*(o+(o=s)),Us+=m*(i+(i=u)),Pe(r,o,i)}var e,n,r,o,i;Vs.point=function(a,s){e=a,n=s,Vs.point=t,a*=Za;var u=Math.cos(s*=Za);r=u*Math.cos(a),o=u*Math.sin(a),i=Math.sin(s),Pe(r,o,i)},Vs.lineEnd=function(){t(e,n),Vs.lineEnd=Re,Vs.point=ke}}function Ie(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Le(){return!0}function Ne(t,e,n,r,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ce(n,r)){o.lineStart();for(var s=0;s<e;++s)o.point((n=t[s])[0],n[1]);return void o.lineEnd()}var u=new je(n,t,null,(!0)),l=new je(n,null,u,(!1));u.o=l,i.push(u),a.push(l),u=new je(r,t,null,(!1)),l=new je(r,null,u,(!0)),u.o=l,i.push(u),a.push(l)}}),a.sort(e),De(i),De(a),i.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,f,p=i[0];;){for(var h=p,d=!0;h.v;)if((h=h.n)===p)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,l=c.length;s<l;++s)o.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((f=c[s])[0],f[1])}else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);o.lineEnd()}}}function De(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function je(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ze(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function s(t,e){var n=o(t,e);y.point(n[0],n[1])}function u(){g.point=s,y.lineStart()}function l(){g.point=a,y.lineEnd()}function c(t,e){m.push([t,e]);var n=o(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),m=[]}function p(){c(m[0][0],m[0][1]),b.lineEnd();var t,e=b.clean(),n=_.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&e){t=n[0];var o,r=t.length-1,a=-1;if(r>0){for(x||(i.polygonStart(),x=!0),i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ue))}var h,d,m,y=e(i),v=o.invert(r[0],r[1]),g={point:a,lineStart:u,lineEnd:l,polygonStart:function(){g.point=c,g.lineStart=f,g.lineEnd=p,h=[],d=[]},polygonEnd:function(){g.point=a,g.lineStart=u,g.lineEnd=l,h=ha.merge(h);var t=We(v,d);h.length?(x||(i.polygonStart(),x=!0),Ne(h,Be,t,n,i)):t&&(x||(i.polygonStart(),x=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),x&&(i.polygonEnd(),x=!1),h=d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},_=Fe(),b=e(_),x=!1;return g}}function Ue(t){return t.length>1}function Fe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:T,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Be(t,e){return((t=t.x)[0]<0?t[1]-Ka-qa:Ka-t[1])-((e=e.x)[0]<0?e[1]-Ka-qa:Ka-e[1])}function qe(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var s=i>0?Ha:-Ha,u=Ma(i-n);Ma(u-Ha)<qa?(t.point(n,r=(r+a)/2>0?Ka:-Ka),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(i,r),e=0):o!==s&&u>=Ha&&(Ma(n-o)<qa&&(n-=o*qa),Ma(i-s)<qa&&(i-=s*qa),r=Ve(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=i,r=a),o=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Ve(t,e,n,r){var o,i,a=Math.sin(t-n);return Ma(a)>qa?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}function He(t,e,n,r){var o;if(null==t)o=n*Ka,r.point(-Ha,o),r.point(0,o),r.point(Ha,o),r.point(Ha,0),r.point(Ha,-o),r.point(0,-o),r.point(-Ha,-o),r.point(-Ha,0),r.point(-Ha,o);else if(Ma(t[0]-e[0])>qa){var i=t[0]<e[0]?Ha:-Ha;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function We(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;As.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],p=f[0],h=f[1]/2+Ha/4,d=Math.sin(h),m=Math.cos(h),y=1;;){y===c&&(y=0),t=l[y];var v=t[0],g=t[1]/2+Ha/4,_=Math.sin(g),b=Math.cos(g),x=v-p,w=x>=0?1:-1,E=w*x,S=E>Ha,M=d*_;if(As.add(Math.atan2(M*w*Math.sin(E),m*b+M*Math.cos(E))),i+=S?x+w*Wa:x,S^p>=n^v>=n){var T=we(be(f),be(t));Me(T);var C=we(o,T);Me(C);var k=(S^x>=0?-1:1)*at(C[2]);(r>k||r===k&&(T[0]||T[1]))&&(a+=S^x>=0?1:-1)}if(!y++)break;p=v,d=_,m=b,f=t}}return(i<-qa||i<qa&&As<-qa)^1&a}function Ge(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,i,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,p){var h,d=[f,p],m=e(f,p),y=a?m?0:o(f,p):m?o(f+(f<0?Ha:-Ha),p):0;if(!n&&(l=u=m)&&t.lineStart(),m!==u&&(h=r(n,d),(Ce(n,h)||Ce(d,h))&&(d[0]+=qa,d[1]+=qa,m=e(d[0],d[1]))),m!==u)c=0,m?(t.lineStart(),h=r(d,n),t.point(h[0],h[1])):(h=r(n,d),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&a^m){var v;y&i||!(v=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&Ce(n,d)||t.point(d[0],d[1]),n=d,u=m,i=y},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=be(t),o=be(e),a=[1,0,0],s=we(r,o),u=xe(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var f=i*u/c,p=-i*l/c,h=we(a,s),d=Se(a,f),m=Se(s,p);Ee(d,m);var y=h,v=xe(d,y),g=xe(y,y),_=v*v-g*(xe(d,d)-1);if(!(_<0)){var b=Math.sqrt(_),x=Se(y,(-v-b)/g);if(Ee(x,d),x=Te(x),!n)return x;var w,E=t[0],S=e[0],M=t[1],T=e[1];S<E&&(w=E,E=S,S=w);var C=S-E,k=Ma(C-Ha)<qa,P=k||C<qa;if(!k&&T<M&&(w=M,M=T,T=w),P?k?M+T>0^x[1]<(Ma(x[0]-E)<qa?M:T):M<=x[1]&&x[1]<=T:C>Ha^(E<=x[0]&&x[0]<=S)){var A=Se(y,(-v+b)/g);return Ee(A,d),[x,Te(A)]}}}function o(e,n){var r=a?t:Ha-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var i=Math.cos(t),a=i>0,s=Ma(i)>qa,u=bn(t,6*Za);return ze(e,n,u,a?[0,-t]:[-Ha,t-Ha])}function Ke(t,e,n,r){return function(o){var i,a=o.a,s=o.b,u=a.x,l=a.y,c=s.x,f=s.y,p=0,h=1,d=c-u,m=f-l;if(i=t-u,d||!(i>0)){if(i/=d,d<0){if(i<p)return;i<h&&(h=i)}else if(d>0){if(i>h)return;i>p&&(p=i)}if(i=n-u,d||!(i<0)){if(i/=d,d<0){if(i>h)return;i>p&&(p=i)}else if(d>0){if(i<p)return;i<h&&(h=i)}if(i=e-l,m||!(i>0)){if(i/=m,m<0){if(i<p)return;i<h&&(h=i)}else if(m>0){if(i>h)return;i>p&&(p=i)}if(i=r-l,m||!(i<0)){if(i/=m,m<0){if(i>h)return;i>p&&(p=i)}else if(m>0){if(i<p)return;i<h&&(h=i)}return p>0&&(o.a={x:u+p*d,y:l+p*m}),h<1&&(o.b={x:u+h*d,y:l+h*m}),o}}}}}}function Ze(t,e,n,r){function o(r,o){return Ma(r[0]-t)<qa?o>0?0:3:Ma(r[0]-n)<qa?o>0?2:1:Ma(r[1]-e)<qa?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=y.length,r=t[1],o=0;o<n;++o)for(var i,a=1,s=y[o],u=s.length,l=s[0];a<u;++a)i=s[a],l[1]<=r?i[1]>r&&ot(l,i,t)>0&&++e:i[1]<=r&&ot(l,i,t)<0&&--e,l=i;return 0!==e}function l(i,s,u,l){var c=0,f=0;if(null==i||(c=o(i,u))!==(f=o(s,u))||a(i,s)<0^u>0)do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==f);else l.point(s[0],s[1])}function c(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function f(t,e){c(t,e)&&s.point(t,e)}function p(){P.point=d,y&&y.push(v=[]),S=!0,E=!1,x=w=NaN}function h(){m&&(d(g,_),b&&E&&C.rejoin(),m.push(C.buffer())),P.point=f,E&&s.lineEnd()}function d(t,e){t=Math.max(-Ws,Math.min(Ws,t)),e=Math.max(-Ws,Math.min(Ws,e));var n=c(t,e);if(y&&v.push([t,e]),S)g=t,_=e,b=n,S=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&E)s.point(t,e);else{var r={a:{x:x,y:w},b:{x:t,y:e}};k(r)?(E||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),M=!1):n&&(s.lineStart(),s.point(t,e),M=!1)}x=t,w=e,E=n}var m,y,v,g,_,b,x,w,E,S,M,T=s,C=Fe(),k=Ke(t,e,n,r),P={point:f,lineStart:p,lineEnd:h,polygonStart:function(){s=C,m=[],y=[],M=!0},polygonEnd:function(){s=T,m=ha.merge(m);var e=u([t,r]),n=M&&e,o=m.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),o&&Ne(m,i,e,l,s),s.polygonEnd()),m=y=v=null}};return P}}function Xe(t){var e=0,n=Ha/3,r=pn(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Ha/180,n=t[1]*Ha/180):[e/Ha*180,n/Ha*180]},o}function Ye(t,e){function n(t,e){var n=Math.sqrt(i-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,at((i-(t*t+n*n)*o*o)/(2*o))]},n}function Je(){function t(t,e){Ks+=o*t-r*e,r=t,o=e}var e,n,r,o;$s.point=function(i,a){$s.point=t,e=r=i,n=o=a},$s.lineEnd=function(){t(e,n)}}function $e(t,e){t<Zs&&(Zs=t),t>Ys&&(Ys=t),e<Xs&&(Xs=e),e>Js&&(Js=e)}function Qe(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function o(){a.push("Z")}var i=tn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return i=tn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){Ls+=t,Ns+=e,++Ds}function nn(){function t(t,r){var o=t-e,i=r-n,a=Math.sqrt(o*o+i*i);js+=a*(e+t)/2,zs+=a*(n+r)/2,Us+=a,en(e=t,n=r)}var e,n;tu.point=function(r,o){tu.point=t,en(e=r,n=o)}}function rn(){tu.point=en}function on(){function t(t,e){var n=t-r,i=e-o,a=Math.sqrt(n*n+i*i);js+=a*(r+t)/2,zs+=a*(o+e)/2,Us+=a,a=o*t-r*e,Fs+=a*(r+t),Bs+=a*(o+e),qs+=3*a,en(r=t,o=e)}var e,n,r,o;tu.point=function(i,a){tu.point=t,en(e=r=i,n=o=a)},tu.lineEnd=function(){t(e,n)}}function an(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Wa)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function o(){s.point=e}function i(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:T};return s}function sn(t){function e(t){return(s?r:n)(t)}function n(e){return cn(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){_=NaN,S.point=i,e.lineStart()}function i(n,r){var i=be([n,r]),a=t(n,r);o(_,b,g,x,w,E,_=a[0],b=a[1],g=n,x=i[0],w=i[1],E=i[2],s,e),e.point(_,b)}function a(){S.point=n,e.lineEnd()}function u(){r(),S.point=l,S.lineEnd=c}function l(t,e){i(f=t,p=e),h=_,d=b,m=x,y=w,v=E,S.point=i}function c(){o(_,b,g,x,w,E,h,d,f,m,y,v,s,e),S.lineEnd=a,a()}var f,p,h,d,m,y,v,g,_,b,x,w,E,S={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),S.lineStart=u},polygonEnd:function(){e.polygonEnd(),S.lineStart=r}};return S}function o(e,n,r,s,u,l,c,f,p,h,d,m,y,v){var g=c-e,_=f-n,b=g*g+_*_;if(b>4*i&&y--){var x=s+h,w=u+d,E=l+m,S=Math.sqrt(x*x+w*w+E*E),M=Math.asin(E/=S),T=Ma(Ma(E)-1)<qa||Ma(r-p)<qa?(r+p)/2:Math.atan2(w,x),C=t(T,M),k=C[0],P=C[1],A=k-e,R=P-n,O=_*A-g*R;(O*O/b>i||Ma((g*A+_*R)/b-.5)>.3||s*h+u*d+l*m<a)&&(o(e,n,r,s,u,l,k,P,T,x/=S,w/=S,E,y,v),v.point(k,P),o(k,P,T,x,w,E,c,f,p,h,d,m,y,v))}}var i=.5,a=Math.cos(30*Za),s=16;return e.precision=function(t){return arguments.length?(s=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function un(t){var e=sn(function(e,n){return t([e*Xa,n*Xa])});return function(t){return hn(e(t))}}function ln(t){this.stream=t}function cn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function fn(t){return pn(function(){return t})()}function pn(t){function e(t){return t=s(t[0]*Za,t[1]*Za),[t[0]*p+u,l-t[1]*p]}function n(t){return t=s.invert((t[0]-u)/p,(l-t[1])/p),t&&[t[0]*Xa,t[1]*Xa]}function r(){s=Ie(a=yn(v,g,_),i);var t=i(m,y);return u=h-t[0]*p,l=d+t[1]*p,o()}function o(){return c&&(c.valid=!1,c=null),e}var i,a,s,u,l,c,f=sn(function(t,e){return t=i(t,e),[t[0]*p+u,l-t[1]*p]}),p=150,h=480,d=250,m=0,y=0,v=0,g=0,_=0,b=Hs,x=E,w=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),c=hn(b(a,f(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Hs):Ge((w=+t)*Za),o()):w},e.clipExtent=function(t){return arguments.length?(S=t,x=t?Ze(t[0][0],t[0][1],t[1][0],t[1][1]):E,o()):S},e.scale=function(t){return arguments.length?(p=+t,r()):p},e.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],r()):[h,d]},e.center=function(t){return arguments.length?(m=t[0]%360*Za,y=t[1]%360*Za,r()):[m*Xa,y*Xa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Za,g=t[1]%360*Za,_=t.length>2?t[2]%360*Za:0,r()):[v*Xa,g*Xa,_*Xa]},ha.rebind(e,f,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function hn(t){return cn(t,function(e,n){t.point(e*Za,n*Za)})}function dn(t,e){return[t,e]}function mn(t,e){return[t>Ha?t-Wa:t<-Ha?t+Wa:t,e]}function yn(t,e,n){return t?e||n?Ie(gn(t),_n(e,n)):gn(t):e||n?_n(e,n):mn}function vn(t){return function(e,n){return e+=t,[e>Ha?e-Wa:e<-Ha?e+Wa:e,n]}}function gn(t){var e=vn(t);return e.invert=vn(-t),e}function _n(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*o;return[Math.atan2(u*i-c*a,s*r-l*o),at(c*i+u*a)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*r+c*o),at(c*r-s*o)]},n}function bn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,s){var u=a*e;null!=o?(o=xn(n,o),i=xn(n,i),(a>0?o<i:o>i)&&(o+=a*Wa)):(o=t+a*Wa,i=t-.5*u);for(var l,c=o;a>0?c>i:c<i;c-=u)s.point((l=Te([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function xn(t,e){var n=be(e);n[0]-=t,Me(n);var r=it(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-qa)%(2*Math.PI)}function wn(t,e,n){var r=ha.range(t,e-qa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function En(t,e,n){var r=ha.range(t,e-qa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Sn(t){return t.source}function Mn(t){return t.target}function Tn(t,e,n,r){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=o*Math.cos(t),l=o*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),p=2*Math.asin(Math.sqrt(ct(r-e)+o*a*ct(n-t))),h=1/Math.sin(p),d=p?function(t){var e=Math.sin(t*=p)*h,n=Math.sin(p-t)*h,r=n*u+e*c,o=n*l+e*f,a=n*i+e*s;return[Math.atan2(o,r)*Xa,Math.atan2(a,Math.sqrt(r*r+o*o))*Xa]}:function(){return[t*Xa,e*Xa]};return d.distance=p,d}function Cn(){function t(t,o){var i=Math.sin(o*=Za),a=Math.cos(o),s=Ma((t*=Za)-e),u=Math.cos(s);eu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*u)*s),n*i+r*a*u),e=t,n=i,r=a}var e,n,r;nu.point=function(o,i){e=o*Za,n=Math.sin(i*=Za),r=Math.cos(i),nu.point=t},nu.lineEnd=function(){nu.point=nu.lineEnd=T}}function kn(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}function Pn(t,e){function n(t,e){a>0?e<-Ka+qa&&(e=-Ka+qa):e>Ka-qa&&(e=Ka-qa);var n=a/Math.pow(o(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan(Ha/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(o(e)/o(t)),a=r*Math.pow(o(t),i)/i;return i?(n.invert=function(t,e){var n=a-e,r=rt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Ka]},n):Rn}function An(t,e){function n(t,e){var n=i-e;return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),o=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/o+t;return Ma(o)<qa?dn:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/o,i-rt(o)*Math.sqrt(t*t+n*n)]},n)}function Rn(t,e){return[t,Math.log(Math.tan(Ha/4+e/2))]}function On(t){var e,n=fn(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var s=Ha*r(),u=o();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function In(t,e){return[Math.log(Math.tan(Ha/4+e/2)),-t]}function Ln(t){return t[0]}function Nn(t){return t[1]}function Dn(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;o++){for(;r>1&&ot(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function jn(t,e){return t[0]-e[0]||t[1]-e[1]}function zn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Un(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,s=r[0]-i,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,p=(s*(u-l)-f*(o-i))/(f*a-s*c);return[o+p*a,u+p*c]}function Fn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Bn(){ur(this),this.edge=this.site=this.circle=null}function qn(t){var e=du.pop()||new Bn;return e.site=t,e}function Vn(t){Qn(t),fu.remove(t),du.push(t),ur(t)}function Hn(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,s=[t];Vn(t);for(var u=i;u.circle&&Ma(n-u.circle.x)<qa&&Ma(r-u.circle.cy)<qa;)i=u.P,s.unshift(u),Vn(u),u=i;s.unshift(u),Qn(u);for(var l=a;l.circle&&Ma(n-l.circle.x)<qa&&Ma(r-l.circle.cy)<qa;)a=l.N,s.push(l),Vn(l),l=a;s.push(l),Qn(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],ir(l.edge,u.site,l.site,o);u=s[0],l=s[f-1],l.edge=rr(u.site,l.site,null,o),$n(u),$n(l)}function Wn(t){for(var e,n,r,o,i=t.x,a=t.y,s=fu._;s;)if(r=Gn(s,a)-i,r>qa)s=s.L;else{if(o=i-Kn(s,a),!(o>qa)){r>-qa?(e=s.P,n=s):o>-qa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=qn(t);if(fu.insert(e,u),e||n){if(e===n)return Qn(e),n=qn(e.site),fu.insert(u,n),u.edge=n.edge=rr(e.site,u.site),$n(e),void $n(n);if(!n)return void(u.edge=rr(e.site,u.site));Qn(e),Qn(n);var l=e.site,c=l.x,f=l.y,p=t.x-c,h=t.y-f,d=n.site,m=d.x-c,y=d.y-f,v=2*(p*y-h*m),g=p*p+h*h,_=m*m+y*y,b={x:(y*g-h*_)/v+c,y:(p*_-m*g)/v+f};ir(n.edge,l,d,b),u.edge=rr(l,t,null,b),n.edge=rr(t,d,null,b),$n(e),$n(n)}}function Gn(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/i-1/l,p=c/l;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*l)-u+l/2+o-i/2)))/f+r:(r+s)/2}function Kn(t,e){var n=t.N;if(n)return Gn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Zn(t){this.site=t,this.edges=[]}function Xn(t){for(var e,n,r,o,i,a,s,u,l,c,f=t[0][0],p=t[1][0],h=t[0][1],d=t[1][1],m=cu,y=m.length;y--;)if(i=m[y],i&&i.prepare())for(s=i.edges,u=s.length,a=0;a<u;)c=s[a].end(),r=c.x,o=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(Ma(r-e)>qa||Ma(o-n)>qa)&&(s.splice(a,0,new ar(or(i.site,c,Ma(r-f)<qa&&d-o>qa?{x:f,y:Ma(e-f)<qa?n:d}:Ma(o-d)<qa&&p-r>qa?{x:Ma(n-d)<qa?e:p,y:d}:Ma(r-p)<qa&&o-h>qa?{x:p,y:Ma(e-p)<qa?n:h}:Ma(o-h)<qa&&r-f>qa?{x:Ma(n-h)<qa?e:f,y:h}:null),i.site,null)),++u)}function Yn(t,e){return e.angle-t.angle}function Jn(){ur(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,s=o.y,u=r.x-a,l=r.y-s,c=i.x-a,f=i.y-s,p=2*(u*f-l*c);if(!(p>=-Va)){var h=u*u+l*l,d=c*c+f*f,m=(f*h-l*d)/p,y=(u*d-c*h)/p,f=y+s,v=mu.pop()||new Jn;v.arc=t,v.site=o,v.x=m+a,v.y=f+Math.sqrt(m*m+y*y),v.cy=f,t.circle=v;for(var g=null,_=hu._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){g=_.P;break}_=_.L}else{if(!_.R){g=_;break}_=_.R}hu.insert(g,v),g||(pu=v)}}}}function Qn(t){var e=t.circle;e&&(e.P||(pu=e.N),hu.remove(e),mu.push(e),ur(e),t.circle=null)}function tr(t){for(var e,n=lu,r=Ke(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)e=n[o],(!er(e,t)||!r(e)||Ma(e.a.x-e.b.x)<qa&&Ma(e.a.y-e.b.y)<qa)&&(e.a=e.b=null,n.splice(o,1))}function er(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,p=c.x,h=c.y,d=f.x,m=f.y,y=(p+d)/2,v=(h+m)/2;if(m===h){if(y<a||y>=s)return;if(p>d){if(i){if(i.y>=l)return}else i={x:y,y:u};n={x:y,y:l}}else{if(i){if(i.y<u)return}else i={x:y,y:l};n={x:y,y:u}}}else if(r=(p-d)/(m-h),o=v-r*y,r<-1||r>1)if(p>d){if(i){if(i.y>=l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else{if(i){if(i.y<u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else if(h<m){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function nr(t,e){this.l=t,this.r=e,this.a=this.b=null}function rr(t,e,n,r){var o=new nr(t,e);return lu.push(o),n&&ir(o,t,e,n),r&&ir(o,e,t,r),cu[t.i].edges.push(new ar(o,t,e)),cu[e.i].edges.push(new ar(o,e,t)),o}function or(t,e,n){var r=new nr(t,null);return r.a=e,r.b=n,lu.push(r),r}function ir(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ar(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function sr(){this._=null}function ur(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function lr(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function fr(t){for(;t.L;)t=t.L;return t}function pr(t,e){var n,r,o,i=t.sort(hr).pop();for(lu=[],cu=new Array(t.length),fu=new sr,hu=new sr;;)if(o=pu,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(cu[i.i]=new Zn(i),Wn(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;Hn(o.arc)}e&&(tr(e),Xn(e));var a={cells:cu,edges:lu};return fu=hu=lu=cu=null,a}function hr(t,e){return e.y-t.y||e.x-t.x}function dr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function mr(t){return t.x}function yr(t){return t.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(t,e,n,r,o,i){if(!t(e,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),u=e.nodes;u[0]&&gr(t,u[0],n,r,a,s),u[1]&&gr(t,u[1],a,r,o,s),u[2]&&gr(t,u[2],n,s,a,i),u[3]&&gr(t,u[3],a,s,o,i)}}function _r(t,e,n,r,o,i,a){var s,u=1/0;return function t(l,c,f,p,h){if(!(c>i||f>a||p<r||h<o)){if(d=l.point){var d,m=e-l.x,y=n-l.y,v=m*m+y*y;if(v<u){var g=Math.sqrt(u=v);r=e-g,o=n-g,i=e+g,a=n+g,s=d}}for(var _=l.nodes,b=.5*(c+p),x=.5*(f+h),w=e>=b,E=n>=x,S=E<<1|w,M=S+4;S<M;++S)if(l=_[3&S])switch(3&S){case 0:t(l,c,f,b,x);break;case 1:t(l,b,f,p,x);break;case 2:t(l,c,x,b,h);break;case 3:t(l,b,x,p,h)}}}(t,r,o,i,a),s}function br(t,e){t=ha.rgb(t),e=ha.rgb(e);var n=t.r,r=t.g,o=t.b,i=e.r-n,a=e.g-r,s=e.b-o;return function(t){return"#"+Mt(Math.round(n+i*t))+Mt(Math.round(r+a*t))+Mt(Math.round(o+s*t))}}function xr(t,e){var n,r={},o={};for(n in t)n in e?r[n]=Sr(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function wr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Er(t,e){var n,r,o,i=vu.lastIndex=gu.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=vu.exec(t))&&(r=gu.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:wr(n,r)})),i=gu.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Sr(t,e){for(var n,r=ha.interpolators.length;--r>=0&&!(n=ha.interpolators[r](t,e)););return n}function Mr(t,e){var n,r=[],o=[],i=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Sr(t[n],e[n]));for(;n<i;++n)o[n]=t[n];for(;n<a;++n)o[n]=e[n];return function(t){for(n=0;n<s;++n)o[n]=r[n](t);return o}}function Tr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Cr(t){return function(e){return 1-t(1-e)}}function kr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Pr(t){return t*t}function Ar(t){return t*t*t}function Rr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Or(t){return function(e){return Math.pow(e,t)}}function Ir(t){return 1-Math.cos(t*Ka)}function Lr(t){return Math.pow(2,10*(t-1))}function Nr(t){return 1-Math.sqrt(1-t*t)}function Dr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Wa*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Wa/e)}}function jr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function zr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ur(t,e){t=ha.hcl(t),e=ha.hcl(e);var n=t.h,r=t.c,o=t.l,i=e.h-n,a=e.c-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return mt(n+i*t,r+a*t,o+s*t)+""}}function Fr(t,e){t=ha.hsl(t),e=ha.hsl(e);var n=t.h,r=t.s,o=t.l,i=e.h-n,a=e.s-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return ht(n+i*t,r+a*t,o+s*t)+""}}function Br(t,e){t=ha.lab(t),e=ha.lab(e);var n=t.l,r=t.a,o=t.b,i=e.l-n,a=e.a-r,s=e.b-o;return function(t){return vt(n+i*t,r+a*t,o+s*t)+""}}function qr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Vr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Wr(e),o=Hr(e,n),i=Wr(Gr(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Xa,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Xa:0}function Hr(t,e){return t[0]*e[0]+t[1]*e[1]}function Wr(t){var e=Math.sqrt(Hr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Gr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Kr(t){return t.length?t.pop()+",":""}function Zr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:wr(t[0],e[0])},{i:o-2,x:wr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Xr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Kr(n)+"rotate(",null,")")-2,x:wr(t,e)})):e&&n.push(Kr(n)+"rotate("+e+")")}function Yr(t,e,n,r){t!==e?r.push({i:n.push(Kr(n)+"skewX(",null,")")-2,x:wr(t,e)}):e&&n.push(Kr(n)+"skewX("+e+")")}function Jr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(Kr(n)+"scale(",null,",",null,")");r.push({i:o-4,x:wr(t[0],e[0])},{i:o-2,x:wr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Kr(n)+"scale("+e+")")}function $r(t,e){var n=[],r=[];return t=ha.transform(t),e=ha.transform(e),Zr(t.translate,e.translate,n,r),Xr(t.rotate,e.rotate,n,r),Yr(t.skew,e.skew,n,r),Jr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,o=-1,i=r.length;++o<i;)n[(e=r[o]).i]=e.x(t);return n.join("")}}function Qr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function to(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function eo(t){for(var e=t.source,n=t.target,r=ro(e,n),o=[e];e!==r;)e=e.parent,
o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function no(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ro(t,e){if(t===e)return t;for(var n=no(t),r=no(e),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function oo(t){t.fixed|=2}function io(t){t.fixed&=-7}function ao(t){t.fixed|=4,t.px=t.x,t.py=t.y}function so(t){t.fixed&=-5}function uo(t,e,n){var r=0,o=0;if(t.charge=0,!t.leaf)for(var i,a=t.nodes,s=a.length,u=-1;++u<s;)i=a[u],null!=i&&(uo(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,o+=l*t.point.y}t.cx=r/t.charge,t.cy=o/t.charge}function lo(t,e){return ha.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=yo,t}function co(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function fo(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(t=r.pop());)e(t)}function po(t){return t.children}function ho(t){return t.value}function mo(t,e){return e.value-t.value}function yo(t){return ha.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function vo(t){return t.x}function go(t){return t.y}function _o(t,e,n){t.y0=e,t.y=n}function bo(t){return ha.range(t.length)}function xo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function wo(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;n<i;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function Eo(t){return t.reduce(So,0)}function So(t,e){return t+e[1]}function Mo(t,e){return To(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function To(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function Co(t){return[ha.min(t),ha.max(t)]}function ko(t,e){return t.value-e.value}function Po(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ao(t,e){t._pack_next=e,e._pack_prev=t}function Ro(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function Oo(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),p=Math.min(t.y-t.r,p),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(l=n.length)){var n,r,o,i,a,s,u,l,c=1/0,f=-(1/0),p=1/0,h=-(1/0);if(n.forEach(Io),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(o=n[1],o.x=o.r,o.y=0,e(o),l>2))for(i=n[2],Do(r,o,i),e(i),Po(r,i),r._pack_prev=i,Po(i,o),o=r._pack_next,a=3;a<l;a++){Do(r,o,i=n[a]);var d=0,m=1,y=1;for(s=o._pack_next;s!==o;s=s._pack_next,m++)if(Ro(s,i)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!Ro(u,i);u=u._pack_prev,y++);d?(m<y||m==y&&o.r<r.r?Ao(r,o=s):Ao(r=u,o),a--):(Po(r,i),o=i,e(i))}var v=(c+f)/2,g=(p+h)/2,_=0;for(a=0;a<l;a++)i=n[a],i.x-=v,i.y-=g,_=Math.max(_,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=_,n.forEach(Lo)}}function Io(t){t._pack_next=t._pack_prev=t}function Lo(t){delete t._pack_next,delete t._pack_prev}function No(t,e,n,r){var o=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,o)for(var i=-1,a=o.length;++i<a;)No(o[i],e,n,r)}function Do(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,s=o*o+i*i;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*o+l*i,n.y=t.y+u*i-l*o}else n.x=t.x+r,n.y=t.y}function jo(t,e){return t.parent==e.parent?1:2}function zo(t){var e=t.children;return e.length?e[0]:t.t}function Uo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Fo(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Bo(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)e=o[i],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function qo(t,e,n){return t.a.parent===e.parent?t.a:n}function Vo(t){return 1+ha.max(t,function(t){return t.y})}function Ho(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Wo(t){var e=t.children;return e&&e.length?Wo(e[0]):t}function Go(t){var e,n=t.children;return n&&(e=n.length)?Go(n[e-1]):t}function Ko(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Zo(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function Xo(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Yo(t){return t.rangeExtent?t.rangeExtent():Xo(t.range())}function Jo(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function $o(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}function Qo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Pu}function ti(t,e,n,r){var o=[],i=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(n(t[a-1],t[a])),i.push(r(e[a-1],e[a]));return function(e){var n=ha.bisect(t,e,1,s)-1;return i[n](o[n](e))}}function ei(t,e,n,r){function o(){var o=Math.min(t.length,e.length)>2?ti:Jo,u=r?to:Qr;return a=o(t,e,u,n),s=o(e,t,u,Sr),i}function i(t){return a(t)}var a,s;return i.invert=function(t){return s(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},i.range=function(t){return arguments.length?(e=t,o()):e},i.rangeRound=function(t){return i.range(t).interpolate(qr)},i.clamp=function(t){return arguments.length?(r=t,o()):r},i.interpolate=function(t){return arguments.length?(n=t,o()):n},i.ticks=function(e){return ii(t,e)},i.tickFormat=function(e,n){return ai(t,e,n)},i.nice=function(e){return ri(t,e),o()},i.copy=function(){return ei(t,e,n,r)},o()}function ni(t,e){return ha.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ri(t,e){return $o(t,Qo(oi(t,e)[2])),$o(t,Qo(oi(t,e)[2])),t}function oi(t,e){null==e&&(e=10);var n=Xo(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ii(t,e){return ha.range.apply(ha,oi(t,e))}function ai(t,e,n){var r=oi(t,e);if(n){var o=vs.exec(n);if(o.shift(),"s"===o[8]){var i=ha.formatPrefix(Math.max(Ma(r[0]),Ma(r[1])));return o[7]||(o[7]="."+si(i.scale(r[2]))),o[8]="f",n=ha.format(o.join("")),function(t){return n(i.scale(t))+i.symbol}}o[7]||(o[7]="."+ui(o[8],r)),n=o.join("")}else n=",."+si(r[2])+"f";return ha.format(n)}function si(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ui(t,e){var n=si(e[2]);return t in Au?Math.abs(n-si(Math.max(Ma(e[0]),Ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function li(t,e,n,r){function o(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(o(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(o)),a):e},a.nice=function(){var e=$o(r.map(o),n?Math:Ou);return t.domain(e),r=e.map(i),a},a.ticks=function(){var t=Xo(r),a=[],s=t[0],u=t[1],l=Math.floor(o(s)),c=Math.ceil(o(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var p=1;p<f;p++)a.push(i(l)*p);a.push(i(l))}else for(a.push(i(l));l++<c;)for(var p=f-1;p>0;p--)a.push(i(l)*p);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Ru;arguments.length<2?n=Ru:"function"!=typeof n&&(n=ha.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/i(Math.round(o(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},a.copy=function(){return li(t.copy(),e,n,r)},ni(a,t)}function ci(t,e,n){function r(e){return t(o(e))}var o=fi(e),i=fi(1/e);return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(o)),r):n},r.ticks=function(t){return ii(n,t)},r.tickFormat=function(t,e){return ai(n,t,e)},r.nice=function(t){return r.domain(ri(n,t))},r.exponent=function(a){return arguments.length?(o=fi(e=a),i=fi(1/e),t.domain(n.map(o)),r):e},r.copy=function(){return ci(t.copy(),e,n)},ni(r,t)}function fi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pi(t,e){function n(n){return i[((o.get(n)||("range"===e.t?o.set(n,t.push(n)):NaN))-1)%i.length]}function r(e,n){return ha.range(t.length).map(function(t){return e+n*t})}var o,i,a;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new d;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,a=0,e={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var u=o[0],l=o[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return i=r(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var u=o[0],l=o[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return i=r(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=o[1]<o[0],c=o[l-0],f=o[1-l],p=(f-c)/(t.length-s+2*u);return i=r(c+p*u,p),l&&i.reverse(),a=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=o[1]<o[0],c=o[l-0],f=o[1-l],p=Math.floor((f-c)/(t.length-s+2*u));return i=r(c+Math.round((f-c-(t.length-s)*p)/2),p),l&&i.reverse(),a=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Xo(e.a[0])},n.copy=function(){return pi(t,e)},n.domain(t)}function hi(t,e){function n(){var n=0,i=e.length;for(o=[];++n<i;)o[n-1]=ha.quantile(t,n/i);return r}function r(t){if(!isNaN(t=+t))return e[ha.bisect(o,t)]}var o;return r.domain=function(e){return arguments.length?(t=e.map(u).filter(l).sort(s),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return o},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?o[n-1]:t[0],n<o.length?o[n]:t[t.length-1]]},r.copy=function(){return hi(t,e)},n()}function di(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(i*(e-t))))]}function o(){return i=n.length/(e-t),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},r.range=function(t){return arguments.length?(n=t,o()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/i+t,[e,e+1/i]},r.copy=function(){return di(t,e,n)},o()}function mi(t,e){function n(n){if(n<=n)return e[ha.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return mi(t,e)},n}function yi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ii(t,e)},e.tickFormat=function(e,n){return ai(t,e,n)},e.copy=function(){return yi(t)},e}function vi(){return 0}function gi(t){return t.innerRadius}function _i(t){return t.outerRadius}function bi(t){return t.startAngle}function xi(t){return t.endAngle}function wi(t){return t&&t.padAngle}function Ei(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Si(t,e,n,r,o){var i=t[0]-e[0],a=t[1]-e[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),u=s*a,l=-s*i,c=t[0]+u,f=t[1]+l,p=e[0]+u,h=e[1]+l,d=(c+p)/2,m=(f+h)/2,y=p-c,v=h-f,g=y*y+v*v,_=n-r,b=c*h-p*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*g-b*b)),w=(b*v-y*x)/g,E=(-b*y-v*x)/g,S=(b*v+y*x)/g,M=(-b*y+v*x)/g,T=w-d,C=E-m,k=S-d,P=M-m;return T*T+C*C>k*k+P*P&&(w=S,E=M),[[w-u,E-l],[w*n/_,E*n/_]]}function Mi(t){function e(e){function a(){l.push("M",i(t(c),s))}for(var u,l=[],c=[],f=-1,p=e.length,h=Rt(n),d=Rt(r);++f<p;)o.call(this,u=e[f],f)?c.push([+h.call(this,u,f),+d.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Ln,r=Nn,o=Le,i=Ti,a=i.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=zu.get(t)||Ti).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ti(t){return t.length>1?t.join("L"):t+"Z"}function Ci(t){return t.join("L")+"Z"}function ki(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function Pi(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function Ai(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Ri(t,e){return t.length<4?Ti(t):t[1]+Li(t.slice(1,-1),Ni(t,e))}function Oi(t,e){return t.length<3?Ci(t):t[0]+Li((t.push(t[0]),t),Ni([t[t.length-2]].concat(t,[t[1]]),e))}function Ii(t,e){return t.length<3?Ti(t):t[0]+Li(t,Ni(t,e))}function Li(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ti(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],u=2),e.length>1){s=e[1],i=t[u],u++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var l=2;l<e.length;l++,u++)i=t[u],s=e[l],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=t[u];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Ni(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],s=1,u=t.length;++s<u;)n=i,i=a,a=t[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Di(t){if(t.length<3)return Ti(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],s=[i,i,i,r[1]],u=[o,",",i,"L",Fi(Bu,a),",",Fi(Bu,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Bi(u,a,s);return t.pop(),u.push("L",r),u.join("")}function ji(t){if(t.length<4)return Ti(t);for(var e,n=[],r=-1,o=t.length,i=[0],a=[0];++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);for(n.push(Fi(Bu,i)+","+Fi(Bu,a)),--r;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),Bi(n,i,a);return n.join("")}function zi(t){for(var e,n,r=-1,o=t.length,i=o+4,a=[],s=[];++r<4;)n=t[r%o],a.push(n[0]),s.push(n[1]);for(e=[Fi(Bu,a),",",Fi(Bu,s)],--r;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Bi(e,a,s);return e.join("")}function Ui(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],s=t[n][0]-i,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],o=l/n,r[0]=e*r[0]+(1-e)*(i+o*s),r[1]=e*r[1]+(1-e)*(a+o*u);return Di(t)}function Fi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Bi(t,e,n){t.push("C",Fi(Uu,e),",",Fi(Uu,n),",",Fi(Fu,e),",",Fi(Fu,n),",",Fi(Bu,e),",",Fi(Bu,n))}function qi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Vi(t){for(var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=qi(o,i);++e<n;)r[e]=(a+(a=qi(o=i,i=t[e+1])))/2;return r[e]=a,r}function Hi(t){for(var e,n,r,o,i=[],a=Vi(t),s=-1,u=t.length-1;++s<u;)e=qi(t[s],t[s+1]),Ma(e)<qa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,o=n*n+r*r,o>9&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=u;)o=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Wi(t){return t.length<3?Ti(t):t[0]+Li(t,Hi(t))}function Gi(t){for(var e,n,r,o=-1,i=t.length;++o<i;)e=t[o],n=e[0],r=e[1]-Ka,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ki(t){function e(e){function u(){m.push("M",s(t(v),f),c,l(t(y.reverse()),f),"Z")}for(var p,h,d,m=[],y=[],v=[],g=-1,_=e.length,b=Rt(n),x=Rt(o),w=n===r?function(){return h}:Rt(r),E=o===i?function(){return d}:Rt(i);++g<_;)a.call(this,p=e[g],g)?(y.push([h=+b.call(this,p,g),d=+x.call(this,p,g)]),v.push([+w.call(this,p,g),+E.call(this,p,g)])):y.length&&(u(),y=[],v=[]);return y.length&&u(),m.length?m.join(""):null}var n=Ln,r=Ln,o=0,i=Nn,a=Le,s=Ti,u=s.key,l=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=zu.get(t)||Ti).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Zi(t){return t.radius}function Xi(t){return[t.x,t.y]}function Yi(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ka;return[n*Math.cos(r),n*Math.sin(r)]}}function Ji(){return 64}function $i(){return"circle"}function Qi(t){var e=Math.sqrt(t/Ha);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ta(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ea(t,e,n){return Aa(t,Zu),t.namespace=e,t.id=n,t}function na(t,e,n,r){var o=t.id,i=t.namespace;return Z(t,"function"==typeof n?function(t,a,s){t[i][o].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[i][o].tween.set(e,n)}))}function ra(t){return null==t&&(t=""),function(){this.textContent=t}}function oa(t){return null==t?"__transition__":"__transition_"+t+"__"}function ia(t,e,n,r,o){function i(t){var e=m.delay;return l.t=e+u,e<=t?a(t-e):void(l.c=a)}function a(n){var o=h.active,i=h[o];i&&(i.timer.c=null,i.timer.t=NaN,--h.count,delete h[o],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var a in h)if(+a<r){var d=h[a];d.timer.c=null,d.timer.t=NaN,--h.count,delete h[a]}l.c=s,Dt(function(){return l.c&&s(n||1)&&(l.c=null,l.t=NaN),1},0,u),h.active=r,m.event&&m.event.start.call(t,t.__data__,e),p=[],m.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)}),f=m.ease,c=m.duration}function s(o){for(var i=o/c,a=f(i),s=p.length;s>0;)p[--s].call(t,a);if(i>=1)return m.event&&m.event.end.call(t,t.__data__,e),--h.count?delete h[r]:delete t[n],1}var u,l,c,f,p,h=t[n]||(t[n]={active:0,count:0}),m=h[r];m||(u=o.time,l=Dt(i,0,u),m=h[r]={tween:new d,time:u,timer:l,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++h.count)}function aa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function sa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ua(t){return t.toISOString()}function la(t,e,n){function r(e){return t(e)}function o(t,n){var r=t[1]-t[0],o=r/n,i=ha.bisect(rl,o);return i==rl.length?[e.year,oi(t.map(function(t){return t/31536e6}),n)[2]]:i?e[o/rl[i-1]<rl[i]/o?i-1:i]:[al,oi(t,n)[2]]}return r.invert=function(e){return ca(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ca)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ca(+n+1),e).length}var i=r.domain(),a=Xo(i),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),r.domain($o(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ca(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ca(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Xo(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],ca(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return la(t.copy(),e,n)},ni(r,t)}function ca(t){return new Date(t)}function fa(t){return JSON.parse(t.responseText)}function pa(t){var e=ya.createRange();return e.selectNode(ya.body),e.createContextualFragment(t.responseText)}var ha={version:"3.5.17"},da=[].slice,ma=function(t){return da.call(t)},ya=this.document;if(ya)try{ma(ya.documentElement.childNodes)[0].nodeType}catch(va){ma=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ya)try{ya.createElement("DIV").style.setProperty("opacity",0,"")}catch(ga){var _a=this.Element.prototype,ba=_a.setAttribute,xa=_a.setAttributeNS,wa=this.CSSStyleDeclaration.prototype,Ea=wa.setProperty;_a.setAttribute=function(t,e){ba.call(this,t,e+"")},_a.setAttributeNS=function(t,e,n){xa.call(this,t,e,n+"")},wa.setProperty=function(t,e,n){Ea.call(this,t,e+"",n)}}ha.ascending=s,ha.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ha.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},ha.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},ha.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},ha.sum=function(t,e){var n,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)l(n=+t[i])&&(r+=n);else for(;++i<o;)l(n=+e.call(t,t[i],i))&&(r+=n);return r},ha.mean=function(t,e){var n,r=0,o=t.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)l(n=u(t[i]))?r+=n:--a;else for(;++i<o;)l(n=u(e.call(t,t[i],i)))?r+=n:--a;if(a)return r/a},ha.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},ha.median=function(t,e){var n,r=[],o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)l(n=u(t[i]))&&r.push(n);else for(;++i<o;)l(n=u(e.call(t,t[i],i)))&&r.push(n);if(r.length)return ha.quantile(r.sort(s),.5)},ha.variance=function(t,e){var n,r,o=t.length,i=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<o;)l(n=u(t[s]))&&(r=n-i,i+=r/++c,a+=r*(n-i));else for(;++s<o;)l(n=u(e.call(t,t[s],s)))&&(r=n-i,i+=r/++c,a+=r*(n-i));if(c>1)return a/(c-1)},ha.deviation=function(){var t=ha.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Sa=c(s);ha.bisectLeft=Sa.left,ha.bisect=ha.bisectRight=Sa.right,ha.bisector=function(t){return c(1===t.length?function(e,n){return s(t(e),n)}:t)},ha.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,i<2&&(e=0));for(var r,o,i=n-e;i;)o=Math.random()*i--|0,r=t[i+e],t[i+e]=t[o+e],t[o+e]=r;return t},ha.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ha.pairs=function(t){for(var e,n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=[e=o,o=t[++n]];return i},ha.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=ha.min(t,f),r=new Array(n);++e<n;)for(var o,i=-1,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r},ha.zip=function(){return ha.transpose(arguments)},ha.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ha.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ha.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ha.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(r=t[o],e=r.length;--e>=0;)n[--a]=r[e];return n};var Ma=Math.abs;ha.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,o=[],i=p(Ma(n)),a=-1;if(t*=i,e*=i,n*=i,n<0)for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},ha.map=function(t,e){var n=new d;if(t instanceof d)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e.call(t,r=t[o],o),r)}else for(var a in t)n.set(a,t[a]);return n};var Ta="__proto__",Ca="\0";h(d,{has:v,get:function(t){return this._[m(t)]},set:function(t,e){return this._[m(t)]=e},remove:g,keys:_,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:y(e),value:this._[e]});return t},size:b,empty:x,forEach:function(t){for(var e in this._)t.call(this,y(e),this._[e])}}),ha.nest=function(){function t(e,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var u,l,c,f,p=-1,h=a.length,m=i[s++],y=new d;++p<h;)(f=y.get(u=m(l=a[p])))?f.push(l):y.set(u,[l]);return e?(l=e(),c=function(n,r){l.set(n,t(e,r,s))}):(l={},c=function(n,r){l[n]=t(e,r,s)}),y.forEach(c),l}function e(t,n){if(n>=i.length)return t;var r=[],o=a[n++];return t.forEach(function(t,o){r.push({key:t,values:e(o,n)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(ha.map,n,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return a[i.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},ha.set=function(t){var e=new w;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},h(w,{has:v,add:function(t){return this._[m(t+="")]=!0,t},remove:g,values:_,size:b,empty:x,forEach:function(t){for(var e in this._)t.call(this,y(e))}}),ha.behavior={},ha.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=S(t,e,e[n]);return t};var ka=["webkit","ms","moz","Moz","o","O"];ha.dispatch=function(){for(var t=new C,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=k(t);return t},C.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ha.event=null,ha.requote=function(t){return t.replace(Pa,"\\$&")};var Pa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Aa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ra=function(t,e){return e.querySelector(t)},Oa=function(t,e){return e.querySelectorAll(t)},Ia=function(t,e){var n=t.matches||t[M(t,"matchesSelector")];return(Ia=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ra=function(t,e){return Sizzle(t,e)[0]||null},Oa=Sizzle,Ia=Sizzle.matchesSelector),ha.selection=function(){return ha.select(ya.documentElement)};var La=ha.selection.prototype=[];La.select=function(t){var e,n,r,o,i=[];t=I(t);for(var a=-1,s=this.length;++a<s;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(o=r[u])?(e.push(n=t.call(o,o.__data__,u,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return O(i)},La.selectAll=function(t){var e,n,r=[];t=L(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=ma(t.call(n,n.__data__,s,o))),e.parentNode=n);return O(r)};var Na="http://www.w3.org/1999/xhtml",Da={svg:"http://www.w3.org/2000/svg",xhtml:Na,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ha.ns={prefix:Da,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Da.hasOwnProperty(n)?{space:Da[n],local:t}:t}},La.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ha.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},La.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=z(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!j(t[o]).test(e))return!1;return!0}for(e in t)this.each(U(e,t[e]));return this}return this.each(U(t,e))},La.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(B(n,t[n],e));return this}if(r<2){var o=this.node();return a(o).getComputedStyle(o,null).getPropertyValue(t)}n=""}return this.each(B(t,e,n))},La.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(q(e,t[e]));return this}return this.each(q(t,e))},La.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},La.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},La.append=function(t){return t=V(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},La.insert=function(t,e){return t=V(t),e=I(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},La.remove=function(){return this.each(H)},La.data=function(t,e){function n(t,n){var r,o,i,a=t.length,c=n.length,f=Math.min(a,c),p=new Array(c),h=new Array(c),m=new Array(a);if(e){var y,v=new d,g=new Array(a);for(r=-1;++r<a;)(o=t[r])&&(v.has(y=e.call(o,o.__data__,r))?m[r]=o:v.set(y,o),g[r]=y);for(r=-1;++r<c;)(o=v.get(y=e.call(n,i=n[r],r)))?o!==!0&&(p[r]=o,o.__data__=i):h[r]=W(i),v.set(y,!0);for(r=-1;++r<a;)r in g&&v.get(g[r])!==!0&&(m[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],i=n[r],o?(o.__data__=i,p[r]=o):h[r]=W(i);for(;r<c;++r)h[r]=W(n[r]);for(;r<a;++r)m[r]=t[r]}h.update=p,h.parentNode=p.parentNode=m.parentNode=t.parentNode,s.push(h),u.push(p),l.push(m)}var r,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(t[i]=o.__data__);return t}var s=X([]),u=O([]),l=O([]);if("function"==typeof t)for(;++i<a;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],t);return u.enter=function(){return s},u.exit=function(){return l},u},La.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},La.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=G(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return O(o)},La.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},La.sort=function(t){t=K.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},La.each=function(t){return Z(this,function(e,n,r){t.call(e,e.__data__,n,r)})},La.call=function(t){var e=ma(arguments);return t.apply(e[0]=this,e),this},La.empty=function(){return!this.node()},La.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},La.size=function(){var t=0;return Z(this,function(){++t}),t};var ja=[];ha.selection.enter=X,ha.selection.enter.prototype=ja,ja.append=La.append,ja.empty=La.empty,ja.node=La.node,ja.call=La.call,ja.size=La.size,ja.select=function(t){for(var e,n,r,o,i,a=[],s=-1,u=this.length;++s<u;){r=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var l=-1,c=o.length;++l<c;)(i=o[l])?(e.push(r[l]=n=t.call(o.parentNode,i.__data__,l,s)),n.__data__=i.__data__):e.push(null)}return O(a)},ja.insert=function(t,e){return arguments.length<2&&(e=Y(this)),La.insert.call(this,t,e)},ha.select=function(t){var e;return"string"==typeof t?(e=[Ra(t,ya)],e.parentNode=ya.documentElement):(e=[t],e.parentNode=i(t)),O([e])},ha.selectAll=function(t){var e;return"string"==typeof t?(e=ma(Oa(t,ya)),e.parentNode=ya.documentElement):(e=ma(t),e.parentNode=null),O([e])},La.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(J(n,t[n],e));
return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(J(t,e,n))};var za=ha.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya&&za.forEach(function(t){"on"+t in ya&&za.remove(t)});var Ua,Fa=0;ha.mouse=function(t){return et(t,A())};var Ba=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ha.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=A().changedTouches),e)for(var r,o=0,i=e.length;o<i;++o)if((r=e[o]).identifier===n)return et(t,r)},ha.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function e(t,e,o,i,a){return function(){function s(){var t,n,r=e(p,m);r&&(t=r[0]-_[0],n=r[1]-_[1],d|=t|n,_=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function u(){e(p,m)&&(v.on(i+y,null).on(a+y,null),g(d),h({type:"dragend"}))}var l,c=this,f=ha.event.target.correspondingElement||ha.event.target,p=c.parentNode,h=n.of(c,arguments),d=0,m=t(),y=".drag"+(null==m?"":"-"+m),v=ha.select(o(f)).on(i+y,s).on(a+y,u),g=tt(f),_=e(p,m);r?(l=r.apply(c,arguments),l=[l.x-_[0],l.y-_[1]]):l=[0,0],h({type:"dragstart"})}}var n=R(t,"drag","dragstart","dragend"),r=null,o=e(T,ha.mouse,a,"mousemove","mouseup"),i=e(nt,ha.touch,E,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ha.rebind(t,n,"on")},ha.touches=function(t,e){return arguments.length<2&&(e=A().touches),e?ma(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var qa=1e-6,Va=qa*qa,Ha=Math.PI,Wa=2*Ha,Ga=Wa-qa,Ka=Ha/2,Za=Ha/180,Xa=180/Ha,Ya=Math.SQRT2,Ja=2,$a=4;ha.interpolateZoom=function(t,e){var n,r,o=t[0],i=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-o,f=u-i,p=c*c+f*f;if(p<Va)r=Math.log(l/a)/Ya,n=function(t){return[o+t*c,i+t*f,a*Math.exp(Ya*t*r)]};else{var h=Math.sqrt(p),d=(l*l-a*a+$a*p)/(2*a*Ja*h),m=(l*l-a*a-$a*p)/(2*l*Ja*h),y=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-y)/Ya,n=function(t){var e=t*r,n=ut(y),s=a/(Ja*h)*(n*lt(Ya*e+y)-st(y));return[o+s*c,i+s*f,a*n/ut(Ya*e+y)]}}return n.duration=1e3*r,n},ha.behavior.zoom=function(){function t(t){t.on(A,f).on(ts+".zoom",h).on("dblclick.zoom",d).on(L,p)}function e(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function n(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function r(t){S.k=Math.max(T[0],Math.min(T[1],t))}function o(t,e){e=n(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function i(e,n,i,a){e.__chart__={x:S.x,y:S.y,k:S.k},r(Math.pow(2,a)),o(y=n,i),e=ha.select(e),C>0&&(e=e.transition().duration(C)),e.call(t.event)}function s(){x&&x.domain(b.range().map(function(t){return(t-S.x)/S.k}).map(b.invert)),E&&E.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function u(t){k++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--k||(t({type:"zoomend"}),y=null)}function f(){function t(){s=1,o(ha.mouse(r),p),l(i)}function n(){f.on(O,null).on(I,null),h(s),c(i)}var r=this,i=N.of(r,arguments),s=0,f=ha.select(a(r)).on(O,t).on(I,n),p=e(ha.mouse(r)),h=tt(r);Ku.call(r),u(i)}function p(){function t(){var t=ha.touches(d);return h=S.k,t.forEach(function(t){t.identifier in y&&(y[t.identifier]=e(t))}),t}function n(){var e=ha.event.target;ha.select(e).on(b,a).on(x,s),w.push(e);for(var n=ha.event.changedTouches,r=0,o=n.length;r<o;++r)y[n[r].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(l-_<500){var c=u[0];i(d,c,y[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),P()}_=l}else if(u.length>1){var c=u[0],f=u[1],p=c[0]-f[0],h=c[1]-f[1];v=p*p+h*h}}function a(){var t,e,n,i,a=ha.touches(d);Ku.call(d);for(var s=0,u=a.length;s<u;++s,i=null)if(n=a[s],i=y[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(f*h)}_=null,o(t,e),l(m)}function s(){if(ha.event.touches.length){for(var e=ha.event.changedTouches,n=0,r=e.length;n<r;++n)delete y[e[n].identifier];for(var o in y)return void t()}ha.selectAll(w).on(g,null),E.on(A,f).on(L,p),M(),c(m)}var h,d=this,m=N.of(d,arguments),y={},v=0,g=".zoom-"+ha.event.changedTouches[0].identifier,b="touchmove"+g,x="touchend"+g,w=[],E=ha.select(d),M=tt(d);n(),u(m),E.on(A,null).on(L,n)}function h(){var t=N.of(this,arguments);g?clearTimeout(g):(Ku.call(this),m=e(y=v||ha.mouse(this)),u(t)),g=setTimeout(function(){g=null,c(t)},50),P(),r(Math.pow(2,.002*Qa())*S.k),o(y,m),l(t)}function d(){var t=ha.mouse(this),n=Math.log(S.k)/Math.LN2;i(this,t,e(t),ha.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,y,v,g,_,b,x,w,E,S={x:0,y:0,k:1},M=[960,500],T=es,C=250,k=0,A="mousedown.zoom",O="mousemove.zoom",I="mouseup.zoom",L="touchstart.zoom",N=R(t,"zoomstart","zoom","zoomend");return ts||(ts="onwheel"in ya?(Qa=function(){return-ha.event.deltaY*(ha.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ya?(Qa=function(){return ha.event.wheelDelta},"mousewheel"):(Qa=function(){return-ha.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=S;Wu?ha.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=M[0],r=M[1],o=y?y[0]:n/2,i=y?y[1]:r/2,a=ha.interpolateZoom([(o-S.x)/S.k,(i-S.y)/S.k,n/S.k],[(o-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=S={x:o-r[0]*s,y:i-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},r(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(T=null==e?es:[+e[0],+e[1]],t):T},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(C=+e,t):C},t.x=function(e){return arguments.length?(x=e,b=e.copy(),S={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(E=e,w=e.copy(),S={x:0,y:0,k:1},t):E},ha.rebind(t,N,"on")};var Qa,ts,es=[0,1/0];ha.color=ft,ft.prototype.toString=function(){return this.rgb()+""},ha.hsl=pt;var ns=pt.prototype=new ft;ns.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new pt(this.h,this.s,this.l/t)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new pt(this.h,this.s,t*this.l)},ns.rgb=function(){return ht(this.h,this.s,this.l)},ha.hcl=dt;var rs=dt.prototype=new ft;rs.brighter=function(t){return new dt(this.h,this.c,Math.min(100,this.l+os*(arguments.length?t:1)))},rs.darker=function(t){return new dt(this.h,this.c,Math.max(0,this.l-os*(arguments.length?t:1)))},rs.rgb=function(){return mt(this.h,this.c,this.l).rgb()},ha.lab=yt;var os=18,is=.95047,as=1,ss=1.08883,us=yt.prototype=new ft;us.brighter=function(t){return new yt(Math.min(100,this.l+os*(arguments.length?t:1)),this.a,this.b)},us.darker=function(t){return new yt(Math.max(0,this.l-os*(arguments.length?t:1)),this.a,this.b)},us.rgb=function(){return vt(this.l,this.a,this.b)},ha.rgb=wt;var ls=wt.prototype=new ft;ls.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&e<o&&(e=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new wt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new wt(o,o,o)},ls.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new wt(t*this.r,t*this.g,t*this.b)},ls.hsl=function(){return Ct(this.r,this.g,this.b)},ls.toString=function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)};var cs=ha.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cs.forEach(function(t,e){cs.set(t,Et(e))}),ha.functor=Rt,ha.xhr=Ot(E),ha.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var a=It(t,e,null==n?r:o(n),i);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:o(t)):n},a}function r(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(o)return o=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(o=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var r=t.charCodeAt(c++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,o,i={},a={},s=[],l=t.length,c=0,f=0;(r=n())!==a;){for(var p=[];r!==i&&r!==a;)p.push(r),r=n();e&&null==(p=e(p,f++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new w,o=[];return e.forEach(function(t){for(var e in t)r.has(e)||o.push(r.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},ha.csv=ha.dsv(",","text/csv"),ha.tsv=ha.dsv("\t","text/tab-separated-values");var fs,ps,hs,ds,ms=this[M(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ha.timer=function(){Dt.apply(this,arguments)},ha.timer.flush=function(){zt(),Ut()},ha.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ys=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Bt);ha.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ha.round(t,Ft(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ys[8+n/3]};var vs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,gs=ha.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ha.round(t,Ft(t,e))).toFixed(Math.max(0,Math.min(20,Ft(t*(1+1e-15),e))))}}),_s=ha.time={},bs=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){xs.setUTCDate.apply(this._,arguments)},setDay:function(){xs.setUTCDay.apply(this._,arguments)},setFullYear:function(){xs.setUTCFullYear.apply(this._,arguments)},setHours:function(){xs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){xs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){xs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){xs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){xs.setUTCSeconds.apply(this._,arguments)},setTime:function(){xs.setTime.apply(this._,arguments)}};var xs=Date.prototype;_s.year=Wt(function(t){return t=_s.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),_s.years=_s.year.range,_s.years.utc=_s.year.utc.range,_s.day=Wt(function(t){var e=new bs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),_s.days=_s.day.range,_s.days.utc=_s.day.utc.range,_s.dayOfYear=function(t){var e=_s.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=_s[t]=Wt(function(t){return(t=_s.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=_s.year(t).getDay();return Math.floor((_s.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});_s[t+"s"]=n.range,_s[t+"s"].utc=n.utc.range,_s[t+"OfYear"]=function(t){var n=_s.year(t).getDay();return Math.floor((_s.dayOfYear(t)+(n+e)%7)/7)}}),_s.week=_s.sunday,_s.weeks=_s.sunday.range,_s.weeks.utc=_s.sunday.utc.range,_s.weekOfYear=_s.sundayOfYear;var ws={"-":"",_:" ",0:"0"},Es=/^\s*\d+/,Ss=/^%/;ha.locale=function(t){return{numberFormat:qt(t),timeFormat:Kt(t)}};var Ms=ha.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ha.format=Ms.numberFormat,ha.geo={},de.prototype={s:0,t:0,add:function(t){me(t,this.t,Ts),me(Ts.s,this.s,this),this.s?this.t+=Ts.t:this.s=Ts.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ts=new de;ha.geo.stream=function(t,e){t&&Cs.hasOwnProperty(t.type)?Cs[t.type](t,e):ye(t,e)};var Cs={Feature:function(t,e){ye(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)ye(n[r].geometry,e)}},ks={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ve(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ve(n[r],e,0)},Polygon:function(t,e){ge(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)ge(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)ye(n[r],e)}};ha.geo.area=function(t){return Ps=0,ha.geo.stream(t,Rs),Ps};var Ps,As=new de,Rs={sphere:function(){Ps+=4*Ha},point:T,lineStart:T,lineEnd:T,polygonStart:function(){As.reset(),Rs.lineStart=_e},polygonEnd:function(){var t=2*As;Ps+=t<0?4*Ha+t:t,Rs.lineStart=Rs.lineEnd=Rs.point=T}};ha.geo.bounds=function(){function t(t,e){_.push(b=[c=t,p=t]),e<f&&(f=e),e>h&&(h=e)}function e(e,n){var r=be([e*Za,n*Za]);if(v){var o=we(v,r),i=[o[1],-o[0],0],a=we(i,o);Me(a),a=Te(a);var u=e-d,l=u>0?1:-1,m=a[0]*Xa*l,y=Ma(u)>180;if(y^(l*d<m&&m<l*e)){var g=a[1]*Xa;g>h&&(h=g)}else if(m=(m+360)%360-180,y^(l*d<m&&m<l*e)){var g=-a[1]*Xa;g<f&&(f=g)}else n<f&&(f=n),n>h&&(h=n);y?e<d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e):p>=c?(e<c&&(c=e),e>p&&(p=e)):e>d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e)}else t(e,n);v=r,d=e}function n(){x.point=e}function r(){b[0]=c,b[1]=p,x.point=t,v=null}function o(t,n){if(v){var r=t-d;g+=Ma(r)>180?r+(r>0?360:-360):r}else m=t,y=n;Rs.point(t,n),e(t,n)}function i(){Rs.lineStart()}function a(){o(m,y),Rs.lineEnd(),Ma(g)>qa&&(c=-(p=180)),b[0]=c,b[1]=p,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,p,h,d,m,y,v,g,_,b,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=o,x.lineStart=i,x.lineEnd=a,g=0,Rs.polygonStart()},polygonEnd:function(){Rs.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,As<0?(c=-(p=180),f=-(h=90)):g>qa?h=90:g<-qa&&(f=-90),b[0]=c,b[1]=p}};return function(t){h=p=-(c=f=1/0),_=[],ha.geo.stream(t,x);var e=_.length;if(e){_.sort(u);for(var n,r=1,o=_[0],i=[o];r<e;++r)n=_[r],l(n[0],o)||l(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,d=-(1/0),e=i.length-1,r=0,o=i[e];r<=e;o=n,++r)n=i[r],(a=s(o[1],n[0]))>d&&(d=a,c=n[0],p=o[1])}return _=b=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[p,h]]}}(),ha.geo.centroid=function(t){Os=Is=Ls=Ns=Ds=js=zs=Us=Fs=Bs=qs=0,ha.geo.stream(t,Vs);var e=Fs,n=Bs,r=qs,o=e*e+n*n+r*r;return o<Va&&(e=js,n=zs,r=Us,Is<qa&&(e=Ls,n=Ns,r=Ds),o=e*e+n*n+r*r,o<Va)?[NaN,NaN]:[Math.atan2(n,e)*Xa,at(r/Math.sqrt(o))*Xa]};var Os,Is,Ls,Ns,Ds,js,zs,Us,Fs,Bs,qs,Vs={sphere:T,point:ke,lineStart:Ae,lineEnd:Re,polygonStart:function(){Vs.lineStart=Oe},polygonEnd:function(){Vs.lineStart=Ae}},Hs=ze(Le,qe,He,[-Ha,-Ha/2]),Ws=1e9;ha.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),o=i(t),o.valid=!0,o},extent:function(s){return arguments.length?(i=Ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ha.geo.conicEqualArea=function(){return Xe(Ye)}).raw=Ye,ha.geo.albers=function(){return ha.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ha.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,n(i,a),e||(r(i,a),e)||o(i,a),e}var e,n,r,o,i=ha.geo.albers(),a=ha.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ha.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var l=i.scale(),c=+e[0],f=+e[1];return n=i.translate(e).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,r=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+qa,f+.12*l+qa],[c-.214*l-qa,f+.234*l-qa]]).stream(u).point,o=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+qa,f+.166*l+qa],[c-.115*l-qa,f+.234*l-qa]]).stream(u).point,t},t.scale(1070)};var Gs,Ks,Zs,Xs,Ys,Js,$s={point:T,lineStart:T,lineEnd:T,polygonStart:function(){Ks=0,$s.lineStart=Je},polygonEnd:function(){$s.lineStart=$s.lineEnd=$s.point=T,Gs+=Ma(Ks/2)}},Qs={point:$e,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},tu={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){tu.lineStart=on},polygonEnd:function(){tu.point=en,tu.lineStart=nn,tu.lineEnd=rn}};ha.geo.path=function(){function t(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),ha.geo.stream(t,a)),i.result()}function e(){return a=null,t}var n,r,o,i,a,s=4.5;return t.area=function(t){return Gs=0,ha.geo.stream(t,o($s)),Gs},t.centroid=function(t){return Ls=Ns=Ds=js=zs=Us=Fs=Bs=qs=0,ha.geo.stream(t,o(tu)),qs?[Fs/qs,Bs/qs]:Us?[js/Us,zs/Us]:Ds?[Ls/Ds,Ns/Ds]:[NaN,NaN]},t.bounds=function(t){return Ys=Js=-(Zs=Xs=1/0),ha.geo.stream(t,o(Qs)),[[Zs,Xs],[Ys,Js]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||un(t):E,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new Qe:new an(t),"function"!=typeof s&&i.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),t):s},t.projection(ha.geo.albersUsa()).context(null)},ha.geo.transform=function(t){return{stream:function(e){var n=new ln(e);for(var r in t)n[r]=t[r];return n}}},ln.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ha.geo.projection=fn,ha.geo.projectionMutator=pn,(ha.geo.equirectangular=function(){return fn(dn)}).raw=dn.invert=dn,ha.geo.rotation=function(t){function e(e){return e=t(e[0]*Za,e[1]*Za),e[0]*=Xa,e[1]*=Xa,e}return t=yn(t[0]%360*Za,t[1]*Za,t.length>2?t[2]*Za:0),e.invert=function(e){return e=t.invert(e[0]*Za,e[1]*Za),e[0]*=Xa,e[1]*=Xa,e},e},mn.invert=dn,ha.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=yn(-t[0]*Za,-t[1]*Za,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Xa,t[1]*=Xa}}),{type:"Polygon",coordinates:[o]}}var e,n,r=[0,0],o=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=bn((e=+r)*Za,o*Za),t):e},t.precision=function(r){return arguments.length?(n=bn(e*Za,(o=+r)*Za),t):o},t.angle(90)},ha.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Za,o=t[1]*Za,i=e[1]*Za,a=Math.sin(r),s=Math.cos(r),u=Math.sin(o),l=Math.cos(o),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},ha.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ha.range(Math.ceil(i/y)*y,o,y).map(p).concat(ha.range(Math.ceil(l/v)*v,u,v).map(h)).concat(ha.range(Math.ceil(r/d)*d,n,d).filter(function(t){return Ma(t%y)>qa}).map(c)).concat(ha.range(Math.ceil(s/m)*m,a,m).filter(function(t){return Ma(t%v)>qa}).map(f))}var n,r,o,i,a,s,u,l,c,f,p,h,d=10,m=d,y=90,v=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(h(u).slice(1),p(o).reverse().slice(1),h(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],l=+e[0][1],u=+e[1][1],i>o&&(e=i,i=o,o=e),l>u&&(e=l,l=u,u=e),t.precision(g)):[[i,l],[o,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(g)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],m=+e[1],t):[d,m]},t.precision=function(e){return arguments.length?(g=+e,c=wn(s,a,90),f=En(r,n,g),p=wn(l,u,90),h=En(i,o,g),t):g},t.majorExtent([[-180,-90+qa],[180,90-qa]]).minorExtent([[-180,-80-qa],[180,80+qa]])},ha.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,r=Sn,o=Mn;return t.distance=function(){return ha.geo.distance(e||r.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},ha.geo.interpolate=function(t,e){return Tn(t[0]*Za,t[1]*Za,e[0]*Za,e[1]*Za)},ha.geo.length=function(t){return eu=0,ha.geo.stream(t,nu),eu};var eu,nu={sphere:T,point:T,lineStart:Cn,lineEnd:T,polygonStart:T,polygonEnd:T},ru=kn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ha.geo.azimuthalEqualArea=function(){return fn(ru)}).raw=ru;var ou=kn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},E);(ha.geo.azimuthalEquidistant=function(){return fn(ou)}).raw=ou,(ha.geo.conicConformal=function(){return Xe(Pn)}).raw=Pn,(ha.geo.conicEquidistant=function(){return Xe(An)}).raw=An;var iu=kn(function(t){return 1/t},Math.atan);(ha.geo.gnomonic=function(){return fn(iu)}).raw=iu,Rn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ka]},(ha.geo.mercator=function(){return On(Rn)}).raw=Rn;var au=kn(function(){return 1},Math.asin);(ha.geo.orthographic=function(){return fn(au)}).raw=au;var su=kn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ha.geo.stereographic=function(){return fn(su)}).raw=su,In.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ka]},(ha.geo.transverseMercator=function(){var t=On(In),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=In,ha.geom={},ha.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Rt(n),i=Rt(r),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(jn),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var l=Dn(s),c=Dn(u),f=c[0]===l[0],p=c[c.length-1]===l[l.length-1],h=[];for(e=l.length-1;e>=0;--e)h.push(t[s[l[e]][2]]);for(e=+f;e<c.length-p;++e)h.push(t[s[c[e]][2]]);return h}var n=Ln,r=Nn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ha.geom.polygon=function(t){return Aa(t,uu),t};var uu=ha.geom.polygon.prototype=[];uu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},uu.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[i*t,a*t]},uu.clip=function(t){for(var e,n,r,o,i,a,s=Fn(t),u=-1,l=this.length-Fn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,o=this[u],i=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],zn(a,c,o)?(zn(i,c,o)||t.push(Un(i,a,c,o)),t.push(a)):zn(i,c,o)&&t.push(Un(i,a,c,o)),i=a;s&&t.push(t[0]),c=o}return t};var lu,cu,fu,pu,hu,du=[],mu=[];Zn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Yn),e.length},ar.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=fr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(lr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,lr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?fr(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,lr(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,cr(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,lr(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,cr(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,lr(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,cr(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},ha.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return pr(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=i&&l.y>=o&&l.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/qa)*qa,y:Math.round(a(t,e)/qa)*qa,i:e}})}var r=Ln,o=Nn,i=r,a=o,s=yu;return t?e(t):(e.links=function(t){return pr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return pr(n(t)).cells.forEach(function(n,r){for(var o,i,a=n.site,s=n.edges.sort(Yn),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)o=c,i=f,c=s[u].edge,f=c.l===a?c.r:c.l,r<i.i&&r<f.i&&dr(a,i,f)<0&&e.push([t[r],t[i.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(i=Rt(r=t),e):r},e.y=function(t){return arguments.length?(a=Rt(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?yu:t,e):s===yu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===yu?null:s&&s[1]},e)};var yu=[[-1e6,-1e6],[1e6,1e6]];ha.geom.delaunay=function(t){return ha.geom.voronoi().triangles(t)},ha.geom.quadtree=function(t,e,n,r,o){function i(t){function i(t,e,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(Ma(u-n)+Ma(c-r)<.01)l(t,e,n,r,o,i,a,s);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,u,c,o,i,a,s),l(t,e,n,r,o,i,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,o,i,a,s)}function l(t,e,n,r,o,a,s,u){var l=.5*(o+s),c=.5*(a+u),f=n>=l,p=r>=c,h=p<<1|f;
t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=vr()),f?o=l:s=l,p?a=c:u=c,i(t,e,n,r,o,a,s,u)}var c,f,p,h,d,m,y,v,g,_=Rt(s),b=Rt(u);if(null!=e)m=e,y=n,v=r,g=o;else if(v=g=-(m=y=1/0),f=[],p=[],d=t.length,a)for(h=0;h<d;++h)c=t[h],c.x<m&&(m=c.x),c.y<y&&(y=c.y),c.x>v&&(v=c.x),c.y>g&&(g=c.y),f.push(c.x),p.push(c.y);else for(h=0;h<d;++h){var x=+_(c=t[h],h),w=+b(c,h);x<m&&(m=x),w<y&&(y=w),x>v&&(v=x),w>g&&(g=w),f.push(x),p.push(w)}var E=v-m,S=g-y;E>S?g=y+E:v=m+S;var M=vr();if(M.add=function(t){i(M,t,+_(t,++h),+b(t,h),m,y,v,g)},M.visit=function(t){gr(t,M,m,y,v,g)},M.find=function(t){return _r(M,t[0],t[1],m,y,v,g)},h=-1,null==e){for(;++h<d;)i(M,t[h],f[h],p[h],m,y,v,g);--h}else t.forEach(M.add);return f=p=t=c=null,M}var a,s=Ln,u=Nn;return(a=arguments.length)?(s=mr,u=yr,3===a&&(o=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(s=t,i):s},i.y=function(t){return arguments.length?(u=t,i):u},i.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,n],[r,o]]},i.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),i):null==e?null:[r-e,o-n]},i)},ha.interpolateRgb=br,ha.interpolateObject=xr,ha.interpolateNumber=wr,ha.interpolateString=Er;var vu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gu=new RegExp(vu.source,"g");ha.interpolate=Sr,ha.interpolators=[function(t,e){var n=typeof e;return("string"===n?cs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?br:Er:e instanceof ft?br:Array.isArray(e)?Mr:"object"===n&&isNaN(e)?xr:wr)(t,e)}],ha.interpolateArray=Mr;var _u=function(){return E},bu=ha.map({linear:_u,poly:Or,quad:function(){return Pr},cubic:function(){return Ar},sin:function(){return Ir},exp:function(){return Lr},circle:function(){return Nr},elastic:Dr,back:jr,bounce:function(){return zr}}),xu=ha.map({in:E,out:Cr,"in-out":kr,"out-in":function(t){return kr(Cr(t))}});ha.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=bu.get(n)||_u,r=xu.get(r)||E,Tr(r(n.apply(null,da.call(arguments,1))))},ha.interpolateHcl=Ur,ha.interpolateHsl=Fr,ha.interpolateLab=Br,ha.interpolateRound=qr,ha.transform=function(t){var e=ya.createElementNS(ha.ns.prefix.svg,"g");return(ha.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Vr(n?n.matrix:wu)})(t)},Vr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var wu={a:1,b:0,c:0,d:1,e:0,f:0};ha.interpolateTransform=$r,ha.layout={},ha.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(eo(t[n]));return e}},ha.layout.chord=function(){function t(){var t,l,f,p,h,d={},m=[],y=ha.range(i),v=[];for(n=[],r=[],t=0,p=-1;++p<i;){for(l=0,h=-1;++h<i;)l+=o[p][h];m.push(l),v.push(ha.range(i)),t+=l}for(a&&y.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(o[e][t],o[e][n])})}),t=(Wa-c*i)/t,l=0,p=-1;++p<i;){for(f=l,h=-1;++h<i;){var g=y[p],_=v[g][h],b=o[g][_],x=l,w=l+=b*t;d[g+"-"+_]={index:g,subindex:_,startAngle:x,endAngle:w,value:b}}r[g]={index:g,startAngle:f,endAngle:l,value:m[g]},l+=c}for(p=-1;++p<i;)for(h=p-1;++h<i;){var E=d[p+"-"+h],S=d[h+"-"+p];(E.value||S.value)&&n.push(E.value<S.value?{source:S,target:E}:{source:E,target:S})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,o,i,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,n=r=null,l):o},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},ha.layout.force=function(){function t(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,s=o-n,u=i*i+a*a;if(s*s/v<u){if(u<m){var l=e.charge/u;t.px-=i*l,t.py-=a*l}return!0}if(e.point&&u&&u<m){var l=e.pointCharge/u;t.px-=i*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ha.event.x,t.py=ha.event.y,u.resume()}var n,r,o,i,a,s,u={},l=ha.dispatch("start","tick","end"),c=[1,1],f=.9,p=Eu,h=Su,d=-30,m=Mu,y=.1,v=.64,g=[],_=[];return u.tick=function(){if((o*=.99)<.005)return n=null,l.end({type:"end",alpha:o=0}),!0;var e,r,u,p,h,m,v,b,x,w=g.length,E=_.length;for(r=0;r<E;++r)u=_[r],p=u.source,h=u.target,b=h.x-p.x,x=h.y-p.y,(m=b*b+x*x)&&(m=o*a[r]*((m=Math.sqrt(m))-i[r])/m,b*=m,x*=m,h.x-=b*(v=p.weight+h.weight?p.weight/(p.weight+h.weight):.5),h.y-=x*v,p.x+=b*(v=1-v),p.y+=x*v);if((v=o*y)&&(b=c[0]/2,x=c[1]/2,r=-1,v))for(;++r<w;)u=g[r],u.x+=(b-u.x)*v,u.y+=(x-u.y)*v;if(d)for(uo(e=ha.geom.quadtree(g),o,s),r=-1;++r<w;)(u=g[r]).fixed||e.visit(t(u));for(r=-1;++r<w;)u=g[r],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*f,u.y-=(u.py-(u.py=u.y))*f);l.tick({type:"tick",alpha:o})},u.nodes=function(t){return arguments.length?(g=t,u):g},u.links=function(t){return arguments.length?(_=t,u):_},u.size=function(t){return arguments.length?(c=t,u):c},u.linkDistance=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,u):h},u.friction=function(t){return arguments.length?(f=+t,u):f},u.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.chargeDistance=function(t){return arguments.length?(m=t*t,u):Math.sqrt(m)},u.gravity=function(t){return arguments.length?(y=+t,u):y},u.theta=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:o=0})):t>0&&(l.start({type:"start",alpha:o=t}),n=Dt(u.tick)),u):o},u.start=function(){function t(t,r){if(!n){for(n=new Array(o),u=0;u<o;++u)n[u]=[];for(u=0;u<l;++u){var i=_[u];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,s=n[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][t]))return a;return Math.random()*r}var e,n,r,o=g.length,l=_.length,f=c[0],m=c[1];for(e=0;e<o;++e)(r=g[e]).index=e,r.weight=0;for(e=0;e<l;++e)r=_[e],"number"==typeof r.source&&(r.source=g[r.source]),"number"==typeof r.target&&(r.target=g[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<o;++e)r=g[e],isNaN(r.x)&&(r.x=t("x",f)),isNaN(r.y)&&(r.y=t("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof p)for(e=0;e<l;++e)i[e]=+p.call(this,_[e],e);else for(e=0;e<l;++e)i[e]=p;if(a=[],"function"==typeof h)for(e=0;e<l;++e)a[e]=+h.call(this,_[e],e);else for(e=0;e<l;++e)a[e]=h;if(s=[],"function"==typeof d)for(e=0;e<o;++e)s[e]=+d.call(this,g[e],e);else for(e=0;e<o;++e)s[e]=d;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return r||(r=ha.behavior.drag().origin(E).on("dragstart.force",oo).on("drag.force",e).on("dragend.force",io)),arguments.length?void this.on("mouseover.force",ao).on("mouseout.force",so).call(r):r},ha.rebind(u,l,"on")};var Eu=20,Su=1,Mu=1/0;ha.layout.hierarchy=function(){function t(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(l=n.call(t,i,i.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return fo(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),r&&(o=t.parent)&&(o.value+=t.value)}),s}var e=mo,n=po,r=ho;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(co(e,function(t){t.children&&(t.value=0)}),fo(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ha.layout.partition=function(){function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=i[l],n,u=s.value*r,o),n+=u}}function e(t){var n=t.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,e(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return t(a[0],0,o[0],o[1]/e(a[0])),a}var r=ha.layout.hierarchy(),o=[1,1];return n.size=function(t){return arguments.length?(o=t,n):o},lo(n,r)},ha.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-c,p=Math.min(Math.abs(f)/u,+("function"==typeof i?i.apply(this,arguments):i)),h=p*(f<0?-1:1),d=ha.sum(l),m=d?(f-u*h)/d:0,y=ha.range(u),v=[];return null!=n&&y.sort(n===Tu?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),y.forEach(function(t){v[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*m+h,padAngle:p}}),v}var e=Number,n=Tu,r=0,o=Wa,i=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var Tu={};ha.layout.stack=function(){function t(s,u){if(!(p=s.length))return s;var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,u);l=ha.permute(l,f),c=ha.permute(c,f);var p,h,d,m,y=r.call(t,c,u),v=l[0].length;for(d=0;d<v;++d)for(o.call(t,l[0][d],m=y[d],c[0][d][1]),h=1;h<p;++h)o.call(t,l[h][d],m+=c[h-1][d][1],c[h][d][1]);return s}var e=E,n=bo,r=xo,o=_o,i=vo,a=go;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Cu.get(e)||bo,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:ku.get(e)||xo,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var Cu=ha.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(wo),i=t.map(Eo),a=ha.range(r).sort(function(t,e){return o[t]-o[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=i[n],l.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ha.range(t.length).reverse()},default:bo}),ku=ha.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],s=0,u=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<i;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,o,i,a,s,u,l,c=t.length,f=t[0],p=f.length,h=[];for(h[0]=u=l=0,n=1;n<p;++n){for(e=0,o=0;e<c;++e)o+=t[e][n][1];for(e=0,i=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;i+=a*t[e][n][1]}h[n]=u-=o?i/o*s:0,u<l&&(l=u)}for(n=0;n<p;++n)h[n]-=l;return h},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,s=[];for(n=0;n<i;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=a}for(n=0;n<i;++n)s[n]=0;return s},zero:xo});ha.layout.histogram=function(){function t(t,i){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,i),f=o.call(this,c,l,i),i=-1,p=l.length,h=f.length-1,d=e?1:1/p;++i<h;)a=u[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(h>0)for(i=-1;++i<p;)s=l[i],s>=c[0]&&s<=c[1]&&(a=u[ha.bisect(f,s,1,h)-1],a.y+=d,a.push(t[i]));return u}var e=!0,n=Number,r=Co,o=Mo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Rt(e),t):r},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return To(t,e)}:Rt(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ha.layout.pack=function(){function t(t,i){var a=n.call(this,t,i),s=a[0],u=o[0],l=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,fo(s,function(t){t.r=+c(t.value)}),fo(s,Oo),r){var f=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;fo(s,function(t){t.r+=f}),fo(s,Oo),fo(s,function(t){t.r-=f})}return No(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ha.layout.hierarchy().sort(ko),r=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},lo(t,n)},ha.layout.tree=function(){function t(t,o){var c=a.call(this,t,o),f=c[0],p=e(f);if(fo(p,n),p.parent.m=-p.z,co(p,r),l)co(f,i);else{var h=f,d=f,m=f;co(f,function(t){t.x<h.x&&(h=t),t.x>d.x&&(d=t),t.depth>m.depth&&(m=t)});var y=s(h,d)/2-h.x,v=u[0]/(d.x+s(d,h)/2+y),g=u[1]/(m.depth||1);co(f,function(t){t.x=(t.x+y)*v,t.y=t.depth*g})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var o,i=e.children,a=0,s=i.length;a<s;++a)r.push((i[a]=o={_:i[a],parent:e,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Bo(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+s(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,o=t,i=t,a=e,u=o.parent.children[0],l=o.m,c=i.m,f=a.m,p=u.m;a=Uo(a),o=zo(o),a&&o;)u=zo(u),i=Uo(i),i.a=t,r=a.z+f-o.z-l+s(a._,o._),r>0&&(Fo(qo(a,t,n),t,r),l+=r,c+=r),f+=a.m,l+=o.m,p+=u.m,c+=i.m;a&&!Uo(i)&&(i.t=a,i.m+=f-c),o&&!zo(u)&&(u.t=o,u.m+=l-p,n=t)}return n}function i(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ha.layout.hierarchy().sort(null).value(null),s=jo,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?i:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:i,t):l?u:null},lo(t,a)},ha.layout.cluster=function(){function t(t,i){var a,s=e.call(this,t,i),u=s[0],l=0;fo(u,function(t){var e=t.children;e&&e.length?(t.x=Ho(e),t.y=Vo(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Wo(u),f=Go(u),p=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return fo(u,o?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-p)/(h-p)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=ha.layout.hierarchy().sort(null).value(null),n=jo,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},lo(t,e)},ha.layout.treemap=function(){function t(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var i=n.children;if(i&&i.length){var a,s,u,l=f(n),c=[],p=i.slice(),d=1/0,m="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(p,l.dx*l.dy/n.value),c.area=0;(u=p.length)>0;)c.push(a=p[u-1]),c.area+=a.area,"squarify"!==h||(s=r(c,m))<=d?(p.pop(),d=s):(c.area-=c.pop().area,o(c,m,l,!1),m=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(o(c,m,l,!0),c.length=c.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,a=f(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;i=s.pop();)u.push(i),u.area+=i.area,null!=i.z&&(o(u,i.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<i&&(i=n),n>o&&(o=n));return r*=r,e*=e,r?Math.max(e*o*d/r,r/(e*i*d)):1/0}function o(t,e,n,r){var o,i=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)o=t[i],o.x=s,o.y=l,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?u(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)o=t[i],o.x=s,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?u(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=i.y=0,i.value?(i.dx=l[0],i.dy=l[1]):i.dx=i.dy=0,a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?n:e)(i),p&&(a=o),o}var a,s=ha.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Ko,p=!1,h="squarify",d=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(l=t,i):l},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?Ko(e):Zo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Zo(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Ko:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(u=t?Math.round:Number,i):u!=Number},i.sticky=function(t){return arguments.length?(p=t,a=null,i):p},i.ratio=function(t){return arguments.length?(d=t,i):d},i.mode=function(t){return arguments.length?(h=t+"",i):h},lo(i,s)},ha.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,o;do n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r;while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=ha.random.normal.apply(ha,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ha.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},ha.scale={};var Pu={floor:E,ceil:E};ha.scale.linear=function(){return ei([0,1],[0,1],Sr,!1)};var Au={s:1,g:1,p:1,r:1,e:1};ha.scale.log=function(){return li(ha.scale.linear().domain([0,1]),10,!0,[1,10])};var Ru=ha.format(".0e"),Ou={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ha.scale.pow=function(){return ci(ha.scale.linear(),1,[0,1])},ha.scale.sqrt=function(){return ha.scale.pow().exponent(.5)},ha.scale.ordinal=function(){return pi([],{t:"range",a:[[]]})},ha.scale.category10=function(){return ha.scale.ordinal().range(Iu)},ha.scale.category20=function(){return ha.scale.ordinal().range(Lu)},ha.scale.category20b=function(){return ha.scale.ordinal().range(Nu)},ha.scale.category20c=function(){return ha.scale.ordinal().range(Du)};var Iu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(St),Lu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(St),Nu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(St),Du=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(St);ha.scale.quantile=function(){return hi([],[])},ha.scale.quantize=function(){return di(0,1,[0,1])},ha.scale.threshold=function(){return mi([.5],[0,1])},ha.scale.identity=function(){return yi([0,1])},ha.svg={},ha.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ka,f=s.apply(this,arguments)-Ka,p=Math.abs(f-c),h=c>f?0:1;if(l<t&&(d=l,l=t,t=d),p>=Ga)return e(l,h)+(t?e(t,1-h):"")+"Z";var d,m,y,v,g,_,b,x,w,E,S,M,T=0,C=0,k=[];if((v=(+u.apply(this,arguments)||0)/2)&&(y=i===ju?Math.sqrt(t*t+l*l):+i.apply(this,arguments),h||(C*=-1),l&&(C=at(y/l*Math.sin(v))),t&&(T=at(y/t*Math.sin(v)))),l){g=l*Math.cos(c+C),_=l*Math.sin(c+C),b=l*Math.cos(f-C),x=l*Math.sin(f-C);var P=Math.abs(f-c-2*C)<=Ha?0:1;if(C&&Ei(g,_,b,x)===h^P){var A=(c+f)/2;g=l*Math.cos(A),_=l*Math.sin(A),b=x=null}}else g=_=0;if(t){w=t*Math.cos(f-T),E=t*Math.sin(f-T),S=t*Math.cos(c+T),M=t*Math.sin(c+T);var R=Math.abs(c-f+2*T)<=Ha?0:1;if(T&&Ei(w,E,S,M)===1-h^R){var O=(c+f)/2;w=t*Math.cos(O),E=t*Math.sin(O),S=M=null}}else w=E=0;if(p>qa&&(d=Math.min(Math.abs(l-t)/2,+o.apply(this,arguments)))>.001){m=t<l^h?0:1;var I=d,L=d;if(p<Ha){var N=null==S?[w,E]:null==b?[g,_]:Un([g,_],[S,M],[b,x],[w,E]),D=g-N[0],j=_-N[1],z=b-N[0],U=x-N[1],F=1/Math.sin(Math.acos((D*z+j*U)/(Math.sqrt(D*D+j*j)*Math.sqrt(z*z+U*U)))/2),B=Math.sqrt(N[0]*N[0]+N[1]*N[1]);L=Math.min(d,(t-B)/(F-1)),I=Math.min(d,(l-B)/(F+1))}if(null!=b){var q=Si(null==S?[w,E]:[S,M],[g,_],l,I,h),V=Si([b,x],[w,E],l,I,h);d===I?k.push("M",q[0],"A",I,",",I," 0 0,",m," ",q[1],"A",l,",",l," 0 ",1-h^Ei(q[1][0],q[1][1],V[1][0],V[1][1]),",",h," ",V[1],"A",I,",",I," 0 0,",m," ",V[0]):k.push("M",q[0],"A",I,",",I," 0 1,",m," ",V[0])}else k.push("M",g,",",_);if(null!=S){var H=Si([g,_],[S,M],t,-L,h),W=Si([w,E],null==b?[g,_]:[b,x],t,-L,h);d===L?k.push("L",W[0],"A",L,",",L," 0 0,",m," ",W[1],"A",t,",",t," 0 ",h^Ei(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-h," ",H[1],"A",L,",",L," 0 0,",m," ",H[0]):k.push("L",W[0],"A",L,",",L," 0 0,",m," ",H[0])}else k.push("L",w,",",E)}else k.push("M",g,",",_),null!=b&&k.push("A",l,",",l," 0 ",P,",",h," ",b,",",x),k.push("L",w,",",E),null!=S&&k.push("A",t,",",t," 0 ",R,",",1-h," ",S,",",M);return k.push("Z"),k.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=gi,r=_i,o=vi,i=ju,a=bi,s=xi,u=wi;return t.innerRadius=function(e){return arguments.length?(n=Rt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Rt(e),t):r},t.cornerRadius=function(e){return arguments.length?(o=Rt(e),t):o},t.padRadius=function(e){return arguments.length?(i=e==ju?ju:Rt(e),t):i},t.startAngle=function(e){return arguments.length?(a=Rt(e),t):a},t.endAngle=function(e){return arguments.length?(s=Rt(e),t):s},t.padAngle=function(e){return arguments.length?(u=Rt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ka;return[Math.cos(e)*t,Math.sin(e)*t]},t};var ju="auto";ha.svg.line=function(){return Mi(E)};var zu=ha.map({linear:Ti,"linear-closed":Ci,step:ki,"step-before":Pi,"step-after":Ai,basis:Di,"basis-open":ji,"basis-closed":zi,bundle:Ui,cardinal:Ii,"cardinal-open":Ri,"cardinal-closed":Oi,monotone:Wi});zu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Uu=[0,2/3,1/3,0],Fu=[0,1/3,2/3,0],Bu=[0,1/6,2/3,1/6];ha.svg.line.radial=function(){var t=Mi(Gi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Pi.reverse=Ai,Ai.reverse=Pi,ha.svg.area=function(){return Ki(E)},ha.svg.area.radial=function(){var t=Ki(Gi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ha.svg.chord=function(){function t(t,s){var u=e(this,i,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?o(u.r,u.p1,u.r,u.p0):o(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+o(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var o=e.call(t,n,r),i=s.call(t,o,r),a=u.call(t,o,r)-Ka,c=l.call(t,o,r)-Ka;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ha)+",1 "+e}function o(t,e,n,r){return"Q 0,0 "+r}var i=Sn,a=Mn,s=Zi,u=bi,l=xi;return t.radius=function(e){return arguments.length?(s=Rt(e),t):s},t.source=function(e){return arguments.length?(i=Rt(e),t):i},t.target=function(e){return arguments.length?(a=Rt(e),t):a},t.startAngle=function(e){return arguments.length?(u=Rt(e),t):u},t.endAngle=function(e){return arguments.length?(l=Rt(e),t):l},t},ha.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=n.call(this,t,o),s=(i.y+a.y)/2,u=[i,{x:i.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=Sn,n=Mn,r=Xi;return t.source=function(n){return arguments.length?(e=Rt(n),t):e},t.target=function(e){return arguments.length?(n=Rt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ha.svg.diagonal.radial=function(){var t=ha.svg.diagonal(),e=Xi,n=t.projection;return t.projection=function(t){return arguments.length?n(Yi(e=t)):e},t},ha.svg.symbol=function(){function t(t,r){return(qu.get(e.call(this,t,r))||Qi)(n.call(this,t,r))}var e=$i,n=Ji;return t.type=function(n){return arguments.length?(e=Rt(n),t):e},t.size=function(e){return arguments.length?(n=Rt(e),t):n},t};var qu=ha.map({circle:Qi,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Hu)),n=e*Hu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Vu),n=e*Vu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Vu),n=e*Vu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ha.svg.symbolTypes=qu.keys();var Vu=Math.sqrt(3),Hu=Math.tan(30*Za);La.transition=function(t){for(var e,n,r=Wu||++Xu,o=oa(t),i=[],a=Gu||{time:Date.now(),ease:Rr,delay:0,duration:250},s=-1,u=this.length;++s<u;){i.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&ia(n,c,o,r,a),e.push(n)}return ea(i,o,r)},La.interrupt=function(t){return this.each(null==t?Ku:ta(oa(t)))};var Wu,Gu,Ku=ta(oa()),Zu=[],Xu=0;Zu.call=La.call,Zu.empty=La.empty,Zu.node=La.node,Zu.size=La.size,ha.transition=function(t,e){return t&&t.transition?Wu?t.transition(e):t:ha.selection().transition(t)},ha.transition.prototype=Zu,Zu.select=function(t){var e,n,r,o=this.id,i=this.namespace,a=[];t=I(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ia(n,c,i,o,r[i][o]),e.push(n)):e.push(null)}return ea(a,i,o)},Zu.selectAll=function(t){var e,n,r,o,i,a=this.id,s=this.namespace,u=[];t=L(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],p=-1,h=f.length;++p<h;)if(r=f[p]){i=r[s][a],n=t.call(r,r.__data__,p,l),u.push(e=[]);for(var d=-1,m=n.length;++d<m;)(o=n[d])&&ia(o,d,s,a,i),e.push(o)}return ea(u,s,a)},Zu.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=G(t));for(var i=0,a=this.length;i<a;i++){o.push(e=[]);for(var n=this[i],s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return ea(o,this.namespace,this.id)},Zu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Z(this,null==e?function(e){e[r][n].tween.remove(t)}:function(o){o[r][n].tween.set(t,e)})},Zu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function i(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$r:Sr,s=ha.ns.qualify(t);return na(this,"attr."+t,e,s.local?i:o)},Zu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(o));return r&&function(t){this.setAttribute(o,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(o.space,o.local));return r&&function(t){this.setAttributeNS(o.space,o.local,r(t))}}var o=ha.ns.qualify(t);return this.tween("attr."+t,o.local?r:n)},Zu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function o(e){return null==e?r:(e+="",function(){var r,o=a(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=Sr(o,e),function(e){this.style.setProperty(t,r(e),n)})})}var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return na(this,"style."+t,e,o)},Zu.styleTween=function(t,e,n){function r(r,o){var i=e.call(this,r,o,a(this).getComputedStyle(this,null).getPropertyValue(t));return i&&function(e){this.style.setProperty(t,i(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Zu.text=function(t){return na(this,"text",t,ra)},Zu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Zu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ha.ease.apply(ha,arguments)),Z(this,function(r){r[n][e].ease=t}))},Zu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Z(this,"function"==typeof t?function(r,o,i){r[n][e].delay=+t.call(r,r.__data__,o,i)}:(t=+t,function(r){r[n][e].delay=t}))},Zu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Z(this,"function"==typeof t?function(r,o,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,o,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Zu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var o=Gu,i=Wu;try{Wu=n,Z(this,function(e,o,i){Gu=e[r][n],t.call(e,e.__data__,o,i)})}finally{Gu=o,Wu=i}}else Z(this,function(o){var i=o[r][n];(i.event||(i.event=ha.dispatch("start","end","interrupt"))).on(t,e)});return this},Zu.transition=function(){for(var t,e,n,r,o=this.id,i=++Xu,a=this.namespace,s=[],u=0,l=this.length;u<l;u++){s.push(t=[]);for(var e=this[u],c=0,f=e.length;c<f;c++)(n=e[c])&&(r=n[a][o],ia(n,c,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return ea(s,a,i)},ha.svg.axis=function(){function t(t){t.each(function(){var t,l=ha.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),p=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,h=null==e?f.tickFormat?f.tickFormat.apply(f,s):E:e,d=l.selectAll(".tick").data(p,f),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",qa),y=ha.transition(d.exit()).style("opacity",qa).remove(),v=ha.transition(d.order()).style("opacity",1),g=Math.max(o,0)+a,_=Yo(f),b=l.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),ha.transition(b));m.append("line"),m.append("text");var w,S,M,T,C=m.select("line"),k=v.select("line"),P=d.select("text").text(h),A=m.select("text"),R=v.select("text"),O="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=aa,w="x",M="y",S="x2",T="y2",P.attr("dy",O<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+_[0]+","+O*i+"V0H"+_[1]+"V"+O*i)):(t=sa,w="y",M="x",S="y2",T="x2",P.attr("dy",".32em").style("text-anchor",O<0?"end":"start"),x.attr("d","M"+O*i+","+_[0]+"H0V"+_[1]+"H"+O*i)),C.attr(T,O*o),A.attr(M,O*g),k.attr(S,0).attr(T,O*o),R.attr(w,0).attr(M,O*g),f.rangeBand){var I=f,L=I.rangeBand()/2;c=f=function(t){return I(t)+L}}else c.rangeBand?c=f:y.call(t,f,c);m.call(t,c,f),v.call(t,f,f)})}var e,n=ha.scale.linear(),r=Yu,o=6,i=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ju?e+"":Yu,t):r},t.ticks=function(){return arguments.length?(s=ma(arguments),t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,i=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Yu="bottom",Ju={top:1,right:1,bottom:1,left:1};ha.svg.brush=function(){function t(i){i.each(function(){var i=ha.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=i.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");
var s=i.selectAll(".resize").data(m,E);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return $u[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,f=ha.transition(i),p=ha.transition(a);l&&(u=Yo(l),p.attr("x",u[0]).attr("width",u[1]-u[0]),n(f)),c&&(u=Yo(c),p.attr("y",u[0]).attr("height",u[1]-u[0]),r(f)),e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function o(){function o(){32==ha.event.keyCode&&(k||(_=null,R[0]-=f[1],R[1]-=p[1],k=2),P())}function m(){32==ha.event.keyCode&&2==k&&(R[0]+=f[1],R[1]+=p[1],k=0,P())}function y(){var t=ha.mouse(x),o=!1;b&&(t[0]+=b[0],t[1]+=b[1]),k||(ha.event.altKey?(_||(_=[(f[0]+f[1])/2,(p[0]+p[1])/2]),R[0]=f[+(t[0]<_[0])],R[1]=p[+(t[1]<_[1])]):_=null),T&&v(t,l,0)&&(n(S),o=!0),C&&v(t,c,1)&&(r(S),o=!0),o&&(e(S),E({type:"brush",mode:k?"move":"resize"}))}function v(t,e,n){var r,o,a=Yo(e),u=a[0],l=a[1],c=R[n],m=n?p:f,y=m[1]-m[0];if(k&&(u-=c,l-=y+c),r=(n?d:h)?Math.max(u,Math.min(l,t[n])):t[n],k?o=(r+=c)+y:(_&&(c=Math.max(u,Math.min(l,2*_[n]-r))),c<r?(o=r,r=c):o=c),m[0]!=r||m[1]!=o)return n?s=null:i=null,m[0]=r,m[1]=o,!0}function g(){y(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ha.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),E({type:"brushend"})}var _,b,x=this,w=ha.select(ha.event.target),E=u.of(x,arguments),S=ha.select(x),M=w.datum(),T=!/^(n|s)$/.test(M)&&l,C=!/^(e|w)$/.test(M)&&c,k=w.classed("extent"),A=tt(x),R=ha.mouse(x),O=ha.select(a(x)).on("keydown.brush",o).on("keyup.brush",m);if(ha.event.changedTouches?O.on("touchmove.brush",y).on("touchend.brush",g):O.on("mousemove.brush",y).on("mouseup.brush",g),S.interrupt().selectAll("*").interrupt(),k)R[0]=f[0]-R[0],R[1]=p[0]-R[1];else if(M){var I=+/w$/.test(M),L=+/^n/.test(M);b=[f[1-I]-R[0],p[1-L]-R[1]],R[0]=f[I],R[1]=p[L]}else ha.event.altKey&&(_=R.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),ha.select("body").style("cursor",w.style("cursor")),E({type:"brushstart"}),y()}var i,s,u=R(t,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],p=[0,0],h=!0,d=!0,m=Qu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:f,y:p,i:i,j:s},n=this.__chart__||e;this.__chart__=e,Wu?ha.select(this).transition().each("start.brush",function(){i=n.i,s=n.j,f=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Mr(f,e.x),r=Mr(p,e.y);return i=s=null,function(o){f=e.x=n(o),p=e.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,m=Qu[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,m=Qu[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(h=!!e[0],d=!!e[1]):l?h=!!e:c&&(d=!!e),t):l&&c?[h,d]:l?h:c?d:null},t.extent=function(e){var n,r,o,a,u;return arguments.length?(l&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),i=[n,r],l.invert&&(n=l(n),r=l(r)),r<n&&(u=n,n=r,r=u),n==f[0]&&r==f[1]||(f=[n,r])),c&&(o=e[0],a=e[1],l&&(o=o[1],a=a[1]),s=[o,a],c.invert&&(o=c(o),a=c(a)),a<o&&(u=o,o=a,a=u),o==p[0]&&a==p[1]||(p=[o,a])),t):(l&&(i?(n=i[0],r=i[1]):(n=f[0],r=f[1],l.invert&&(n=l.invert(n),r=l.invert(r)),r<n&&(u=n,n=r,r=u))),c&&(s?(o=s[0],a=s[1]):(o=p[0],a=p[1],c.invert&&(o=c.invert(o),a=c.invert(a)),a<o&&(u=o,o=a,a=u))),l&&c?[[n,o],[r,a]]:l?[n,r]:c&&[o,a])},t.clear=function(){return t.empty()||(f=[0,0],p=[0,0],i=s=null),t},t.empty=function(){return!!l&&f[0]==f[1]||!!c&&p[0]==p[1]},ha.rebind(t,u,"on")};var $u={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],tl=_s.format=Ms.timeFormat,el=tl.utc,nl=el("%Y-%m-%dT%H:%M:%S.%LZ");tl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ua:nl,ua.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ua.toString=nl.toString,_s.second=Wt(function(t){return new bs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),_s.seconds=_s.second.range,_s.seconds.utc=_s.second.utc.range,_s.minute=Wt(function(t){return new bs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),_s.minutes=_s.minute.range,_s.minutes.utc=_s.minute.utc.range,_s.hour=Wt(function(t){var e=t.getTimezoneOffset()/60;return new bs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),_s.hours=_s.hour.range,_s.hours.utc=_s.hour.utc.range,_s.month=Wt(function(t){return t=_s.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),_s.months=_s.month.range,_s.months.utc=_s.month.utc.range;var rl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ol=[[_s.second,1],[_s.second,5],[_s.second,15],[_s.second,30],[_s.minute,1],[_s.minute,5],[_s.minute,15],[_s.minute,30],[_s.hour,1],[_s.hour,3],[_s.hour,6],[_s.hour,12],[_s.day,1],[_s.day,2],[_s.week,1],[_s.month,1],[_s.month,3],[_s.year,1]],il=tl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Le]]),al={range:function(t,e,n){return ha.range(Math.ceil(t/n)*n,+e,n).map(ca)},floor:E,ceil:E};ol.year=_s.year,_s.scale=function(){return la(ha.scale.linear(),ol,il)};var sl=ol.map(function(t){return[t[0].utc,t[1]]}),ul=el.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Le]]);sl.year=_s.year.utc,_s.scale.utc=function(){return la(ha.scale.linear(),sl,ul)},ha.text=Ot(function(t){return t.responseText}),ha.json=function(t,e){return It(t,"application/json",fa,e)},ha.html=function(t,e){return It(t,"text/html",pa,e)},ha.xml=Ot(function(t){return t.responseXML}),this.d3=ha,r=ha,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o))}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return null==t||p.default.isValidElement(t)}function i(t){return o(t)||Array.isArray(t)&&t.every(o)}function a(t,e){return c({},t,e)}function s(t){var e=t.type,n=a(e.defaultProps,t.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(t,e){var n=[];return p.default.Children.forEach(t,function(t){if(p.default.isValidElement(t))if(t.type.createRouteFromReactElement){var r=t.type.createRouteFromReactElement(t,e);r&&n.push(r)}else n.push(s(t))}),n}function l(t){return i(t)?t=u(t):t&&!Array.isArray(t)&&(t=[t]),t}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.isReactChildren=i,e.createRouteFromReactElement=s,e.createRoutesFromReactChildren=u,e.createRoutes=l;var f=n(1),p=r(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.createPath=e.parsePath=e.getQueryStringValueFromPath=e.stripQueryStringValueFromPath=e.addQueryStringValueToPath=void 0;var o=n(24),i=(r(o),e.addQueryStringValueToPath=function(t,e,n){var r=a(t),o=r.pathname,i=r.search,u=r.hash;return s({pathname:o,search:i+(i.indexOf("?")===-1?"?":"&")+e+"="+n,hash:u})},e.stripQueryStringValueFromPath=function(t,e){var n=a(t),r=n.pathname,o=n.search,i=n.hash;return s({pathname:r,search:o.replace(new RegExp("([?&])"+e+"=[a-zA-Z0-9]+(&?)"),function(t,e,n){return"?"===e?e:n}),hash:i})},e.getQueryStringValueFromPath=function(t,e){var n=a(t),r=n.search,o=r.match(new RegExp("[?&]"+e+"=([a-zA-Z0-9]+)"));return o&&o[1]},function(t){var e=t.match(/^(https?:)?\/\/[^\/]*/);return null==e?t:t.substring(e[0].length)}),a=e.parsePath=function(t){var e=i(t),n="",r="",o=e.indexOf("#");o!==-1&&(r=e.substring(o),e=e.substring(0,o));var a=e.indexOf("?");return a!==-1&&(n=e.substring(a),e=e.substring(0,a)),""===e&&(e="/"),{pathname:e,search:n,hash:r}},s=e.createPath=function(t){if(null==t||"string"==typeof t)return t;var e=t.basename,n=t.pathname,r=t.search,o=t.hash,i=(e||"")+n;return r&&"?"!==r&&(i+=r),o&&(i+=o),i}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=function(t){return t.user},i={getIsAuthenticated:(0,r.createSelector)(o,function(t){return t.isAuthenticated}),getOsmId:(0,r.createSelector)(o,function(t){return t.osmid}),getUsername:(0,r.createSelector)(o,function(t){return t.username}),getAvatar:(0,r.createSelector)(o,function(t){return t.avatar}),getRole:(0,r.createSelector)(o,function(t){return t.role}),getToken:(0,r.createSelector)(o,function(t){return t.token})};e.default=i},function(t,e,n){"use strict";var r=n(3),o=(n(2),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),i=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n),o}return new r(t,e,n)},s=function(t,e,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,t,e,n,r),i}return new o(t,e,n,r)},u=function(t,e,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,t,e,n,r,o),a}return new i(t,e,n,r,o)},l=function(t){var e=this;t instanceof e?void 0:r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,f=o,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||f,n.poolSize||(n.poolSize=c),n.release=l,n},h={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};t.exports=h},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e){"use strict";var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){return t===e}function o(t){var e=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every(function(t,r){return e(t,n[r])})||(o=t.apply(void 0,i)),n=i,o}}function i(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(t){return"function"==typeof t})){var n=e.map(function(t){return typeof t}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return e}function a(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=0,u=o.pop(),l=i(o),c=t.apply(void 0,[function(){return s++,u.apply(void 0,arguments)}].concat(r)),f=function(t,e){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=l.map(function(n){return n.apply(void 0,[t,e].concat(o))});return c.apply(void 0,n(a))};return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}function s(t){var e=arguments.length<=1||void 0===arguments[1]?u:arguments[1];if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map(function(e){return t[e]}),function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e,r){return t[n[r]]=e,t},{})})}e.__esModule=!0,e.defaultMemoize=o,e.createSelectorCreator=a,e.createStructuredSelector=s;var u=e.createSelector=a(o)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ROLES=void 0;var o=n(14),i=r(o),a=(0,i.default)({USER_LOGGED_IN:null,USER_FETCH_USER_DETAILS:null,USER_LOGOUT:null});e.default=a;e.ROLES={EDITOR:"editor",ADMIN:"admin",SUPERADMIN:"superadmin"}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.server=void 0;var o=n(328),i=r(o);e.server=i},function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(209),i=n(220);t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(t){for(var e="",n=[],r=[],i=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;i=s.exec(t);)i.index!==a&&(r.push(t.slice(a,i.index)),e+=o(t.slice(a,i.index))),i[1]?(e+="([^/]+)",n.push(i[1])):"**"===i[0]?(e+="(.*)",n.push("splat")):"*"===i[0]?(e+="(.*?)",n.push("splat")):"("===i[0]?e+="(?:":")"===i[0]&&(e+=")?"),r.push(i[0]),a=s.lastIndex;return a!==t.length&&(r.push(t.slice(a,t.length)),e+=o(t.slice(a,t.length))),{pattern:t,regexpSource:e,paramNames:n,tokens:r}}function a(t){return h[t]||(h[t]=i(t)),h[t]}function s(t,e){"/"!==t.charAt(0)&&(t="/"+t);var n=a(t),r=n.regexpSource,o=n.paramNames,i=n.tokens;"/"!==t.charAt(t.length-1)&&(r+="/?"),"*"===i[i.length-1]&&(r+="$");var s=e.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],l=e.substr(u.length);if(l){if("/"!==u.charAt(u.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:o,paramValues:s.slice(1).map(function(t){return t&&decodeURIComponent(t)})}}function u(t){return a(t).paramNames}function l(t,e){var n=s(t,e);if(!n)return null;var r=n.paramNames,o=n.paramValues,i={};return r.forEach(function(t,e){i[t]=o[e]}),i}function c(t,e){e=e||{};for(var n=a(t),r=n.tokens,o=0,i="",s=0,u=[],l=void 0,c=void 0,f=void 0,h=0,d=r.length;h<d;++h)if(l=r[h],"*"===l||"**"===l)f=Array.isArray(e.splat)?e.splat[s++]:e.splat,null!=f||o>0?void 0:(0,p.default)(!1),null!=f&&(i+=encodeURI(f));else if("("===l)u[o]="",o+=1;else if(")"===l){var m=u.pop();o-=1,o?u[o-1]+=m:i+=m}else if(":"===l.charAt(0))if(c=l.substring(1),f=e[c],null!=f||o>0?void 0:(0,p.default)(!1),null==f){if(o){u[o-1]="";for(var y=r.indexOf(l),v=r.slice(y,r.length),g=-1,_=0;_<v.length;_++)if(")"==v[_]){g=_;break}g>0?void 0:(0,p.default)(!1),h=y+g-1}}else o?u[o-1]+=encodeURIComponent(f):i+=encodeURIComponent(f);else o?u[o-1]+=l:i+=l;return o<=0?void 0:(0,p.default)(!1),i.replace(/\/+/g,"/")}e.__esModule=!0,e.compilePattern=a,e.matchPattern=s,e.getParamNames=u,e.getParams=l,e.formatPattern=c;var f=n(9),p=r(f),h=Object.create(null)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.createMemoryHistory=e.hashHistory=e.browserHistory=e.applyRouterMiddleware=e.formatPattern=e.useRouterHistory=e.match=e.routerShape=e.locationShape=e.RouterContext=e.createRoutes=e.Route=e.Redirect=e.IndexRoute=e.IndexRedirect=e.withRouter=e.IndexLink=e.Link=e.Router=void 0;var o=n(22);Object.defineProperty(e,"createRoutes",{enumerable:!0,get:function(){return o.createRoutes}});var i=n(72);Object.defineProperty(e,"locationShape",{enumerable:!0,get:function(){return i.locationShape}}),Object.defineProperty(e,"routerShape",{enumerable:!0,get:function(){return i.routerShape}});var a=n(34);Object.defineProperty(e,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=n(282),u=r(s),l=n(123),c=r(l),f=n(278),p=r(f),h=n(293),d=r(h),m=n(279),y=r(m),v=n(280),g=r(v),_=n(125),b=r(_),x=n(281),w=r(x),E=n(73),S=r(E),M=n(291),T=r(M),C=n(130),k=r(C),P=n(284),A=r(P),R=n(285),O=r(R),I=n(289),L=r(I),N=n(127),D=r(N);e.Router=u.default,e.Link=c.default,e.IndexLink=p.default,e.withRouter=d.default,e.IndexRedirect=y.default,e.IndexRoute=g.default,e.Redirect=b.default,e.Route=w.default,e.RouterContext=S.default,e.match=T.default,e.useRouterHistory=k.default,e.applyRouterMiddleware=A.default,e.browserHistory=O.default,e.hashHistory=L.default,e.createMemoryHistory=D.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(e.indexOf("deprecated")!==-1){if(u[e])return;u[e]=!0}e="[react-router] "+e;for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];s.default.apply(void 0,[t,e].concat(r))}function i(){u={}}e.__esModule=!0,e.default=o,e._resetWarned=i;var a=n(24),s=r(a),u={}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.statesAreEqual=e.createLocation=e.createQuery=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(9),s=r(a),u=n(24),l=(r(u),n(23)),c=n(59),f=(e.createQuery=function(t){return i(Object.create(null),t)},e.createLocation=function(){var t=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],e=arguments.length<=1||void 0===arguments[1]?c.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r="string"==typeof t?(0,l.parsePath)(t):t,o=r.pathname||"/",i=r.search||"",a=r.hash||"",s=r.state;return{pathname:o,search:i,hash:a,state:s,action:e,key:n}},function(t){return"[object Date]"===Object.prototype.toString.call(t)}),p=e.statesAreEqual=function t(e,n){if(e===n)return!0;var r="undefined"==typeof e?"undefined":o(e),i="undefined"==typeof n?"undefined":o(n);if(r!==i)return!1;if("function"===r?(0,s.default)(!1):void 0,"object"===r){if(f(e)&&f(n)?(0,s.default)(!1):void 0,!Array.isArray(e)){var a=Object.keys(e),u=Object.keys(n);return a.length===u.length&&a.every(function(r){return t(e[r],n[r])})}return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])})}return!1};e.locationsAreEqual=function(t,e){return t.key===e.key&&t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&p(t.state,e.state)}},function(t,e,n){"use strict";function r(t){if(y){var e=t.node,n=t.children;if(n.length)for(var r=0;r<n.length;r++)v(e,n[r],null);else null!=t.html?f(e,t.html):null!=t.text&&h(e,t.text)}}function o(t,e){t.parentNode.replaceChild(e.node,t),r(e)}function i(t,e){y?t.children.push(e):t.node.appendChild(e.node)}function a(t,e){y?t.html=e:f(t.node,e)}function s(t,e){y?t.text=e:h(t.node,e)}function u(){return this.node.nodeName}function l(t){return{node:t,children:[],html:null,text:null,toString:u}}var c=n(81),f=n(66),p=n(95),h=n(173),d=1,m=11,y="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=p(function(t,e,n){e.node.nodeType===m||e.node.nodeType===d&&"object"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===c.html)?(r(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),r(e))});l.insertTreeBefore=v,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},function(t,e,n){"use strict";function r(t,e){return(t&e)===e}var o=n(3),i=(n(2),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=i,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},u=t.DOMAttributeNames||{},l=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?o("48",f):void 0;var p=f.toLowerCase(),h=n[f],d={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(h,e.MUST_USE_PROPERTY),hasBooleanValue:r(h,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:o("50",f),u.hasOwnProperty(f)){var m=u[f];d.attributeName=m}a.hasOwnProperty(f)&&(d.attributeNamespace=a[f]),l.hasOwnProperty(f)&&(d.propertyName=l[f]),c.hasOwnProperty(f)&&(d.mutationMethod=c[f]),s.properties[f]=d}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:i};t.exports=s},function(t,e,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(394),i=(n(12),n(4),{mountComponent:function(t,e,n,o,i,a){var s=t.mountComponent(e,n,o,i,a);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(r,t),s},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){o.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,i){var a=t._currentElement;if(e!==a||i!==t._context){var s=o.shouldUpdateRefs(a,e);s&&o.detachRefs(t,a),t.receiveComponent(e,n,i),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}});t.exports=i},function(t,e,n){"use strict";function r(t,e,n){if(t[e])return new Error("<"+n+'> should not have a "'+e+'" prop')}e.__esModule=!0,e.routes=e.route=e.components=e.component=e.history=void 0,e.falsy=r;var o=n(1),i=o.PropTypes.func,a=o.PropTypes.object,s=o.PropTypes.arrayOf,u=o.PropTypes.oneOfType,l=o.PropTypes.element,c=o.PropTypes.shape,f=o.PropTypes.string,p=(e.history=c({listen:i.isRequired,push:i.isRequired,replace:i.isRequired,go:i.isRequired,goBack:i.isRequired,goForward:i.isRequired}),e.component=u([i,f])),h=(e.components=u([p,a]),e.route=u([a,l]));e.routes=u([h,s(h)])},function(t,e,n){"use strict";t.exports=n(325)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({TASKS_FETCH_ALL:null,TASKS_FETCH_BY_ID:null,TASKS_SELECT:null,TASKS_CREATE:null,TASKS_UPDATE:null,TASKS_DESTROY:null});e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=function(t){return t.modals},i={getShowSettingsModal:(0,r.createSelector)(o,function(t){return t.showSettingsModal}),getShowSuccessModal:(0,r.createSelector)(o,function(t){return t.showSuccessModal}),getSuccessMessage:(0,r.createSelector)(o,function(t){return t.successMessage}),getShowErrorModal:(0,r.createSelector)(o,function(t){return t.showErrorModal}),getErrorMessage:(0,r.createSelector)(o,function(t){return t.errorMessage}),getShowCreateTaskModal:(0,r.createSelector)(o,function(t){return t.showCreateTaskModal}),getShowManageUsersModal:(0,r.createSelector)(o,function(t){return t.showManageUsersModal})};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=function(t){return t.settings},i={getSidebarSetting:(0,r.createSelector)(o,function(t){return t.sidebar}),getEditorSetting:(0,r.createSelector)(o,function(t){return t.editor})};e.default=i},function(t,e,n){"use strict";var r=n(3),o=n(82),i=n(83),a=n(89),s=n(165),u=n(167),l=(n(2),{}),c=null,f=function(t,e){t&&(i.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return f(t,!0)},h=function(t){return f(t,!1)},d=function(t){return"."+t._rootNodeID},m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?r("94",e,typeof n):void 0;var i=d(t),a=l[e]||(l[e]={});a[i]=n;var s=o.registrationNameModules[e];s&&s.didPutListener&&s.didPutListener(t,e,n)},getListener:function(t,e){var n=l[e],r=d(t);return n&&n[r]},deleteListener:function(t,e){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=l[e];if(r){var i=d(t);delete r[i]}},deleteAllListeners:function(t){var e=d(t);for(var n in l)if(l.hasOwnProperty(n)&&l[n][e]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n),delete l[n][e]}},extractEvents:function(t,e,n,r){for(var i,a=o.plugins,u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(t,e,n,r);c&&(i=s(i,c))}}return i},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(t){var e=c;c=null,t?u(e,p):u(e,h),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=m},function(t,e,n){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return _(t,r)}function o(t,e,n){var o=e?g.bubbled:g.captured,i=r(t,n,o);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchInstances=y(n._dispatchInstances,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(t._targetInst,o,t)}function a(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?m.getParentInstance(e):null;m.traverseTwoPhase(n,o,t)}}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=_(t,r);o&&(n._dispatchListeners=y(n._dispatchListeners,o),n._dispatchInstances=y(n._dispatchInstances,t))}}function u(t){t&&t.dispatchConfig.registrationName&&s(t._targetInst,null,t)}function l(t){v(t,i)}function c(t){v(t,a)}function f(t,e,n,r){m.traverseEnterLeave(n,r,s,t,e)}function p(t){v(t,u)}var h=n(19),d=n(46),m=n(83),y=n(165),v=n(167),g=(n(4),h.PropagationPhases),_=d.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:f};t.exports=b},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(20),i=n(98),a={view:function(t){if(t.view)return t.view;var e=i(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};o.augmentClass(r,a),t.exports=r},function(t,e,n){"use strict";var r=n(3),o=(n(2),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,o,i,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(e,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(t){this.isInTransaction()?void 0:r("28");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o,a=e[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}}),i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(230),i=n(231),a=n(232),s=n(233),u=n(234);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(113);t.exports=r},[454,69,218,243],function(t,e,n){function r(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}var o=n(227);t.exports=r},function(t,e,n){var r=n(32),o=r(Object,"create");t.exports=o},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){var r=n(1),o=n(262),i=n(259),a=n(260),s={childContextTypes:{__keybindings:r.PropTypes.array},contextTypes:{__keybindings:r.PropTypes.array},getChildContext:function(){return{__keybindings:this.__getKeybindings()}},__getKeybindings:function(){return this.__keybindings=this.__keybindings||this.context&&this.context.__keybindings||[],this.__keybindings},getAllKeybindings:function(){return this.__getKeybindings()},__keybinding:function(t){if(!i(t)||this.keybindingsOnInputs)for(var e=0;e<this.matchers.length;e++)if(a(this.matchers[e].expectation,t))if("function"==typeof this.matchers[e].action)this.matchers[e].action.apply(this,[t]);else{if("function"!=typeof this.keybinding)throw new Error("non-function keybinding action given but no .keybinding method found on component");this.keybinding(t,this.matchers[e].action)}},componentDidMount:function(){void 0!==this.keybindings&&(this.matchers=o(this.keybindings,!!this.keybindingsPlatformAgnostic),document.addEventListener("keydown",this.__keybinding),this.__getKeybindings().push(this.keybindings))},componentWillUnmount:function(){void 0!==this.keybindings&&(document.removeEventListener("keydown",this.__keybinding),this.__getKeybindings().splice(this.__getKeybindings().indexOf(this.keybindings),1))}};t.exports=s},function(t,e){"use strict";e.__esModule=!0;e.PUSH="PUSH",e.REPLACE="REPLACE",e.POP="POP"},function(t,e){"use strict";e.__esModule=!0;e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.supportsHistory=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history);
},e.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},e.supportsPopstateOnHashchange=function(){return window.navigator.userAgent.indexOf("Trident")===-1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i=n(143),a=r(i),s=n(8),u=n(43),l=r(u),c={fetchAllTasks:(0,s.asyncAction)({type:l.default.TASKS_FETCH_ALL,asyncCall:o.server.fetchAllTasks,responseSchema:{tasks:a.default.arrayOfTasks},showLoader:!0}),fetchTaskById:(0,s.asyncAction)({type:l.default.TASKS_FETCH_BY_ID,asyncCall:o.server.fetchTaskById,responseSchema:a.default.task}),selectTask:function(t){var e=t.idtask;return{type:l.default.TASKS_SELECT,idtask:e}},createTask:(0,s.asyncAction)({type:l.default.TASKS_CREATE,asyncCall:o.server.createTask,responseSchema:a.default.task,showLoader:!0,showError:!1}),updateTask:(0,s.asyncAction)({type:l.default.TASKS_UPDATE,asyncCall:o.server.updateTask,responseSchema:a.default.task,showLoader:!0}),destroyTask:(0,s.asyncAction)({type:l.default.TASKS_DESTROY,asyncCall:o.server.destroyTask,showLoader:!0})};e.default=c},function(t,e){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getHostProps:function(t,e){if(!e.disabled)return e;var r={};for(var o in e)!n[o]&&e.hasOwnProperty(o)&&(r[o]=e[o]);return r}};t.exports=r},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,y)||(t[y]=d++,p[t[y]]={}),p[t[y]]}var o,i=n(5),a=n(19),s=n(82),u=n(386),l=n(164),c=n(417),f=n(99),p={},h=!1,d=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),v=i({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=t}},setEnabled:function(t){v.ReactEventListener&&v.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=r(n),i=s.registrationNameDependencies[t],u=a.topLevelTypes,l=0;l<i.length;l++){var c=i[l];o.hasOwnProperty(c)&&o[c]||(c===u.topWheel?f("wheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):f("mousewheel")?v.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?f("scroll",!0)?v.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(f("focus",!0)?(v.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):f("focusin")&&(v.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(t,e,n){return v.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return v.ReactEventListener.trapCapturedEvent(t,e,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=v.supportsEventPageXY()),!o&&!h){var t=l.refreshScrollValues;v.ReactEventListener.monitorScrollValue(t),h=!0}}});t.exports=v},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(49),i=n(164),a=n(97),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},function(t,e){"use strict";function n(t){var e=""+t,n=o.exec(e);if(!n)return e;var r,i="",a=0,s=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=e.substring(s,a)),s=a+1,i+=r}return s!==a?i+e.substring(s,a):i}function r(t){return"boolean"==typeof t||"number"==typeof t?""+t:n(t)}var o=/["'&<>]/;t.exports=r},function(t,e,n){"use strict";var r,o=n(10),i=n(81),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(95),l=u(function(t,e){if(t.namespaceURI!==i.svg||"innerHTML"in t)t.innerHTML=e;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+e+"</svg>";for(var n=r.firstChild;n.firstChild;)t.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),a.test(e)||"<"===e[0]&&s.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),c=null}t.exports=l},function(t,e,n){"use strict";var r=n(2),o=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:r(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=o},function(t,e,n){var r=n(32),o=n(17),i=r(o,"Map");t.exports=i},[453,17],function(t,e){"use strict";function n(t,e,n){function r(){return a=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function o(){if(!a&&(u=!0,!s)){for(s=!0;!a&&i<t&&u;)u=!1,e.call(this,i++,o,r);return s=!1,a?void n.apply(this,l):void(i>=t&&u&&(a=!0,n()))}}var i=0,a=!1,s=!1,u=!1,l=void 0;o()}function r(t,e,n){function r(t,e,r){a||(e?(a=!0,n(e)):(i[t]=r,a=++s===o,a&&n(null,i)))}var o=t.length,i=[];if(0===o)return n(null,i);var a=!1,s=0;t.forEach(function(t,n){e(t,n,function(t,e){r(n,t,e)})})}e.__esModule=!0,e.loopAsync=n,e.mapAsync=r},function(t,e,n){"use strict";function r(t){return"@@contextSubscriber/"+t}function o(t){var e,n,o=r(t),i=o+"/listeners",a=o+"/eventIndex",u=o+"/subscribe";return n={childContextTypes:(e={},e[o]=s.isRequired,e),getChildContext:function(){var t;return t={},t[o]={eventIndex:this[a],subscribe:this[u]},t},componentWillMount:function(){this[i]=[],this[a]=0},componentWillReceiveProps:function(){this[a]++},componentDidUpdate:function(){var t=this;this[i].forEach(function(e){return e(t[a])})}},n[u]=function(t){var e=this;return this[i].push(t),function(){e[i]=e[i].filter(function(e){return e!==t})}},n}function i(t){var e,n,o=r(t),i=o+"/lastRenderedEventIndex",a=o+"/handleContextUpdate",u=o+"/unsubscribe";return n={contextTypes:(e={},e[o]=s,e),getInitialState:function(){var t;return this.context[o]?(t={},t[i]=this.context[o].eventIndex,t):{}},componentDidMount:function(){this.context[o]&&(this[u]=this.context[o].subscribe(this[a]))},componentWillReceiveProps:function(){var t;this.context[o]&&this.setState((t={},t[i]=this.context[o].eventIndex,t))},componentWillUnmount:function(){this[u]&&(this[u](),this[u]=null)}},n[a]=function(t){if(t!==this.state[i]){var e;this.setState((e={},e[i]=t,e))}},n}e.__esModule=!0,e.ContextProvider=o,e.ContextSubscriber=i;var a=n(1),s=a.PropTypes.shape({subscribe:a.PropTypes.func.isRequired,eventIndex:a.PropTypes.number.isRequired})},function(t,e,n){"use strict";e.__esModule=!0,e.locationShape=e.routerShape=void 0;var r=n(1),o=r.PropTypes.func,i=r.PropTypes.object,a=r.PropTypes.shape,s=r.PropTypes.string;e.routerShape=a({push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired,setRouteLeaveHook:o.isRequired,isActive:o.isRequired}),e.locationShape=a({pathname:s.isRequired,search:s.isRequired,state:i,action:s.isRequired,key:s})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(9),s=r(a),u=n(1),l=r(u),c=n(288),f=r(c),p=n(71),h=n(22),d=l.default.PropTypes,m=d.array,y=d.func,v=d.object,g=l.default.createClass({displayName:"RouterContext",mixins:[(0,p.ContextProvider)("router")],propTypes:{router:v.isRequired,location:v.isRequired,routes:m.isRequired,params:v.isRequired,components:m.isRequired,createElement:y.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{router:v.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(t,e){return null==t?null:this.props.createElement(t,e)},render:function(){var t=this,e=this.props,n=e.location,r=e.routes,a=e.params,u=e.components,c=e.router,p=null;return u&&(p=u.reduceRight(function(e,s,u){if(null==s)return e;var l=r[u],p=(0,f.default)(l,a),d={location:n,params:a,route:l,router:c,routeParams:p,routes:r};if((0,h.isReactChildren)(e))d.children=e;else if(e)for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(d[m]=e[m]);if("object"===("undefined"==typeof s?"undefined":i(s))){var y={};for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&(y[v]=t.createElement(s[v],o({key:v},d)));return y}return t.createElement(s,d)},p)),null===p||p===!1||l.default.isValidElement(p)?void 0:(0,s.default)(!1),p}});e.default=g,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.go=e.replaceLocation=e.pushLocation=e.startListener=e.getUserConfirmation=e.getCurrentLocation=void 0;var r=n(37),o=n(60),i=n(131),a=n(23),s=n(75),u="popstate",l="hashchange",c=s.canUseDOM&&!(0,o.supportsPopstateOnHashchange)(),f=function(t){var e=t&&t.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:e?(0,i.readState)(e):void 0},void 0,e)},p=e.getCurrentLocation=function(){var t=void 0;try{t=window.history.state||{}}catch(e){t={}}return f(t)},h=(e.getUserConfirmation=function(t,e){return e(window.confirm(t))},e.startListener=function(t){var e=function(e){void 0!==e.state&&t(f(e.state))};(0,o.addEventListener)(window,u,e);var n=function(){return t(p())};return c&&(0,o.addEventListener)(window,l,n),function(){(0,o.removeEventListener)(window,u,e),c&&(0,o.removeEventListener)(window,l,n)}},function(t,e){var n=t.state,r=t.key;void 0!==n&&(0,i.saveState)(r,n),e({key:r},(0,a.createPath)(t))});e.pushLocation=function(t){return h(t,function(t,e){return window.history.pushState(t,null,e)})},e.replaceLocation=function(t){return h(t,function(t,e){return window.history.replaceState(t,null,e)})},e.go=function(t){t&&window.history.go(t)}},function(t,e){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(294),i=n(23),a=n(77),s=r(a),u=n(59),l=n(37),c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.getCurrentLocation,n=t.getUserConfirmation,r=t.pushLocation,a=t.replaceLocation,c=t.go,f=t.keyLength,p=void 0,h=void 0,d=[],m=[],y=[],v=function(){return h&&h.action===u.POP?y.indexOf(h.key):p?y.indexOf(p.key):-1},g=function(t){var e=v();p=t,p.action===u.PUSH?y=[].concat(y.slice(0,e+1),[p.key]):p.action===u.REPLACE&&(y[e]=p.key),m.forEach(function(t){return t(p)})},_=function(t){return d.push(t),function(){return d=d.filter(function(e){return e!==t})}},b=function(t){return m.push(t),function(){return m=m.filter(function(e){return e!==t})}},x=function(t,e){(0,o.loopAsync)(d.length,function(e,n,r){(0,s.default)(d[e],t,function(t){return null!=t?r(t):n()})},function(t){n&&"string"==typeof t?n(t,function(t){return e(t!==!1)}):e(t!==!1)})},w=function(t){p&&(0,l.locationsAreEqual)(p,t)||h&&(0,l.locationsAreEqual)(h,t)||(h=t,x(t,function(e){if(h===t)if(h=null,e){if(t.action===u.PUSH){var n=(0,i.createPath)(p),o=(0,i.createPath)(t);o===n&&(0,l.statesAreEqual)(p.state,t.state)&&(t.action=u.REPLACE)}t.action===u.POP?g(t):t.action===u.PUSH?r(t)!==!1&&g(t):t.action===u.REPLACE&&a(t)!==!1&&g(t)}else if(p&&t.action===u.POP){var s=y.indexOf(p.key),f=y.indexOf(t.key);s!==-1&&f!==-1&&c(s-f)}}))},E=function(t){return w(P(t,u.PUSH))},S=function(t){return w(P(t,u.REPLACE))},M=function(){return c(-1)},T=function(){return c(1)},C=function(){return Math.random().toString(36).substr(2,f||6)},k=function(t){return(0,i.createPath)(t)},P=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?C():arguments[2];return(0,l.createLocation)(t,e,n)};return{getCurrentLocation:e,listenBefore:_,listen:b,transitionTo:w,push:E,replace:S,go:c,goBack:M,goForward:T,createKey:C,createPath:i.createPath,createHref:k,createLocation:P}};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(24),i=(r(o),function(t,e,n){var r=t(e,n);t.length<2&&n(r)});e.default=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){m&&h&&(m=!1,h.length?d=h.concat(d):y=-1,d.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,m=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,f,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],m=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function o(t,e,n){c.insertTreeBefore(t,e,n)}function i(t,e,n){Array.isArray(e)?s(t,e[0],e[1],n):y(t,e,n)}function a(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],u(t,e,n),t.removeChild(n)}t.removeChild(e)}function s(t,e,n,r){for(var o=e;;){var i=o.nextSibling;if(y(t,o,r),o===n)break;o=i}}function u(t,e,n){for(;;){var r=e.nextSibling;if(r===n)break;t.removeChild(r)}}function l(t,e,n){var r=t.parentNode,o=t.nextSibling;o===e?n&&y(r,document.createTextNode(n),o):n?(m(o,n),u(r,o,e)):u(r,t,e)}var c=n(38),f=n(361),p=n(160),h=(n(6),n(12),n(95)),d=n(66),m=n(173),y=h(function(t,e,n){t.insertBefore(e,n)}),v=f.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:l,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var s=e[n];switch(s.type){case p.INSERT_MARKUP:o(t,s.content,r(t,s.afterNode));break;case p.MOVE_EXISTING:i(t,s.fromNode,r(t,s.afterNode));break;case p.SET_MARKUP:d(t,s.content);break;case p.TEXT_CONTENT:m(t,s.content);break;case p.REMOVE_NODE:a(t,s.fromNode)}}}};t.exports=g},function(t,e){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=n},function(t,e,n){"use strict";function r(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(n>-1?void 0:a("96",t),!l.plugins[n]){e.extractEvents?void 0:a("97",t),l.plugins[n]=e;var r=e.eventTypes;for(var i in r)o(r[i],e,i)?void 0:a("98",i,t)}}}function o(t,e,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,e,n)}return!0}return!!t.registrationName&&(i(t.registrationName,e,n),!0)}function i(t,e,n){l.registrationNameModules[t]?a("100",t):void 0,l.registrationNameModules[t]=e,l.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=n(3),s=(n(2),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){s?a("101"):void 0,s=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]?a("102",n):void 0,u[n]=o,e=!0)}e&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},function(t,e,n){"use strict";function r(t){return t===g.topMouseUp||t===g.topTouchEnd||t===g.topTouchCancel}function o(t){return t===g.topMouseMove||t===g.topTouchMove}function i(t){return t===g.topMouseDown||t===g.topTouchStart}function a(t,e,n,r){var o=t.type||"unknown-event";t.currentTarget=_.getNodeFromInstance(r),e?y.invokeGuardedCallbackWithCatch(o,n,t):y.invokeGuardedCallback(o,n,t),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!t.isPropagationStopped();o++)a(t,e,n[o],r[o]);else n&&a(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null}function u(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function l(t){var e=u(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?d("103"):void 0,t.currentTarget=e?_.getNodeFromInstance(n):null;var r=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,r}function f(t){return!!t._dispatchListeners}var p,h,d=n(3),m=n(19),y=n(89),v=(n(2),n(4),{injectComponentTree:function(t){p=t},injectTreeTraversal:function(t){h=t}}),g=m.topLevelTypes,_={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:f,getInstanceFromNode:function(t){return p.getInstanceFromNode(t)},getNodeFromInstance:function(t){return p.getNodeFromInstance(t)},isAncestor:function(t,e){return h.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return h.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return h.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return h.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,r,o){return h.traverseEnterLeave(t,e,n,r,o)},injection:v};t.exports=_},function(t,e){"use strict";function n(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+t).replace(e,function(t){return n[t]});return"$"+r}function r(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1);return(""+r).replace(e,function(t){return n[t]})}var o={escape:n,unescape:r};t.exports=o},function(t,e,n){"use strict";function r(t){null!=t.checkedLink&&null!=t.valueLink?s("87"):void 0}function o(t){r(t),null!=t.value||null!=t.onChange?s("88"):void 0}function i(t){r(t),null!=t.checked||null!=t.onChange?s("89"):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var s=n(3),u=n(162),l=n(92),c=n(93),f=(n(2),n(4),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(t,e,n){return!t[e]||f[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},h={},d={checkPropTypes:function(t,e,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](e,r,t,l.prop,null,c);if(o instanceof Error&&!(o.message in h)){h[o.message]=!0;a(n)}}},getValue:function(t){return t.valueLink?(o(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(i(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(o(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(i(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=d},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||i}var o=n(3),i=n(90),a=(n(166),n(51));n(2),n(4);r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?o("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};t.exports=r},function(t,e,n){"use strict";var r=n(3),o=(n(2),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){o?r("104"):void 0,i.replaceNodeWithMarkup=t.replaceNodeWithMarkup,i.processChildrenUpdates=t.processChildrenUpdates,o=!0}}};t.exports=i},function(t,e,n){"use strict";function r(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=e.call(t);return r.test(o)}catch(i){return!1}}function o(t){return"."+t}function i(t){return parseInt(t.substr(1),10)}function a(t){if(E)return v.get(t);var e=o(t);return _[e]}function s(t){if(E)v.delete(t);else{var e=o(t);delete _[e]}}function u(t,e,n){var r={element:e,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};if(E)v.set(t,r);else{var i=o(t);_[i]=r}}function l(t){if(E)g.add(t);else{var e=o(t);b[e]=!0}}function c(t){if(E)g.delete(t);else{var e=o(t);delete b[e]}}function f(){return E?Array.from(v.keys()):Object.keys(_).map(i)}function p(){return E?Array.from(g.keys()):Object.keys(b).map(i)}function h(t){var e=a(t);if(e){var n=e.childIDs;s(t),n.forEach(h)}}function d(t,e,n){return"\n    in "+t+(e?" (at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+")":n?" (created by "+n+")":"")}function m(t){return null==t?"#empty":"string"==typeof t||"number"==typeof t?"#text":"string"==typeof t.type?t.type:t.type.displayName||t.type.name||"Unknown"}function y(t){var e,n=M.getDisplayName(t),r=M.getElement(t),o=M.getOwnerID(t);return o&&(e=M.getDisplayName(o)),d(n,r&&r._source,e)}var v,g,_,b,x=n(3),w=n(27),E=(n(2),n(4),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));E?(v=new Map,g=new Set):(_={},b={});var S=[],M={onSetChildren:function(t,e){var n=a(t);n.childIDs=e;for(var r=0;r<e.length;r++){var o=e[r],i=a(o);i?void 0:x("140"),null==i.childIDs&&"object"==typeof i.element&&null!=i.element?x("141"):void 0,i.isMounted?void 0:x("71"),null==i.parentID&&(i.parentID=t),i.parentID!==t?x("142",o,i.parentID,t):void 0}},onBeforeMountComponent:function(t,e,n){u(t,e,n)},onBeforeUpdateComponent:function(t,e){var n=a(t);n&&n.isMounted&&(n.element=e)},onMountComponent:function(t){var e=a(t);e.isMounted=!0;var n=0===e.parentID;n&&l(t)},onUpdateComponent:function(t){var e=a(t);e&&e.isMounted&&e.updateCount++},onUnmountComponent:function(t){var e=a(t);if(e){e.isMounted=!1;var n=0===e.parentID;n&&c(t)}S.push(t)},purgeUnmountedComponents:function(){if(!M._preventPurging){for(var t=0;t<S.length;t++){var e=S[t];h(e)}S.length=0}},isMounted:function(t){var e=a(t);return!!e&&e.isMounted},getCurrentStackAddendum:function(t){var e="";if(t){var n=t.type,r="function"==typeof n?n.displayName||n.name:n,o=t._owner;e+=d(r||"Unknown",t._source,o&&o.getName())}var i=w.current,a=i&&i._debugID;return e+=M.getStackAddendumByID(a)},getStackAddendumByID:function(t){for(var e="";t;)e+=y(t),t=M.getParentID(t);return e},getChildIDs:function(t){var e=a(t);return e?e.childIDs:[]},getDisplayName:function(t){var e=M.getElement(t);return e?m(e):null},getElement:function(t){var e=a(t);return e?e.element:null},getOwnerID:function(t){var e=M.getElement(t);return e&&e._owner?e._owner._debugID:null},getParentID:function(t){var e=a(t);return e?e.parentID:null},getSource:function(t){var e=a(t),n=e?e.element:null,r=null!=n?n._source:null;return r},getText:function(t){var e=M.getElement(t);return"string"==typeof e?e:"number"==typeof e?""+e:null},getUpdateCount:function(t){var e=a(t);return e?e.updateCount:0},getRegisteredIDs:f,getRootIDs:p};t.exports=M},function(t,e,n){"use strict";function r(t,e,n,r){try{return e(n,r)}catch(i){return void(null===o&&(o=i))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var t=o;throw o=null,t}}};t.exports=i},function(t,e,n){"use strict";function r(t,e){}var o=(n(4),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")}});t.exports=o},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";var r=n(67),o=r({prop:null,context:null,childContext:null});t.exports=o},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},function(t,e,n){"use strict";function r(t){u.enqueueUpdate(t)}function o(t){var e=typeof t;if("object"!==e)return e;var n=t.constructor&&t.constructor.name||e,r=Object.keys(t);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(t,e){var n=s.get(t);if(!n){return null}return n}var a=n(3),s=(n(27),n(48)),u=(n(12),n(16)),l=(n(2),n(4),{isMounted:function(t){var e=s.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){l.validateCallback(e,n);var o=i(t);return o?(o._pendingCallbacks?o._pendingCallbacks.push(e):o._pendingCallbacks=[e],void r(o)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],r(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=i(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=i(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),r(n)}},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,r(t)},validateCallback:function(t,e){t&&"function"!=typeof t?a("122",e,o(t)):void 0}});t.exports=l},function(t,e){"use strict";var n=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t};t.exports=n},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return!!r&&!!n[r]}function r(t){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(10);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,r=null===e||e===!1;if(n||r)return n===r;var o=typeof t,i=typeof e;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e,n){"use strict";function r(t,e){return t&&"object"==typeof t&&null!=t.key?l.escape(t.key):e.toString(36)}function o(t,e,n,i){var p=typeof t;if("undefined"!==p&&"boolean"!==p||(t=null),null===t||"string"===p||"number"===p||s.isValidElement(t))return n(i,t,""===e?c+r(t,0):e),1;var h,d,m=0,y=""===e?c:e+f;if(Array.isArray(t))for(var v=0;v<t.length;v++)h=t[v],d=y+r(h,v),m+=o(h,d,n,i);else{var g=u(t);if(g){var _,b=g.call(t);if(g!==t.entries)for(var x=0;!(_=b.next()).done;)h=_.value,
d=y+r(h,x++),m+=o(h,d,n,i);else for(;!(_=b.next()).done;){var w=_.value;w&&(h=w[1],d=y+l.escape(w[0])+f+r(h,0),m+=o(h,d,n,i))}}else if("object"===p){var E="",S=String(t);a("31","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,E)}}return m}function i(t,e,n){return null==t?0:o(t,"",e,n)}var a=n(3),s=(n(27),n(15)),u=n(169),l=(n(2),n(84)),c=(n(4),"."),f=":";t.exports=i},function(t,e,n){"use strict";var r=(n(5),n(13)),o=(n(4),r);t.exports=o},function(t,e){"use strict";function n(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function r(t,e){if(n(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!o.call(e,r[a])||!n(t[r[a]],e[r[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var o=n(179),i=r(o),a=n(441),s=r(a),u=n(440),l=r(u),c=n(439),f=r(c),p=n(178),h=r(p),d=n(180);r(d);e.createStore=i.default,e.combineReducers=s.default,e.bindActionCreators=l.default,e.applyMiddleware=f.default,e.compose=h.default},function(t,e){function n(t,e){return{type:"Feature",properties:e||{},geometry:t}}t.exports.feature=n,t.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:t.slice()},e)},t.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var r=0;r<t.length;r++){var o=t[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e)},t.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:t},e)},t.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}},t.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e)},t.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e)},t.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e)},t.exports.geometryCollection=function(t,e){return n({type:"GeometryCollection",geometries:t},e)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};t.exports.radiansToDistance=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},t.exports.distanceToRadians=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},t.exports.distanceToDegrees=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},function(t,e,n){var r,o,i;!function(n){return"undefined"!=typeof t&&t.exports?t.exports=n():(o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i)))}(function(){function t(t,e){return t&&t.toLowerCase()===e.toLowerCase()}var e="BKMGTPEZY".split("");return function(n,r){return n="number"==typeof n?n:0,r=r||{},r.fixed="number"==typeof r.fixed?r.fixed:2,r.spacer="string"==typeof r.spacer?r.spacer:" ",r.calculate=function(e){var o,i=t(e,"si")?["k","B"]:["K","iB"],a=t(e,"si")?1e3:1024,s=Math.log(n)/Math.log(a)|0,u=n/Math.pow(a,s),l=u.toFixed(r.fixed);return s-1<3&&!t(e,"si")&&t(e,"jedec")&&(i[1]="B"),o=s?(i[0]+"MGTPEZY")[s-1]+i[1]:1===(0|l)?"Byte":"Bytes",{suffix:o,magnitude:s,result:u,fixed:l,bits:{result:u/8,fixed:(u/8).toFixed(r.fixed)}}},r.to=function(r,o){var i=t(o,"si")?1e3:1024,a=e.indexOf("string"==typeof r?r[0].toUpperCase():"B"),s=n;if(a===-1||0===a)return s.toFixed(2);for(;a>0;a--)s/=i;return s.toFixed(2)},r.human=function(t){var e=r.calculate(t);return e.fixed+r.spacer+e.suffix},r}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(33),s=r(a),u=function(){function t(e,n){if(o(this,t),!(0,s.default)(e))throw new Error("UnionSchema requires item schema to be an object.");if(!n||!n.schemaAttribute)throw new Error("UnionSchema requires schemaAttribute option.");this._itemSchema=e;var r=n.schemaAttribute;this._getSchema="function"==typeof r?r:function(t){return t[r]}}return i(t,[{key:"getItemSchema",value:function(){return this._itemSchema}},{key:"getSchemaKey",value:function(t){return this._getSchema(t)}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){t[e]=n}function i(t,e,n,r){var i=r.assignEntity,a=void 0===i?o:i,s=e&&e.getDefaults&&e.getDefaults(),u=e&&e.getAssignEntity&&e.getAssignEntity(),l=(0,C.default)(s)?v({},s):{};for(var c in t)if(t.hasOwnProperty(c)){var f=p(t[c],e[c],n,r);a.call(null,l,c,f,t,e),u&&u.call(null,l,c,f,t,e)}return l}function a(t,e,n,r){return function(t){return p(t,e,n,r)}}function s(t,e,n,r){return function(o){var i=t.getSchemaKey(o),a=p(o,e[i],n,r);return{id:a,schema:i}}}function u(t,e,n,r){var o=e.getItemSchema(),i=a(e,o,n,r);return Array.isArray(t)?t.map(i):Object.keys(t).reduce(function(e,n){return e[n]=i(t[n]),e},{})}function l(t,e,n,r){var o=e.getItemSchema();return s(e,o,n,r)(t)}function c(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&!(0,M.default)(t[r],e[r])?console.warn("When merging two "+n+', found unequal data in their "'+r+'" values. Using the earlier value.',t[r],e[r]):t[r]=e[r])}function f(t,e,n,r){var o=r.mergeIntoEntity,a=void 0===o?c:o,s=e.getKey(),u=e.getId(t);n.hasOwnProperty(s)||(n[s]={}),n[s].hasOwnProperty(u)||(n[s][u]={});var l=n[s][u],f=i(t,e,n,r);return a(l,f,s),u}function p(t,e,n,r){return(0,C.default)(t)&&(0,C.default)(e)?e instanceof _.default?f(t,e,n,r):e instanceof x.default?u(t,e,n,r):e instanceof E.default?l(t,e,n,r):i(t,e,n,r):t}function h(t,e){return new x.default(t,e)}function d(t,e){return new x.default(t,e)}function m(t,e){return new E.default(t,e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!(0,C.default)(t))throw new Error("Normalize accepts an object or an array as its input.");if(!(0,C.default)(e)||Array.isArray(e))throw new Error("Normalize accepts an object for schema.");var r={},o=p(t,e,r,n);return{entities:r,result:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.Schema=void 0;var v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.arrayOf=h,e.valuesOf=d,e.unionOf=m,e.normalize=y;var g=n(194),_=r(g),b=n(195),x=r(b),w=n(107),E=r(w),S=n(255),M=r(S),T=n(33),C=r(T);e.Schema=_.default},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(235),i=n(236),a=n(237),s=n(238),u=n(239);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e,n,r,l,c){var f=l&u,p=t.length,h=e.length;if(p!=h&&!(f&&h>p))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var m=-1,y=!0,v=l&s?new o:void 0;for(c.set(t,e),c.set(e,t);++m<p;){var g=t[m],_=e[m];if(r)var b=f?r(_,g,m,e,t,c):r(g,_,m,t,e,c);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!i(e,function(t,e){if(!a(v,e)&&(g===t||n(g,t,r,l,c)))return v.push(e)})){y=!1;break}}else if(g!==_&&!n(g,_,r,l,c)){y=!1;break}}return c.delete(t),c.delete(e),y}var o=n(200),i=n(205),a=n(214),s=1,u=2;t.exports=r},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t){var r=n(17),o=n(257),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||o;t.exports=c}).call(e,n(78)(t))},function(t,e,n){function r(t){if(!i(t))return!1;var e=o(t);return e==s||e==u||e==a||e==l}var o=n(54),i=n(33),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){var r=n(210),o=n(213),i=n(242),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e,n){"use strict";t.exports=n(370)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1);e.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},[453,275],function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t){return 0===t.button}function a(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function u(t,e){return"function"==typeof t?t(e.location):t}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(1),f=r(c),p=n(9),h=r(p),d=n(72),m=n(71),y=f.default.PropTypes,v=y.bool,g=y.object,_=y.string,b=y.func,x=y.oneOfType,w=f.default.createClass({displayName:"Link",mixins:[(0,m.ContextSubscriber)("router")],contextTypes:{router:d.routerShape},propTypes:{to:x([_,g,b]),query:g,hash:_,state:g,activeStyle:g,activeClassName:_,onlyActiveOnIndex:v.isRequired,onClick:b,target:_},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(t){if(this.props.onClick&&this.props.onClick(t),!t.defaultPrevented){var e=this.context.router;e?void 0:(0,h.default)(!1),!a(t)&&i(t)&&(this.props.target||(t.preventDefault(),e.push(u(this.props.to,e))))}},render:function(){var t=this.props,e=t.to,n=t.activeClassName,r=t.activeStyle,i=t.onlyActiveOnIndex,a=o(t,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),c=this.context.router;if(c){if(null==e)return f.default.createElement("a",a);var p=u(e,c);a.href=c.createHref(p),(n||null!=r&&!s(r))&&c.isActive(p,i)&&(n&&(a.className?a.className+=" "+n:a.className=n),r&&(a.style=l({},a.style,r)))}return f.default.createElement("a",l({},a,{onClick:this.handleClick}))}});e.default=w,t.exports=e.default},function(t,e){"use strict";function n(t){return t&&"function"==typeof t.then}e.__esModule=!0,e.isPromise=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(1),i=r(o),a=n(9),s=r(a),u=n(22),l=n(34),c=n(41),f=i.default.PropTypes,p=f.string,h=f.object,d=i.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(t){var e=(0,u.createRouteFromReactElement)(t);return e.from&&(e.path=e.from),e.onEnter=function(t,n){var r=t.location,o=t.params,i=void 0;if("/"===e.to.charAt(0))i=(0,l.formatPattern)(e.to,o);else if(e.to){var a=t.routes.indexOf(e),s=d.getRoutePattern(t.routes,a-1),u=s.replace(/\/*$/,"/")+e.to;i=(0,l.formatPattern)(u,o)}else i=r.pathname;n({pathname:i,query:e.query||r.query,state:e.state||r.state})},e},getRoutePattern:function(t,e){for(var n="",r=e;r>=0;r--){var o=t[r],i=o.path||"";if(n=i.replace(/\/*$/,"/")+n,0===i.indexOf("/"))break}return"/"+n}},propTypes:{path:p,from:p,to:p.isRequired,query:h,state:h,onEnter:c.falsy,children:c.falsy},render:function(){(0,s.default)(!1)}});e.default=d,t.exports=e.default},function(t,e){"use strict";function n(t,e,n){var i=o({},t,{setRouteLeaveHook:e.listenBeforeLeavingRoute,isActive:e.isActive});return r(i,n)}function r(t,e){var n=e.location,r=e.params,o=e.routes;return t.location=n,t.params=r,t.routes=o,t}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.createRouterObject=n,e.assignRouterState=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=(0,c.default)(t),n=function(){return e},r=(0,a.default)((0,u.default)(n))(t);return r}e.__esModule=!0,e.default=o;var i=n(133),a=r(i),s=n(132),u=r(s),l=n(299),c=r(l);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t){var e=void 0;return a&&(e=(0,i.default)(t)()),e};var o=n(130),i=r(o),a=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function i(t,e){function n(e,n){return e=t.createLocation(e),(0,p.default)(e,n,_.location,_.routes,_.params)}function r(t,n){b&&b.location===t?i(b,n):(0,y.default)(e,t,function(e,r){e?n(e):r?i(a({},r,{location:t}),n):n()})}function i(t,e){function n(n,o){return n||o?r(n,o):void(0,d.default)(t,function(n,r){n?e(n):e(null,null,_=a({},t,{components:r}))})}function r(t,n){t?e(t):e(null,n)}var o=(0,l.default)(_,t),i=o.leaveRoutes,s=o.changeRoutes,u=o.enterRoutes;(0,c.runLeaveHooks)(i,_),i.filter(function(t){return u.indexOf(t)===-1}).forEach(m),(0,c.runChangeHooks)(s,_,t,function(e,o){return e||o?r(e,o):void(0,c.runEnterHooks)(u,t,n)})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.__id__||e&&(t.__id__=x++)}function u(t){return t.map(function(t){return w[s(t)]}).filter(function(t){return t})}function f(t,n){(0,y.default)(e,t,function(e,r){if(null==r)return void n();b=a({},r,{location:t});for(var o=u((0,l.default)(_,b).leaveRoutes),i=void 0,s=0,c=o.length;null==i&&s<c;++s)i=o[s](t);n(i)})}function h(){if(_.routes){for(var t=u(_.routes),e=void 0,n=0,r=t.length;"string"!=typeof e&&n<r;++n)e=t[n]();return e}}function m(t){var e=s(t);e&&(delete w[e],o(w)||(E&&(E(),E=null),S&&(S(),S=null)))}function v(e,n){var r=!o(w),i=s(e,!0);return w[i]=n,r&&(E=t.listenBefore(f),t.listenBeforeUnload&&(S=t.listenBeforeUnload(h))),function(){m(e)}}function g(e){function n(n){_.location===n?e(null,_):r(n,function(n,r,o){n?e(n):r?t.replace(r):o&&e(null,o)})}var o=t.listen(n);return _.location?e(null,_):n(t.getCurrentLocation()),o}var _={},b=void 0,x=1,w=Object.create(null),E=void 0,S=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:v,listen:g}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var s=n(36),u=(r(s),n(286)),l=r(u),c=n(283),f=n(290),p=r(f),h=n(287),d=r(h),m=n(292),y=r(m);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(e){var n=(0,a.default)((0,u.default)(t))(e);return n}}e.__esModule=!0,e.default=o;var i=n(133),a=r(i),s=n(132),u=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.readState=e.saveState=void 0;var o=n(24),i=(r(o),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),a={SecurityError:!0},s="@@History/",u=function(t){return s+t};e.saveState=function(t,e){if(window.sessionStorage)try{null==e?window.sessionStorage.removeItem(u(t)):window.sessionStorage.setItem(u(t),JSON.stringify(e))}catch(n){if(a[n.name])return;if(i[n.name]&&0===window.sessionStorage.length)return;throw n}},e.readState=function(t){var e=void 0;try{e=window.sessionStorage.getItem(u(t))}catch(n){if(a[n.name])return}if(e)try{return JSON.parse(e)}catch(n){}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(77),a=r(i),s=n(23),u=function(t){return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t(e),r=e.basename,i=function(t){return t?(r&&null==t.basename&&(0===t.pathname.indexOf(r)?(t.pathname=t.pathname.substring(r.length),t.basename=r,""===t.pathname&&(t.pathname="/")):t.basename=""),t):t},u=function(t){if(!r)return t;var e="string"==typeof t?(0,s.parsePath)(t):t,n=e.pathname,i="/"===r.slice(-1)?r:r+"/",a="/"===n.charAt(0)?n.slice(1):n,u=i+a;return o({},e,{pathname:u})},l=function(){return i(n.getCurrentLocation())},c=function(t){return n.listenBefore(function(e,n){return(0,a.default)(t,i(e),n)})},f=function(t){return n.listen(function(e){return t(i(e))})},p=function(t){return n.push(u(t))},h=function(t){return n.replace(u(t))},d=function(t){return n.createPath(u(t))},m=function(t){return n.createHref(u(t))},y=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return i(n.createLocation.apply(n,[u(t)].concat(r)))};return o({},n,{getCurrentLocation:l,listenBefore:c,listen:f,push:p,replace:h,createPath:d,createHref:m,createLocation:y})}};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(300),a=n(77),s=r(a),u=n(37),l=n(23),c=function(t){return(0,i.stringify)(t).replace(/%20/g,"+")},f=i.parse,p=function(t){return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t(e),r=e.stringifyQuery,i=e.parseQueryString;"function"!=typeof r&&(r=c),"function"!=typeof i&&(i=f);var a=function(t){return t?(null==t.query&&(t.query=i(t.search.substring(1))),t):t},p=function(t,e){if(null==e)return t;var n="string"==typeof t?(0,l.parsePath)(t):t,i=r(e),a=i?"?"+i:"";return o({},n,{search:a})},h=function(){return a(n.getCurrentLocation())},d=function(t){return n.listenBefore(function(e,n){return(0,s.default)(t,a(e),n)})},m=function(t){return n.listen(function(e){return t(a(e))})},y=function(t){return n.push(p(t,t.query))},v=function(t){return n.replace(p(t,t.query))},g=function(t){return n.createPath(p(t,t.query))},_=function(t){return n.createHref(p(t,t.query))},b=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var i=n.createLocation.apply(n,[p(t,t.query)].concat(r));return t.query&&(i.query=(0,u.createQuery)(t.query)),a(i)};return o({},n,{getCurrentLocation:h,listenBefore:d,listen:m,push:y,replace:v,createPath:g,createHref:_,createLocation:b})}};e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({ACTIVITY_FETCH_RECENT:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({ADMIN_FETCH_ALL_USERS:null,ADMIN_CHANGE_USER_ROLE:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({ITEMS_FETCH_RANDOM:null,ITEMS_UPDATE:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({LOADING_START:null,LOADING_STOP:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({MODALS_OPEN_SETTINGS:null,MODALS_CLOSE_SETTINGS:null,MODALS_OPEN_SUCCESS:null,MODALS_CLOSE_SUCCESS:null,MODALS_OPEN_ERROR:null,MODALS_CLOSE_ERROR:null,MODALS_OPEN_CREATE_TASK:null,MODALS_CLOSE_CREATE_TASK:null,MODALS_OPEN_MANAGE_USERS:null,MODALS_CLOSE_MANAGE_USERS:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({SETTINGS_TOGGLE_SIDEBAR:null,SETTINGS_SET_EDITOR_PREFERENCE:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=(0,i.default)({STATS_FETCH_ALL:null});e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i=n(143),a=r(i),s=n(8),u=n(136),l=r(u),c={fetchRandomItem:(0,s.asyncAction)({type:l.default.ITEMS_FETCH_RANDOM,asyncCall:o.server.fetchRandomItem,responseSchema:a.default.item,showLoader:!0}),updateItem:(0,s.asyncAction)({type:l.default.ITEMS_UPDATE,asyncCall:o.server.updateItem,showLoader:!0})};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=function(t){return t.items},i={getCurrentItem:(0,r.createSelector)(o,function(t){return t.item}),getCurrentItemId:(0,r.createSelector)(o,function(t){return t.itemId})};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(108),o=new r.Schema("tasks",{idAttribute:"idtask"}),i=(0,r.arrayOf)(o),a=new r.Schema("items",{idAttribute:function(t){return t.properties._key}}),s=(0,r.arrayOf)(a),u={task:o,arrayOfTasks:i,item:a,arrayOfItems:s};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(139),i=r(o),a={toggleSidebar:function(){return{type:i.default.SETTINGS_TOGGLE_SIDEBAR}},setEditorPreference:function(t){return{type:i.default.SETTINGS_SET_EDITOR_PREFERENCE,editor:t}}};e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(104),i=n(438),a=r(i),s=n(436),u=(r(s),n(348)),l=r(u),c=n(346),f=r(c),p=n(340),h=r(p),d=n(344),m=r(d),y=n(335),v=r(y),g=n(330),_=r(g),b=n(342),x=r(b),w=n(339),E=r(w),S=n(337),M=r(S),T=n(333),C=r(T),k=(0,o.combineReducers)({user:f.default,settings:h.default,tasks:m.default,items:v.default,activity:_.default,stats:x.default,modals:E.default,loading:M.default,admin:C.default}),P=[a.default],A={user:{isAuthenticated:!1,token:l.default.get("token")||null},settings:{sidebar:l.default.get("sidebar")||!0,editor:l.default.get("editor")||"id"}},R=(0,o.createStore)(k,A,o.applyMiddleware.apply(void 0,P));R.subscribe(function(){var t=R.getState(),e=t.settings,n=e.sidebar,r=e.editor,o=t.user.token;n!==l.default.get("sidebar")&&l.default.set("sidebar",n),r!==l.default.get("editor")&&l.default.set("editor",r),o!==l.default.get("token")&&l.default.set("token",o)}),e.default=R},function(t,e,n){"use strict";function r(){}function o(t){try{return t.then}catch(e){return v=e,g}}function i(t,e){try{return t(e)}catch(n){return v=n,g}}function a(t,e,n){try{t(e,n)}catch(r){return v=r,g}}function s(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==r&&m(t,this)}function u(t,e,n){return new t.constructor(function(o,i){var a=new s(r);a.then(o,i),l(t,new d(e,n,a))})}function l(t,e){for(;3===t._81;)t=t._65;return s._10&&s._10(t),0===t._81?0===t._45?(t._45=1,void(t._54=e)):1===t._45?(t._45=2,void(t._54=[t._54,e])):void t._54.push(e):void c(t,e)}function c(t,e){y(function(){var n=1===t._81?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._81?f(e.promise,t._65):p(e.promise,t._65));var r=i(n,t._65);r===g?p(e.promise,v):f(e.promise,r)})}function f(t,e){if(e===t)return p(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=o(e);if(n===g)return p(t,v);if(n===t.then&&e instanceof s)return t._81=3,t._65=e,void h(t);if("function"==typeof n)return void m(n.bind(e),t)}t._81=1,t._65=e,h(t)}function p(t,e){t._81=2,t._65=e,s._97&&s._97(t,e),h(t)}function h(t){if(1===t._45&&(l(t,t._54),t._54=null),2===t._45){for(var e=0;e<t._54.length;e++)l(t,t._54[e]);t._54=null}}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function m(t,e){var n=!1,r=a(t,function(t){n||(n=!0,f(e,t))},function(t){n||(n=!0,p(e,t))});n||r!==g||(n=!0,p(e,v))}var y=n(353),v=null,g={};t.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return l(this,new d(t,e,n)),n}},function(t,e,n){(function(t,r){"use strict";function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function i(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(i()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?f(t,e,n):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function c(e,n){if(u(n),e=a(e,n<0?0:0|m(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|v(n,r);e=a(e,o);var i=e.write(n,r);return i!==o&&(e=e.slice(0,i)),e}function p(t,e){var n=e.length<0?0:0|m(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(e,n,r,o){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===o?new Uint8Array(n):void 0===o?new Uint8Array(n,r):new Uint8Array(n,r,o),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=p(e,n),e}function d(e,n){if(t.isBuffer(n)){var r=0|m(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||Y(n.length)?a(e,0):p(e,n);if("Buffer"===n.type&&Q(n.data))return p(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function y(e){return+e!=e&&(e=0),t.alloc(+e)}function v(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(o)return W(e).length;n=(""+n).toLowerCase(),o=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(e,n,r,o,i){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=t.from(n,o)),t.isBuffer(n))return 0===n.length?-1:x(e,n,r,o,i);if("number"==typeof n)return n=255&n,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):x(e,[n],r,o,i);throw new TypeError("val must be string, number or Buffer")}function x(t,e,n,r,o){function i(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(o){var c=-1;for(l=n;l<s;l++)if(i(t,l)===i(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*a}else c!==-1&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,p=0;p<u;p++)if(i(t,l+p)!==i(e,p)){f=!1;break}if(f)return l}return-1}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return X(W(e,t.length-n),t,n,r)}function S(t,e,n,r){return X(G(e),t,n,r)}function M(t,e,n,r){return S(t,e,n,r)}function T(t,e,n,r){return X(Z(e),t,n,r)}function C(t,e,n,r){return X(K(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var u,l,c,f;switch(s){case 1:i<128&&(a=i);break;case 2:u=t[o+1],128===(192&u)&&(f=(31&i)<<6|63&u,f>127&&(a=f));break;case 3:u=t[o+1],l=t[o+2],128===(192&u)&&128===(192&l)&&(f=(15&i)<<12|(63&u)<<6|63&l,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[o+1],l=t[o+2],c=t[o+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return A(r)}function A(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function R(t,e,n){
var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=H(t[i]);return o}function L(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,n,r,o,i,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,o){return o||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function q(t){if(t=V(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function K(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function Z(t){return J.toByteArray(q(t))}function X(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Y(t){return t!==t}var J=n(354),$=n(355),Q=n(356);e.Buffer=t,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:o(),e.kMaxLength=i(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return l(null,t,e,n)},t.allocUnsafe=function(t){return c(null,t)},t.allocUnsafeSlow=function(t){return c(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,o=n.length,i=0,a=Math.min(r,o);i<a;++i)if(e[i]!==n[i]){r=e[i],o=n[i];break}return r<o?-1:o<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var o=t.allocUnsafe(n),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):g.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,o,i){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),n<0||r>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&n>=r)return 0;if(o>=i)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,o>>>=0,i>>>=0,this===e)return 0;for(var a=i-o,s=r-n,u=Math.min(a,s),l=this.slice(o,i),c=e.slice(n,r),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var o;if(t.TYPED_ARRAY_SUPPORT)o=this.subarray(e,n),o.__proto__=t.prototype;else{var i=n-e;o=new t(i,(void 0));for(var a=0;a<i;++a)o[a]=this[a+e]}return o},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||N(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},t.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||N(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},t.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),$.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),$.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),$.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),$.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var o=Math.pow(2,8*n)-1;D(this,t,e,n,o,0)}var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var o=Math.pow(2,8*n)-1;D(this,t,e,n,o,0)}var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):j(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):j(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):z(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):z(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):j(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):j(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):z(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||D(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):z(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=e.length&&(n=e.length),n||(n=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-n<o-r&&(o=e.length-n+r);var i,a=o-r;if(this===e&&r<n&&n<o)for(i=a-1;i>=0;--i)e[i+n]=this[i+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+n]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,o){if("string"==typeof e){if("string"==typeof n?(o=n,n=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:W(new t(e,o).toString()),u=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(147).Buffer,function(){return this}())},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){o.forEach(function(e){r[n(e,t)]=r[t]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:i};t.exports=a},function(t,e,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(3),i=n(5),a=n(26);n(2);i(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?o("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(t){this._callbacks&&(this._callbacks.length=t,this._contexts.length=t)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t){return!!l.hasOwnProperty(t)||!u.hasOwnProperty(t)&&(s.test(t)?(l[t]=!0,!0):(u[t]=!0,!1))}function o(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var i=n(39),a=(n(6),n(12),n(419)),s=(n(4),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(t){return i.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(i.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){if(o(n,e))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?r+'=""':r+"="+a(e)}return i.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},createMarkupForCustomAttribute:function(t,e){return r(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,n){var r=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(r){var a=r.mutationMethod;if(a)a(t,n);else{if(o(r,n))return void this.deleteValueForProperty(t,e);if(r.mustUseProperty)t[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?t.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(e))return void c.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){if(r(e)){null==n?t.removeAttribute(e):t.setAttribute(e,""+n)}},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){var r=n.mutationMethod;if(r)r(t,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?t[o]=!1:t[o]=""}else t.removeAttribute(n.attributeName)}else i.isCustomAttribute(e)&&t.removeAttribute(e)}};t.exports=c},function(t,e,n){"use strict";function r(t){return(""+t).replace(b,"$&/")}function o(t,e){this.func=t,this.context=e,this.count=0}function i(t,e,n){var r=t.func,o=t.context;r.call(o,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=o.getPooled(e,n);v(t,i,r),o.release(r)}function s(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function u(t,e,n){var o=t.result,i=t.keyPrefix,a=t.func,s=t.context,u=a.call(s,e,t.count++);Array.isArray(u)?l(u,o,n,y.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,i+(!u.key||e&&e.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function l(t,e,n,o,i){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(e,a,o,i);v(t,u,l),s.release(l)}function c(t,e,n){if(null==t)return t;var r=[];return l(t,r,null,e,n),r}function f(t,e,n){return null}function p(t,e){return v(t,f,null)}function h(t){var e=[];return l(t,e,null,y.thatReturnsArgument),e}var d=n(26),m=n(15),y=n(13),v=n(101),g=d.twoArgumentPooler,_=d.fourArgumentPooler,b=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(o,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,_);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:p,toArray:h};t.exports=x},function(t,e,n){"use strict";function r(t,e){var n=w.hasOwnProperty(e)?w[e]:null;S.hasOwnProperty(e)&&(n!==b.OVERRIDE_BASE?f("73",e):void 0),t&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?f("74",e):void 0)}function o(t,e){if(e){"function"==typeof e?f("75"):void 0,d.isValidElement(e)?f("76"):void 0;var n=t.prototype,o=n.__reactAutoBindPairs;e.hasOwnProperty(_)&&E.mixins(t,e.mixins);for(var i in e)if(e.hasOwnProperty(i)&&i!==_){var a=e[i],l=n.hasOwnProperty(i);if(r(l,i),E.hasOwnProperty(i))E[i](t,a);else{var c=w.hasOwnProperty(i),p="function"==typeof a,h=p&&!c&&!l&&e.autobind!==!1;if(h)o.push(i,a),n[i]=a;else if(l){var m=w[i];!c||m!==b.DEFINE_MANY_MERGED&&m!==b.DEFINE_MANY?f("77",m,i):void 0,m===b.DEFINE_MANY_MERGED?n[i]=s(n[i],a):m===b.DEFINE_MANY&&(n[i]=u(n[i],a))}else n[i]=a}}}else;}function i(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var o=n in E;o?f("78",n):void 0;var i=n in t;i?f("79",n):void 0,t[n]=r}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:f("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?f("81",n):void 0,t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,e){var n=e.bind(t);return n}function c(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t[r]=l(t,o)}}var f=n(3),p=n(5),h=n(86),d=n(15),m=(n(92),n(91),n(90)),y=n(51),v=(n(2),n(67)),g=n(28),_=(n(4),g({mixins:null})),b=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],w={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},E={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=p({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=p({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=p({},t.propTypes,e)},statics:function(t,e){i(t,e)},autobind:function(){}},S={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},M=function(){};p(M.prototype,h.prototype,S);var T={createClass:function(t){var e=function(t,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=t,this.context=n,this.refs=y,this.updater=r||m,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?f("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=o};e.prototype=new M,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],x.forEach(o.bind(null,e)),o(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:f("83");for(var n in w)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};t.exports=T},function(t,e){"use strict";var n={hasCachedChildNodes:1};t.exports=n},function(t,e,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=u.getValue(t);null!=e&&o(this,Boolean(t.multiple),e)}}function o(t,e,n){var r,o,i=l.getNodeFromInstance(t).options;if(e){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(5),s=n(62),u=n(85),l=n(6),c=n(16),f=(n(4),!1),p={getHostProps:function(t,e){return a({},s.getHostProps(t,e),{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=u.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:i.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||f||(f=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=u.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,o(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?o(t,Boolean(e.multiple),e.defaultValue):o(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=p},function(t,e){"use strict";var n,r={injectEmptyComponentFactory:function(t){n=t}},o={create:function(t){return n(t)}};o.injection=r,t.exports=o},function(t,e){"use strict";var n={logTopLevelRenders:!1};t.exports=n},function(t,e,n){"use strict";function r(t){return u?void 0:a("111",t.type),new u(t)}function o(t){return new c(t)}function i(t){return t instanceof c}var a=n(3),s=n(5),u=(n(2),null),l={},c=null,f={injectGenericComponentClass:function(t){u=t},injectTextComponentClass:function(t){c=t},injectComponentClasses:function(t){s(l,t)}},p={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:f};t.exports=p},function(t,e,n){"use strict";function r(t){return i(document.documentElement,t)}var o=n(380),i=n(423),a=n(175),s=n(176),u={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,o=t.selectionRange;e!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=o.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if(void 0===r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(t,e)}};t.exports=u},function(t,e,n){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function o(t){return t?t.nodeType===L?t.documentElement:t.firstChild:null}function i(t){return t.getAttribute&&t.getAttribute(R)||""}function a(t,e,n,r,o){var i;if(x.logTopLevelRenders){var a=t._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=S.mountComponent(t,n,null,g(t,e),o,0);i&&console.timeEnd(i),t._renderedComponent._topLevelWrapper=t,U._mountImageIntoNode(u,e,t,r,n)}function s(t,e,n,r){var o=T.ReactReconcileTransaction.getPooled(!n&&_.useCreateElement);o.perform(a,null,t,e,o,n,r),T.ReactReconcileTransaction.release(o)}function u(t,e,n){for(S.unmountComponent(t,n),e.nodeType===L&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function l(t){var e=o(t);if(e){var n=v.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function c(t){return!(!t||t.nodeType!==I&&t.nodeType!==L&&t.nodeType!==N)}function f(t){var e=o(t),n=e&&v.getInstanceFromNode(e);return n&&!n._hostParent?n:null}function p(t){var e=f(t);return e?e._hostContainerInfo._topLevelWrapper:null}var h=n(3),d=n(38),m=n(39),y=n(63),v=(n(27),n(6)),g=n(373),_=n(376),b=n(15),x=n(156),w=n(48),E=(n(12),n(389)),S=n(40),M=n(94),T=n(16),C=n(51),k=n(171),P=(n(2),n(66)),A=n(100),R=(n(4),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,I=1,L=9,N=11,D={},j=1,z=function(){this.rootID=j++};z.prototype.isReactComponent={},z.prototype.render=function(){return this.props};var U={TopLevelWrapper:z,_instancesByReactRootID:D,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r,o){return U.scrollMonitor(r,function(){M.enqueueElementInternal(t,e,n),o&&M.enqueueCallbackInternal(t,o)}),t},_renderNewRootComponent:function(t,e,n,r){c(e)?void 0:h("37"),y.ensureScrollValueMonitoring();var o=k(t,!1);T.batchedUpdates(s,o,e,n,r);var i=o._instance.rootID;return D[i]=o,o},renderSubtreeIntoContainer:function(t,e,n,r){return null!=t&&w.has(t)?void 0:h("38"),U._renderSubtreeIntoContainer(t,e,n,r)},_renderSubtreeIntoContainer:function(t,e,n,r){M.validateCallback(r,"ReactDOM.render"),b.isValidElement(e)?void 0:h("39","string"==typeof e?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof e?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=b(z,null,null,null,null,null,e);if(t){var u=w.get(t);a=u._processChildContext(u._context)}else a=C;var c=p(n);if(c){var f=c._currentElement,d=f.props;if(A(d,e)){var m=c._renderedComponent.getPublicInstance(),y=r&&function(){r.call(m)};return U._updateRootComponent(c,s,a,n,y),m}U.unmountComponentAtNode(n)}var v=o(n),g=v&&!!i(v),_=l(n),x=g&&!c&&!_,E=U._renderNewRootComponent(s,n,x,a)._renderedComponent.getPublicInstance();return r&&r.call(E),E},render:function(t,e,n){return U._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){c(t)?void 0:h("40");var e=p(t);if(!e){l(t),1===t.nodeType&&t.hasAttribute(O);return!1}return delete D[e._instance.rootID],T.batchedUpdates(u,e,t,!1),!0},_mountImageIntoNode:function(t,e,n,i,a){if(c(e)?void 0:h("41"),i){var s=o(e);if(E.canReuseMarkup(t,s))return void v.precacheNode(n,s);var u=s.getAttribute(E.CHECKSUM_ATTR_NAME);s.removeAttribute(E.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(E.CHECKSUM_ATTR_NAME,u);var f=t,p=r(f,l),m=" (client) "+f.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20);e.nodeType===L?h("42",m):void 0}if(e.nodeType===L?h("43"):void 0,a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);d.insertTreeBefore(e,t,null)}else P(e,t),v.precacheNode(n,e.firstChild)}};t.exports=U},function(t,e,n){"use strict";var r=n(67),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},function(t,e,n){"use strict";var r=n(3),o=n(15),i=(n(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?i.EMPTY:o.isValidElement(t)?"function"==typeof t.type?i.COMPOSITE:i.HOST:void r("26",t)}});t.exports=i},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function o(t){this.message=t,this.stack=""}function i(t){function e(e,n,r,i,a,s,u){i=i||T,s=s||r;if(null==n[r]){var l=w[a];return e?new o("Required "+l+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return t(n,r,i,a,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function a(t){function e(e,n,r,i,a,s){var u=e[n],l=g(u);if(l!==t){var c=w[i],f=_(u);return new o("Invalid "+c+" `"+a+"` of type "+("`"+f+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return i(e)}function s(){return i(S.thatReturns(null))}function u(t){function e(e,n,r,i,a){if("function"!=typeof t)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var u=w[i],l=g(s);return new o("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var f=t(s,c,r,i,a+"["+c+"]",E);if(f instanceof Error)return f}return null}return i(e)}function l(){function t(t,e,n,r,i){var a=t[e];if(!x.isValidElement(a)){var s=w[r],u=g(a);return new o("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."));
}return null}return i(t)}function c(t){function e(e,n,r,i,a){if(!(e[n]instanceof t)){var s=w[i],u=t.name||T,l=b(e[n]);return new o("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return i(e)}function f(t){function e(e,n,i,a,s){for(var u=e[n],l=0;l<t.length;l++)if(r(u,t[l]))return null;var c=w[a],f=JSON.stringify(t);return new o("Invalid "+c+" `"+s+"` of value `"+u+"` "+("supplied to `"+i+"`, expected one of "+f+"."))}return Array.isArray(t)?i(e):S.thatReturnsNull}function p(t){function e(e,n,r,i,a){if("function"!=typeof t)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=g(s);if("object"!==u){var l=w[i];return new o("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var f=t(s,c,r,i,a+"."+c,E);if(f instanceof Error)return f}return null}return i(e)}function h(t){function e(e,n,r,i,a){for(var s=0;s<t.length;s++){var u=t[s];if(null==u(e,n,r,i,a,E))return null}var l=w[i];return new o("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(t)?i(e):S.thatReturnsNull}function d(){function t(t,e,n,r,i){if(!y(t[e])){var a=w[r];return new o("Invalid "+a+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function m(t){function e(e,n,r,i,a){var s=e[n],u=g(s);if("object"!==u){var l=w[i];return new o("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in t){var f=t[c];if(f){var p=f(s,c,r,i,a+"."+c,E);if(p)return p}}return null}return i(e)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||x.isValidElement(t))return!0;var e=M(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function v(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":v(e,t)?"symbol":e}function _(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function b(t){return t.constructor&&t.constructor.name?t.constructor.name:T}var x=n(15),w=n(91),E=n(93),S=n(13),M=n(169),T=(n(4),"<<anonymous>>"),C={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:c,node:d(),objectOf:p,oneOf:f,oneOfType:h,shape:m};o.prototype=Error.prototype,t.exports=C},function(t,e){"use strict";t.exports="15.3.2"},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){"use strict";function r(t,e){return null==e?o("30"):void 0,null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}var o=n(3);n(2);t.exports=r},function(t,e,n){"use strict";var r=!1;t.exports=r},function(t,e){"use strict";function n(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}t.exports=n},function(t,e,n){"use strict";function r(t){for(var e;(e=t._renderedNodeType)===o.COMPOSITE;)t=t._renderedComponent;return e===o.HOST?t._renderedComponent:e===o.EMPTY?null:void 0}var o=n(161);t.exports=r},function(t,e){"use strict";function n(t){var e=t&&(r&&t[r]||t[o]);if("function"==typeof e)return e}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=n},function(t,e,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(10),i=null;t.exports=r},function(t,e,n){"use strict";function r(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t,e){var n;if(null===t||t===!1)n=l.create(i);else if("object"==typeof t){var s=t;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"==typeof t||"number"==typeof t?n=c.createInstanceForText(t):a("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var a=n(3),s=n(5),u=n(369),l=n(155),c=n(157),f=(n(2),n(4),function(t){this.construct(t)});s(f.prototype,u.Mixin,{_instantiateReactComponent:i});t.exports=i},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!r[t.type]:"textarea"===e}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){"use strict";var r=n(10),o=n(65),i=n(66),a=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){i(t,o(e))})),t.exports=a},function(t,e,n){"use strict";var r=n(13),o={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.repeat=function(t,e){return new Array(e+1).join(t)},r=e.pad=function(t,e){return n("0",e-t.toString().length)+t};e.formatTime=function(t){return r(t.getHours(),2)+":"+r(t.getMinutes(),2)+":"+r(t.getSeconds(),2)+"."+r(t.getMilliseconds(),3)},e.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1],o=e.slice(0,-1);return function(){return o.reduceRight(function(t,e){return e(t)},r.apply(void 0,arguments))}}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){function r(){v===y&&(v=y.slice())}function i(){return m}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var n=v.indexOf(t);v.splice(n,1)}}}function c(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,m=d(m,t)}finally{g=!1}for(var e=y=v,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");d=t,c({type:l.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u.default]=function(){return this},t}var h;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var d=t,m=e,y=[],v=y,g=!1;return c({type:l.INIT}),h={dispatch:c,subscribe:s,getState:i,replaceReducer:f},h[u.default]=p,h}e.__esModule=!0,e.ActionTypes=void 0,e.default=o;var i=n(182),a=r(i),s=n(450),u=r(s),l=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},[453,448],[458,442,444,449],function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function u(t){var e=new FileReader;return e.readAsText(t),a(e)}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=i(this);return t?t:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=c(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function h(t){var e=new o,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();e.append(r,o)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};o.prototype.append=function(t,r){t=e(t),r=n(r);var o=this.map[t];o||(o=[],this.map[t]=o),o.push(r)},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},o.prototype.getAll=function(t){return this.map[e(t)]||[]},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},o.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},l.call(f.prototype),l.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];d.redirect=function(t,e){if(v.indexOf(e)===-1)throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=f,t.Response=d,t.fetch=function(t,e){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:h(a),url:o()},e="response"in a?a.response:a.responseText;n(new d(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){var r=n(185).polygon;t.exports=function(t){var e=[t[0],t[1]],n=[t[0],t[3]],o=[t[2],t[3]],i=[t[2],t[1]];return r([[e,i,o,n,e]])}},function(t,e){function n(t,e){return{type:"Feature",properties:e||{},geometry:t}}t.exports.feature=n,t.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:t.slice()},e)},t.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var r=0;r<t.length;r++){var o=t[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e)},t.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:t},e)},t.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}},t.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e)},t.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e)},t.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e)},t.exports.geometryCollection=function(t,e){return n({type:"GeometryCollection",geometries:t},e)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};t.exports.radiansToDistance=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},t.exports.distanceToRadians=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},t.exports.distanceToDegrees=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},function(t,e,n){var r=n(187).coordEach;t.exports=function(t){var e=[1/0,1/0,-(1/0),-(1/0)];return r(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},function(t,e){function n(t,e,r){var o,i,a,s,u,l,c,f,p,h,d=0,m="FeatureCollection"===t.type,y="Feature"===t.type,v=m?t.features.length:1;for(o=0;o<v;o++)for(p=m?t.features[o].geometry:y?t.geometry:t,h="GeometryCollection"===p.type,c=h?p.geometries.length:1,s=0;s<c;s++)if(l=h?p.geometries[s]:p,f=l.coordinates,d=!r||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)e(f);else if("LineString"===l.type||"MultiPoint"===l.type)for(i=0;i<f.length;i++)e(f[i]);else if("Polygon"===l.type||"MultiLineString"===l.type)for(i=0;i<f.length;i++)for(a=0;a<f[i].length-d;a++)e(f[i][a]);else if("MultiPolygon"===l.type)for(i=0;i<f.length;i++)for(a=0;a<f[i].length;a++)for(u=0;u<f[i][a].length-d;u++)e(f[i][a][u]);else{if("GeometryCollection"!==l.type)throw new Error("Unknown Geometry Type");for(i=0;i<l.geometries.length;i++)n(l.geometries[i],e,r)}}function r(t,e,r,o){return n(t,function(t){r=e(r,t)},o),r}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function i(t,e,n){return o(t,function(t,r){n=e(n,t,r)}),n}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function s(t){var e=[];return n(t,function(t){e.push(t)}),e}function u(t,e){var n,r,o,i,a,s,u,l="FeatureCollection"===t.type,c="Feature"===t.type,f=l?t.features.length:1;for(n=0;n<f;n++)for(s=l?t.features[n].geometry:c?t.geometry:t,u="GeometryCollection"===s.type,a=u?s.geometries.length:1,o=0;o<a;o++)if(i=u?s.geometries[o]:s,"Point"===i.type||"LineString"===i.type||"MultiPoint"===i.type||"Polygon"===i.type||"MultiLineString"===i.type||"MultiPolygon"===i.type)e(i);else{if("GeometryCollection"!==i.type)throw new Error("Unknown Geometry Type");for(r=0;r<i.geometries.length;r++)e(i.geometries[r])}}t.exports.coordEach=n,t.exports.coordReduce=r,t.exports.propEach=o,t.exports.propReduce=i,t.exports.featureEach=a,t.exports.coordAll=s,t.exports.geomEach=u},function(t,e,n){var r=n(189).coordEach,o=n(105).point;t.exports=function(t){var e=0,n=0,i=0;return r(t,function(t){e+=t[0],n+=t[1],i++},!0),o([e/i,n/i])}},function(t,e){function n(t,e,r){var o,i,a,s,u,l,c,f,p,h,d=0,m="FeatureCollection"===t.type,y="Feature"===t.type,v=m?t.features.length:1;for(o=0;o<v;o++)for(p=m?t.features[o].geometry:y?t.geometry:t,h="GeometryCollection"===p.type,c=h?p.geometries.length:1,s=0;s<c;s++)if(l=h?p.geometries[s]:p,f=l.coordinates,d=!r||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)e(f);else if("LineString"===l.type||"MultiPoint"===l.type)for(i=0;i<f.length;i++)e(f[i]);else if("Polygon"===l.type||"MultiLineString"===l.type)for(i=0;i<f.length;i++)for(a=0;a<f[i].length-d;a++)e(f[i][a]);else if("MultiPolygon"===l.type)for(i=0;i<f.length;i++)for(a=0;a<f[i].length;a++)for(u=0;u<f[i][a].length-d;u++)e(f[i][a][u]);else{if("GeometryCollection"!==l.type)throw new Error("Unknown Geometry Type");for(i=0;i<l.geometries.length;i++)n(l.geometries[i],e,r)}}function r(t,e,r,o){return n(t,function(t){r=e(r,t)},o),r}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties);break;case"Feature":e(t.properties)}}function i(t,e,n){return o(t,function(t){n=e(n,t)}),n}function a(t,e){if("Feature"===t.type)e(t);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n])}function s(t){var e=[];return n(t,function(t){e.push(t)}),e}t.exports.coordEach=n,t.exports.coordReduce=r,t.exports.propEach=o,t.exports.propReduce=i,t.exports.featureEach=a,t.exports.coordAll=s},function(t,e){(function(e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){var n=t?t.length:0;return!!n&&u(t,e,0)>-1}function o(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function i(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function a(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function s(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function u(t,e,n){if(e!==e)return s(t,l,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function l(t){return t!==t}function c(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function f(t){return function(e){return t(e)}}function p(t,e){return t.has(e)}function h(t,e){return null==t?void 0:t[e]}function d(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function m(t,e){return function(n){return t(e(n))}}function y(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v(){this.__data__=Gt?Gt(null):{}}function g(t){return this.has(t)&&delete this.__data__[t]}function _(t){var e=this.__data__;if(Gt){var n=e[t];return n===yt?void 0:n}return Nt.call(e,t)?e[t]:void 0}function b(t){var e=this.__data__;return Gt?void 0!==e[t]:Nt.call(e,t)}function x(t,e){var n=this.__data__;return n[t]=Gt&&void 0===e?yt:e,this}function w(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function E(){this.__data__=[]}function S(t){var e=this.__data__,n=z(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Bt.call(e,n,1),!0}function M(t){var e=this.__data__,n=z(e,t);return n<0?void 0:e[n][1]}function T(t){return z(this.__data__,t)>-1}function C(t,e){var n=this.__data__,r=z(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function P(){this.__data__={hash:new y,map:new(Wt||w),string:new y}}function A(t){return Z(this,t).delete(t)}function R(t){return Z(this,t).get(t)}function O(t){return Z(this,t).has(t)}function I(t,e){return Z(this,t).set(t,e),this}function L(t){var e=-1,n=t?t.length:0;for(this.__data__=new k;++e<n;)this.add(t[e])}function N(t){return this.__data__.set(t,yt),this}function D(t){return this.__data__.has(t)}function j(t,e){var n=Xt(t)||it(t)?c(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Nt.call(t,i)||o&&("length"==i||J(i,r))||n.push(i);return n}function z(t,e){for(var n=t.length;n--;)if(ot(t[n][0],e))return n;return-1}function U(t,e,n,a){var s=-1,u=r,l=!0,c=t.length,h=[],d=e.length;if(!c)return h;n&&(e=i(e,f(n))),a?(u=o,l=!1):e.length>=mt&&(u=p,l=!1,e=new L(e));t:for(;++s<c;){var m=t[s],y=n?n(m):m;if(m=a||0!==m?m:0,l&&y===y){for(var v=d;v--;)if(e[v]===y)continue t;h.push(m)}else u(e,y,a)||h.push(m)}return h}function F(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=Y),o||(o=[]);++i<s;){var u=t[i];e>0&&n(u)?e>1?F(u,e-1,n,r,o):a(o,u):r||(o[o.length]=u)}return o}function B(t,e,n){var r=e(t);return Xt(t)?r:a(r,n(t))}function q(t){if(!ct(t)||Q(t))return!1;var e=ut(t)||d(t)?jt:St;return e.test(rt(t))}function V(t){if(!ct(t))return et(t);var e=tt(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}function H(t,e){return t=Object(t),W(t,e,function(e,n){return n in t})}function W(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=t[a];n(s,a)&&(i[a]=s)}return i}function G(t,e){return e=Ht(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Ht(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=a,n(t,this,s)}}function K(t){return B(t,ht,Zt)}function Z(t,e){var n=t.__data__;return $(e)?n["string"==typeof e?"string":"hash"]:n.map}function X(t,e){var n=h(t,e);return q(n)?n:void 0}function Y(t){return Xt(t)||it(t)||!!(qt&&t&&t[qt])}function J(t,e){return e=null==e?gt:e,!!e&&("number"==typeof t||Mt.test(t))&&t>-1&&t%1==0&&t<e}function $(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Q(t){return!!It&&It in t}function tt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Rt;return t===n}function et(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function nt(t){if("string"==typeof t||pt(t))return t;var e=t+"";return"0"==e&&1/t==-vt?"-0":e}function rt(t){if(null!=t){try{return Lt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ot(t,e){return t===e||t!==t&&e!==e}function it(t){return st(t)&&Nt.call(t,"callee")&&(!Ft.call(t,"callee")||Dt.call(t)==_t)}function at(t){return null!=t&&lt(t.length)&&!ut(t)}function st(t){return ft(t)&&at(t)}function ut(t){var e=ct(t)?Dt.call(t):"";return e==bt||e==xt}function lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=gt}function ct(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ft(t){return!!t&&"object"==typeof t}function pt(t){return"symbol"==typeof t||ft(t)&&Dt.call(t)==wt}function ht(t){return at(t)?j(t,!0):V(t)}function dt(){return[]}var mt=200,yt="__lodash_hash_undefined__",vt=1/0,gt=9007199254740991,_t="[object Arguments]",bt="[object Function]",xt="[object GeneratorFunction]",wt="[object Symbol]",Et=/[\\^$.*+?()[\]{}|]/g,St=/^\[object .+?Constructor\]$/,Mt=/^(?:0|[1-9]\d*)$/,Tt="object"==typeof e&&e&&e.Object===Object&&e,Ct="object"==typeof self&&self&&self.Object===Object&&self,kt=Tt||Ct||Function("return this")(),Pt=Array.prototype,At=Function.prototype,Rt=Object.prototype,Ot=kt["__core-js_shared__"],It=function(){var t=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Lt=At.toString,Nt=Rt.hasOwnProperty,Dt=Rt.toString,jt=RegExp("^"+Lt.call(Nt).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=kt.Symbol,Ut=m(Object.getPrototypeOf,Object),Ft=Rt.propertyIsEnumerable,Bt=Pt.splice,qt=zt?zt.isConcatSpreadable:void 0,Vt=Object.getOwnPropertySymbols,Ht=Math.max,Wt=X(kt,"Map"),Gt=X(Object,"create");y.prototype.clear=v,y.prototype.delete=g,y.prototype.get=_,y.prototype.has=b,y.prototype.set=x,w.prototype.clear=E,w.prototype.delete=S,w.prototype.get=M,w.prototype.has=T,w.prototype.set=C,k.prototype.clear=P,k.prototype.delete=A,k.prototype.get=R,k.prototype.has=O,k.prototype.set=I,L.prototype.add=L.prototype.push=N,L.prototype.has=D;var Kt=Vt?m(Vt,Object):dt,Zt=Vt?function(t){for(var e=[];t;)a(e,Kt(t)),t=Ut(t);return e}:dt,Xt=Array.isArray,Yt=G(function(t,e){return null==t?{}:(e=i(F(e,1),nt),H(t,U(K(t),e)))});t.exports=Yt}).call(e,function(){return this}())},function(t,e){(function(e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function o(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function i(t,e,n,r,a){var s=-1,u=t.length;for(n||(n=l),a||(a=[]);++s<u;){var c=t[s];e>0&&n(c)?e>1?i(c,e-1,n,r,a):o(a,c):r||(a[a.length]=c)}return a}function a(t,e){return t=Object(t),s(t,e,function(e,n){return n in t})}function s(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=t[a];n(s,a)&&(i[a]=s)}return i}function u(t,e){return e=L(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=L(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=a,n(t,this,s)}}function l(t){return N(t)||f(t)||!!(I&&t&&t[I])}function c(t){if("string"==typeof t||g(t))return t;var e=t+"";return"0"==e&&1/t==-_?"-0":e}function f(t){return h(t)&&P.call(t,"callee")&&(!O.call(t,"callee")||A.call(t)==x)}function p(t){return null!=t&&m(t.length)&&!d(t)}function h(t){return v(t)&&p(t)}function d(t){var e=y(t)?A.call(t):"";return e==w||e==E}function m(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=b}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){return!!t&&"object"==typeof t}function g(t){return"symbol"==typeof t||v(t)&&A.call(t)==S}var _=1/0,b=9007199254740991,x="[object Arguments]",w="[object Function]",E="[object GeneratorFunction]",S="[object Symbol]",M="object"==typeof e&&e&&e.Object===Object&&e,T="object"==typeof self&&self&&self.Object===Object&&self,C=M||T||Function("return this")(),k=Object.prototype,P=k.hasOwnProperty,A=k.toString,R=C.Symbol,O=k.propertyIsEnumerable,I=R?R.isConcatSpreadable:void 0,L=Math.max,N=Array.isArray,D=u(function(t,e){return null==t?{}:a(t,r(i(e,1),c))});t.exports=D}).call(e,function(){return this}())},function(t,e){(function(e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){var n=t?t.length:0;return!!n&&s(t,e,0)>-1}function o(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function i(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function a(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return a(t,u,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function u(t){return t!==t}function l(t,e){return t.has(e)}function c(t,e){return null==t?void 0:t[e]}function f(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function p(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(){this.__data__=kt?kt(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function y(t){var e=this.__data__;if(kt){var n=e[t];return n===et?void 0:n}return gt.call(e,t)?e[t]:void 0}function v(t){var e=this.__data__;return kt?void 0!==e[t]:gt.call(e,t)}function g(t,e){var n=this.__data__;return n[t]=kt&&void 0===e?et:e,this}function _(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function b(){this.__data__=[]}function x(t){var e=this.__data__,n=L(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Et.call(e,n,1),!0}function w(t){var e=this.__data__,n=L(e,t);return n<0?void 0:e[n][1]}function E(t){return L(this.__data__,t)>-1}function S(t,e){var n=this.__data__,r=L(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function T(){this.__data__={hash:new h,map:new(Tt||_),string:new h}}function C(t){return U(this,t).delete(t)}function k(t){return U(this,t).get(t)}function P(t){return U(this,t).has(t);
}function A(t,e){return U(this,t).set(t,e),this}function R(t){var e=-1,n=t?t.length:0;for(this.__data__=new M;++e<n;)this.add(t[e])}function O(t){return this.__data__.set(t,et),this}function I(t){return this.__data__.has(t)}function L(t,e){for(var n=t.length;n--;)if(W(t[n][0],e))return n;return-1}function N(t,e,n,r,o){var a=-1,s=t.length;for(n||(n=B),o||(o=[]);++a<s;){var u=t[a];e>0&&n(u)?e>1?N(u,e-1,n,r,o):i(o,u):r||(o[o.length]=u)}return o}function D(t){if(!J(t)||V(t))return!1;var e=X(t)||f(t)?bt:ut;return e.test(H(t))}function j(t,e){return e=Mt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Mt(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=a,n(t,this,s)}}function z(t,e,n){var i=-1,a=r,s=t.length,u=!0,c=[],f=c;if(n)u=!1,a=o;else if(s>=tt){var h=e?null:Pt(t);if(h)return p(h);u=!1,a=l,f=new R}else f=e?[]:c;t:for(;++i<s;){var d=t[i],m=e?e(d):d;if(d=n||0!==d?d:0,u&&m===m){for(var y=f.length;y--;)if(f[y]===m)continue t;e&&f.push(m),c.push(d)}else a(f,m,n)||(f!==c&&f.push(m),c.push(d))}return c}function U(t,e){var n=t.__data__;return q(e)?n["string"==typeof e?"string":"hash"]:n.map}function F(t,e){var n=c(t,e);return D(n)?n:void 0}function B(t){return Rt(t)||G(t)||!!(St&&t&&t[St])}function q(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function V(t){return!!yt&&yt in t}function H(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function W(t,e){return t===e||t!==t&&e!==e}function G(t){return Z(t)&&gt.call(t,"callee")&&(!wt.call(t,"callee")||_t.call(t)==ot)}function K(t){return null!=t&&Y(t.length)&&!X(t)}function Z(t){return $(t)&&K(t)}function X(t){var e=J(t)?_t.call(t):"";return e==it||e==at}function Y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=rt}function J(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function $(t){return!!t&&"object"==typeof t}function Q(){}var tt=200,et="__lodash_hash_undefined__",nt=1/0,rt=9007199254740991,ot="[object Arguments]",it="[object Function]",at="[object GeneratorFunction]",st=/[\\^$.*+?()[\]{}|]/g,ut=/^\[object .+?Constructor\]$/,lt="object"==typeof e&&e&&e.Object===Object&&e,ct="object"==typeof self&&self&&self.Object===Object&&self,ft=lt||ct||Function("return this")(),pt=Array.prototype,ht=Function.prototype,dt=Object.prototype,mt=ft["__core-js_shared__"],yt=function(){var t=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=ht.toString,gt=dt.hasOwnProperty,_t=dt.toString,bt=RegExp("^"+vt.call(gt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=ft.Symbol,wt=dt.propertyIsEnumerable,Et=pt.splice,St=xt?xt.isConcatSpreadable:void 0,Mt=Math.max,Tt=F(ft,"Map"),Ct=F(ft,"Set"),kt=F(Object,"create");h.prototype.clear=d,h.prototype.delete=m,h.prototype.get=y,h.prototype.has=v,h.prototype.set=g,_.prototype.clear=b,_.prototype.delete=x,_.prototype.get=w,_.prototype.has=E,_.prototype.set=S,M.prototype.clear=T,M.prototype.delete=C,M.prototype.get=k,M.prototype.has=P,M.prototype.set=A,R.prototype.add=R.prototype.push=O,R.prototype.has=I;var Pt=Ct&&1/p(new Ct([,-0]))[1]==nt?function(t){return new Ct(t)}:Q,At=j(function(t){return z(N(t,1,Z,!0))}),Rt=Array.isArray;t.exports=At}).call(e,function(){return this}())},function(t,e,n){var r,r;(function(e,n){!function(e){t.exports=e()}(function(){var t;return function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof r&&r;if(!u&&l)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t){var o=t[r].paintVertexArray;if(0!==o.length){var i=o.serialize(e),a=o.constructor.serialize();n[r]={array:i,type:a}}}return n}var o=t("./program_configuration"),i=function(t,e){this.vertexOffset=t,this.primitiveOffset=e,this.vertexLength=0,this.primitiveLength=0},a=function(t,e,n){var r=this;this.globalProperties={zoom:n};var i=t.layoutVertexArrayType;this.layoutVertexArray=new i;var a=t.elementArrayType;a&&(this.elementArray=new a);var s=t.elementArrayType2;s&&(this.elementArray2=new s),this.layerData={};for(var u=0,l=e;u<l.length;u+=1){var c=l[u],f=o.createDynamic(t.paintAttributes||[],c,n);r.layerData[c.id]={layer:c,programConfiguration:f,paintVertexArray:new f.PaintVertexArray}}this.segments=[],this.segments2=[]};a.prototype.prepareSegment=function(t){var e=this.segments[this.segments.length-1];return(!e||e.vertexLength+t>a.MAX_VERTEX_ARRAY_LENGTH)&&(e=new i(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(e)),e},a.prototype.prepareSegment2=function(t){var e=this.segments2[this.segments2.length-1];return(!e||e.vertexLength+t>a.MAX_VERTEX_ARRAY_LENGTH)&&(e=new i(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(e)),e},a.prototype.populatePaintArrays=function(t){var e=this;for(var n in this.layerData){var r=e.layerData[n];0!==r.paintVertexArray.bytesPerElement&&r.programConfiguration.populatePaintArray(r.layer,r.paintVertexArray,e.layoutVertexArray.length,e.globalProperties,t)}},a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},a.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),elementArray:this.elementArray&&this.elementArray.serialize(t),elementArray2:this.elementArray2&&this.elementArray2.serialize(t),paintVertexArrays:r(this.layerData,t),segments:this.segments,segments2:this.segments2}},a.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,e.exports=a},{"./program_configuration":15}],2:[function(t,e,n){"use strict";var r=t("./array_group"),o=t("./buffer_group"),i=t("../util/util"),a=function(t,e){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,t.arrays?this.buffers=new o(e,t.layers,t.zoom,t.arrays):this.arrays=new r(e,t.layers,t.zoom)};a.prototype.populate=function(t,e){for(var n=this,r=0,o=t;r<o.length;r+=1){var i=o[r];n.layers[0].filter(i)&&(n.addFeature(i),e.featureIndex.insert(i,n.index))}},a.prototype.isEmpty=function(){return this.arrays.isEmpty()},a.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),arrays:this.arrays.serialize(t)}},a.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},e.exports=a,a.deserialize=function(t,e){if(e){for(var n={},r=0,o=t;r<o.length;r+=1){var a=o[r],s=a.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==s.length)for(var u=s[0].createBucket(i.extend({layers:s},a)),l=0,c=s;l<c.length;l+=1){var f=c[l];n[f.id]=u}}return n}}},{"../util/util":129,"./array_group":1,"./buffer_group":9}],3:[function(t,e,n){"use strict";function r(t,e,n,r,o){t.emplaceBack(2*e+(r+1)/2,2*n+(o+1)/2)}var o=t("../bucket"),i=t("../vertex_array_type"),a=t("../element_array_type"),s=t("../load_geometry"),u=t("../extent"),l={layoutVertexArrayType:i([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:a(),paintAttributes:[{property:"circle-color",type:"Uint8"},{property:"circle-radius",type:"Uint16",multiplier:10},{property:"circle-blur",type:"Uint16",multiplier:10},{property:"circle-opacity",type:"Uint8",multiplier:255},{property:"circle-stroke-color",type:"Uint8"},{property:"circle-stroke-width",type:"Uint16",multiplier:10},{property:"circle-stroke-opacity",type:"Uint8",multiplier:255}]},c=function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,o=s(t);n<o.length;n+=1)for(var i=o[n],a=0,l=i;a<l.length;a+=1){var c=l[a],f=c.x,p=c.y;if(!(f<0||f>=u||p<0||p>=u)){var h=e.prepareSegment(4),d=h.vertexLength;r(e.layoutVertexArray,f,p,-1,-1),r(e.layoutVertexArray,f,p,1,-1),r(e.layoutVertexArray,f,p,1,1),r(e.layoutVertexArray,f,p,-1,1),e.elementArray.emplaceBack(d,d+1,d+2),e.elementArray.emplaceBack(d,d+3,d+2),h.vertexLength+=4,h.primitiveLength+=2}}e.populatePaintArrays(t.properties)},e}(o);e.exports=c},{"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17}],4:[function(t,e,n){"use strict";var r=t("../bucket"),o=t("../vertex_array_type"),i=t("../element_array_type"),a=t("../load_geometry"),s=t("earcut"),u=t("../../util/classify_rings"),l=500,c={layoutVertexArrayType:o([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:i(3),elementArrayType2:i(2),paintAttributes:[{property:"fill-color",type:"Uint8"},{property:"fill-outline-color",type:"Uint8"},{property:"fill-opacity",type:"Uint8",multiplier:255}]},f=function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,r=u(a(t),l);n<r.length;n+=1){for(var o=r[n],i=0,c=0,f=o;c<f.length;c+=1){var p=f[c];i+=p.length}for(var h=e.prepareSegment(i),d=h.vertexLength,m=[],y=[],v=0,g=o;v<g.length;v+=1){var _=g[v];if(0!==_.length){_!==o[0]&&y.push(m.length/2);var b=e.prepareSegment2(_.length),x=b.vertexLength;e.layoutVertexArray.emplaceBack(_[0].x,_[0].y),e.elementArray2.emplaceBack(x+_.length-1,x),m.push(_[0].x),m.push(_[0].y);for(var w=1;w<_.length;w++)e.layoutVertexArray.emplaceBack(_[w].x,_[w].y),e.elementArray2.emplaceBack(x+w-1,x+w),m.push(_[w].x),m.push(_[w].y);b.vertexLength+=_.length,b.primitiveLength+=_.length}}for(var E=s(m,y),S=0;S<E.length;S+=3)e.elementArray.emplaceBack(d+E[S],d+E[S+1],d+E[S+2]);h.vertexLength+=i,h.primitiveLength+=E.length/3}e.populatePaintArrays(t.properties)},e}(r);e.exports=f},{"../../util/classify_rings":113,"../bucket":2,"../element_array_type":10,"../load_geometry":13,"../vertex_array_type":17,earcut:136}],5:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s){t.emplaceBack(e,n,2*Math.floor(r*d)+a,o*d*2,i*d*2,Math.round(s))}function o(t,e){return t.x===e.x&&(t.x<0||t.x>l)||t.y===e.y&&(t.y<0||t.y>l)}var i=t("../bucket"),a=t("../vertex_array_type"),s=t("../element_array_type"),u=t("../load_geometry"),l=t("../extent"),c=t("earcut"),f=t("../../util/classify_rings"),p=500,h={layoutVertexArrayType:a([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}]),elementArrayType:s(3),paintAttributes:[{property:"fill-extrusion-base",type:"Uint16"},{property:"fill-extrusion-height",type:"Uint16"},{property:"fill-extrusion-color",type:"Uint8"}]},d=Math.pow(2,13),m=function(t){function e(e){t.call(this,e,h)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,i=f(u(t),p);n<i.length;n+=1){for(var a=i[n],s=0,l=0,h=a;l<h.length;l+=1){var d=h[l];s+=d.length}for(var m=e.prepareSegment(5*s),y=[],v=[],g=[],_=0,b=a;_<b.length;_+=1){var x=b[_];if(0!==x.length){x!==a[0]&&v.push(y.length/2);for(var w=0,E=0;E<x.length;E++){var S=x[E];if(r(e.layoutVertexArray,S.x,S.y,0,0,1,1,0),g.push(m.vertexLength++),E>=1){var M=x[E-1];if(!o(S,M)){var T=S.sub(M)._perp()._unit();r(e.layoutVertexArray,S.x,S.y,T.x,T.y,0,0,w),r(e.layoutVertexArray,S.x,S.y,T.x,T.y,0,1,w),w+=M.dist(S),r(e.layoutVertexArray,M.x,M.y,T.x,T.y,0,0,w),r(e.layoutVertexArray,M.x,M.y,T.x,T.y,0,1,w);var C=m.vertexLength;e.elementArray.emplaceBack(C,C+1,C+2),e.elementArray.emplaceBack(C+1,C+2,C+3),m.vertexLength+=4,m.primitiveLength+=2}}y.push(S.x),y.push(S.y)}}}for(var k=c(y,v),P=0;P<k.length;P+=3)e.elementArray.emplaceBack(g[k[P]],g[k[P+1]],g[k[P+2]]);m.primitiveLength+=k.length/3}e.populatePaintArrays(t.properties)},e}(i);e.exports=m},{"../../util/classify_rings":113,"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17,earcut:136}],6:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){t.emplaceBack(e.x<<1|r,e.y<<1|o,Math.round(l*n.x)+128,Math.round(l*n.y)+128,(0===i?0:i<0?-1:1)+1|(a*h&63)<<2,a*h>>6)}var o=t("../bucket"),i=t("../vertex_array_type"),a=t("../element_array_type"),s=t("../load_geometry"),u=t("../extent"),l=63,c=Math.cos(37.5*(Math.PI/180)),f=15,p=15,h=.5,d=Math.pow(2,p-1)/h,m={layoutVertexArrayType:i([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),paintAttributes:[{property:"line-color",type:"Uint8"},{property:"line-blur",multiplier:10,type:"Uint8"},{property:"line-opacity",multiplier:10,type:"Uint8"},{property:"line-gap-width",multiplier:10,type:"Uint8",name:"a_gapwidth"},{property:"line-offset",multiplier:1,type:"Int8"}],elementArrayType:a()},y=function(t){function e(e){t.call(this,e,m)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this,n=this.layers[0].layout,r=n["line-join"],o=n["line-cap"],i=n["line-miter-limit"],a=n["line-round-limit"],u=0,l=s(t,p);u<l.length;u+=1){var c=l[u];e.addLine(c,t.properties,r,o,i,a)}},e.prototype.addLine=function(t,e,n,r,o,i){for(var a=this,s=t.length;s>2&&t[s-1].equals(t[s-2]);)s--;if(!(t.length<2)){"bevel"===n&&(o=1.05);var l=f*(u/(512*this.overscaling)),p=t[0],h=t[s-1],d=p.equals(h),m=this.arrays,y=m.prepareSegment(10*s);if(2!==s||!d){this.distance=0;var v,g,_,b,x,w,E,S=r,M=d?"butt":r,T=!0;this.e1=this.e2=this.e3=-1,d&&(v=t[s-2],x=p.sub(v)._unit()._perp());for(var C=0;C<s;C++)if(_=d&&C===s-1?t[1]:t[C+1],!_||!t[C].equals(_)){x&&(b=x),v&&(g=v),v=t[C],x=_?_.sub(v)._unit()._perp():b,b=b||x;var k=b.add(x);0===k.x&&0===k.y||k._unit();var P=k.x*x.x+k.y*x.y,A=0!==P?1/P:1/0,R=P<c&&g&&_;if(R&&C>0){var O=v.dist(g);if(O>2*l){var I=v.sub(v.sub(g)._mult(l/O)._round());a.distance+=I.dist(g),a.addCurrentVertex(I,a.distance,b.mult(1),0,0,!1,y),g=I}}var L=g&&_,N=L?n:_?S:M;if(L&&"round"===N&&(A<i?N="miter":A<=2&&(N="fakeround")),"miter"===N&&A>o&&(N="bevel"),"bevel"===N&&(A>2&&(N="flipbevel"),A<o&&(N="miter")),g&&(a.distance+=v.dist(g)),"miter"===N)k._mult(A),a.addCurrentVertex(v,a.distance,k,0,0,!1,y);else if("flipbevel"===N){if(A>100)k=x.clone().mult(-1);else{var D=b.x*x.y-b.y*x.x>0?-1:1,j=A*b.add(x).mag()/b.sub(x).mag();k._perp()._mult(j*D)}a.addCurrentVertex(v,a.distance,k,0,0,!1,y),a.addCurrentVertex(v,a.distance,k.mult(-1),0,0,!1,y)}else if("bevel"===N||"fakeround"===N){var z=b.x*x.y-b.y*x.x>0,U=-Math.sqrt(A*A-1);if(z?(E=0,w=U):(w=0,E=U),T||a.addCurrentVertex(v,a.distance,b,w,E,!1,y),"fakeround"===N){for(var F,B=Math.floor(8*(.5-(P-.5))),q=0;q<B;q++)F=x.mult((q+1)/(B+1))._add(b)._unit(),a.addPieSliceVertex(v,a.distance,F,z,y);a.addPieSliceVertex(v,a.distance,k,z,y);for(var V=B-1;V>=0;V--)F=b.mult((V+1)/(B+1))._add(x)._unit(),a.addPieSliceVertex(v,a.distance,F,z,y)}_&&a.addCurrentVertex(v,a.distance,x,-w,-E,!1,y)}else"butt"===N?(T||a.addCurrentVertex(v,a.distance,b,0,0,!1,y),_&&a.addCurrentVertex(v,a.distance,x,0,0,!1,y)):"square"===N?(T||(a.addCurrentVertex(v,a.distance,b,1,1,!1,y),a.e1=a.e2=-1),_&&a.addCurrentVertex(v,a.distance,x,-1,-1,!1,y)):"round"===N&&(T||(a.addCurrentVertex(v,a.distance,b,0,0,!1,y),a.addCurrentVertex(v,a.distance,b,1,1,!0,y),a.e1=a.e2=-1),_&&(a.addCurrentVertex(v,a.distance,x,-1,-1,!0,y),a.addCurrentVertex(v,a.distance,x,0,0,!1,y)));if(R&&C<s-1){var H=v.dist(_);if(H>2*l){var W=v.add(_.sub(v)._mult(l/H)._round());a.distance+=W.dist(v),a.addCurrentVertex(W,a.distance,x.mult(1),0,0,!1,y),v=W}}T=!1}m.populatePaintArrays(e)}}},e.prototype.addCurrentVertex=function(t,e,n,o,i,a,s){var u,l=a?1:0,c=this.arrays,f=c.layoutVertexArray,p=c.elementArray;u=n.clone(),o&&u._sub(n.perp()._mult(o)),r(f,t,u,l,0,o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),i&&u._sub(n.perp()._mult(i)),r(f,t,u,l,1,-i,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>d/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,o,i,a,s))},e.prototype.addPieSliceVertex=function(t,e,n,o,i){var a=o?1:0;n=n.mult(o?-1:1);var s=this.arrays,u=s.layoutVertexArray,l=s.elementArray;r(u,t,n,0,a,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),o?this.e2=this.e3:this.e1=this.e3},e}(o);e.exports=y},{"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17}],7:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,u,l,c){t.emplaceBack(e,n,Math.round(64*r),Math.round(64*o),i/4,a/4,10*(l||0),c,10*(s||0),10*Math.min(u||25,25))}function o(t,e,n,r,o){return t.emplaceBack(e.x,e.y,Math.round(n.x),Math.round(n.y),10*r,10*o)}var i=t("point-geometry"),a=t("../array_group"),s=t("../buffer_group"),u=t("../vertex_array_type"),l=t("../element_array_type"),c=t("../extent"),f=t("../../symbol/anchor"),p=t("../../symbol/get_anchors"),h=t("../../util/token"),d=t("../../symbol/quads"),m=t("../../symbol/shaping"),y=t("../../symbol/resolve_text"),v=t("../../symbol/mergelines"),g=t("../../symbol/clip_line"),_=t("../../util/util"),b=t("../../util/script_detection"),x=t("../load_geometry"),w=t("../../symbol/collision_feature"),E=t("../../util/find_pole_of_inaccessibility"),S=t("../../util/classify_rings"),M=t("vector-tile").VectorTileFeature,T=t("../../source/rtl_text_plugin"),C=m.shapeText,k=m.shapeIcon,P=m.WritingMode,A=d.getGlyphQuads,R=d.getIconQuads,O=l(),I=u([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),L={glyph:{layoutVertexArrayType:I,elementArrayType:O},icon:{layoutVertexArrayType:I,elementArrayType:O},collisionBox:{layoutVertexArrayType:u([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}]),elementArrayType:l(2)}},N=function(t){var e=this;if(this.collisionBoxArray=t.collisionBoxArray,this.symbolQuadsArray=t.symbolQuadsArray,this.symbolInstancesArray=t.symbolInstancesArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.adjustedTextSize=t.adjustedTextSize,this.adjustedIconSize=t.adjustedIconSize,this.fontstack=t.fontstack,t.arrays){this.buffers={};for(var n in t.arrays)t.arrays[n]&&(e.buffers[n]=new s(L[n],t.layers,t.zoom,t.arrays[n]))}};N.prototype.populate=function(t,e){var n=this,r=this.layers[0].layout,o=r["text-field"],i=r["text-font"],a=r["icon-image"],s=o&&i,u=a;if(this.features=[],s||u){for(var l=e.iconDependencies,c=e.glyphDependencies,f=c[i]=c[i]||{},p=0;p<t.length;p++){var d=t[p];if(n.layers[0].filter(d)){var m;s&&(m=T.applyArabicShaping?T.applyArabicShaping(y(d,r)):y(d,r));var g;if(u&&(g=h(d.properties,a)),(m||g)&&(n.features.push({text:m,icon:g,index:p,sourceLayerIndex:d.sourceLayerIndex,geometry:x(d),properties:d.properties,type:M.types[d.type]}),g&&(l[g]=!0),m))for(var _=0;_<m.length;_++)f[m.charCodeAt(_)]=!0}}"line"===r["symbol-placement"]&&(this.features=v(this.features))}},N.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},N.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,adjustedTextSize:this.adjustedTextSize,adjustedIconSize:this.adjustedIconSize,fontstack:this.fontstack,arrays:_.mapObject(this.arrays,function(e){return e.isEmpty()?null:e.serialize(t)})}},N.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},N.prototype.createArrays=function(){var t=this;this.arrays=_.mapObject(L,function(e){return new a(e,t.layers,t.zoom)})},N.prototype.prepare=function(t,e){var n=this;this.createArrays(),this.adjustedTextMaxSize=this.layers[0].getLayoutValue("text-size",{zoom:18}),this.adjustedTextSize=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1}),this.adjustedIconMaxSize=this.layers[0].getLayoutValue("icon-size",{zoom:18}),this.adjustedIconSize=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1});var r=512*this.overscaling;this.tilePixelRatio=c/r,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var o=this.layers[0].layout,i=.5,a=.5;switch(o["text-anchor"]){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(o["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}for(var s="right"===o["text-justify"]?1:"left"===o["text-justify"]?0:.5,u=24,l=o["text-line-height"]*u,f="line"!==o["symbol-placement"]?o["text-max-width"]*u:0,p=o["text-letter-spacing"]*u,h=[o["text-offset"][0]*u,o["text-offset"][1]*u],d=this.fontstack=o["text-font"].join(","),m="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],y=0,v=this.features;y<v.length;y+=1){var g,x=v[y];if(x.text){var w=b.allowsVerticalWritingMode(x.text);g={},g[P.horizontal]=C(x.text,t[d],f,l,i,a,s,p,h,u,P.horizontal),g[P.vertical]=w&&m&&C(x.text,t[d],f,l,i,a,s,p,h,u,P.vertical)}else g={};var E;if(x.icon){var S=e[x.icon],M=n.layers[0].getLayoutValue("icon-offset",{zoom:n.zoom},x.properties);E=k(S,M),S&&(void 0===n.sdfIcons?n.sdfIcons=S.sdf:n.sdfIcons!==S.sdf&&_.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==S.pixelRatio?n.iconsNeedLinear=!0:0===o["icon-rotate"]&&n.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(n.iconsNeedLinear=!0))}(g[P.horizontal]||E)&&n.addFeature(x,g,E)}this.symbolInstancesEndIndex=this.symbolInstancesArray.length},N.prototype.addFeature=function(t,e,n){var r=this,o=this.layers[0].layout,i=24,a=this.adjustedTextSize/i,s=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,u=this.tilePixelRatio*a,l=this.tilePixelRatio*s/i,h=this.tilePixelRatio*this.adjustedIconSize,d=this.tilePixelRatio*o["symbol-spacing"],m=o["symbol-avoid-edges"],y=o["text-padding"]*this.tilePixelRatio,v=o["icon-padding"]*this.tilePixelRatio,_=o["text-max-angle"]/180*Math.PI,b="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],x="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"],w=o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"],M=o["symbol-placement"],T=d/2,C=function(o,i){var a=!(i.x<0||i.x>c||i.y<0||i.y>c);if(!m||a){var s=a||w;r.addSymbolInstance(i,o,e,n,r.layers[0],s,r.symbolInstancesArray.length,r.collisionBoxArray,t.index,t.sourceLayerIndex,r.index,u,y,b,h,v,x,{zoom:r.zoom},t.properties)}};if("line"===M)for(var k=0,A=g(t.geometry,0,0,c,c);k<A.length;k+=1)for(var R=A[k],O=p(R,d,_,e[P.vertical]||e[P.horizontal],n,i,l,r.overscaling,c),I=0,L=O;I<L.length;I+=1){var N=L[I],D=e[P.horizontal];D&&r.anchorIsTooClose(D.text,T,N)||C(R,N)}else if("Polygon"===t.type)for(var j=0,z=S(t.geometry,0);j<z.length;j+=1){var U=z[j],F=E(U,16);C(U[0],new f(F.x,F.y,0))}else if("LineString"===t.type)for(var B=0,q=t.geometry;B<q.length;B+=1){var V=q[B];C(V,new f(V[0].x,V[0].y,0))}else if("Point"===t.type)for(var H=0,W=t.geometry;H<W.length;H+=1)for(var G=W[H],K=0,Z=G;K<Z.length;K+=1){var X=Z[K];C([X],new f(X.x,X.y,0))}},N.prototype.anchorIsTooClose=function(t,e,n){var r=this.compareText;if(t in r){for(var o=r[t],i=o.length-1;i>=0;i--)if(n.dist(o[i])<e)return!0}else r[t]=[];return r[t].push(n),!1},N.prototype.place=function(t,e){var n=this;this.createArrays();var r=this.layers[0].layout,o=t.maxScale,i="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],a="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],s=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(s){var u=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),l=t.angle,c=Math.sin(l),f=Math.cos(l);this.sortedSymbolInstances=u.sort(function(t,e){var n=c*t.anchorPointX+f*t.anchorPointY|0,r=c*e.anchorPointX+f*e.anchorPointY|0;return n-r||e.index-t.index})}for(var p=this.symbolInstancesStartIndex;p<this.symbolInstancesEndIndex;p++){var h=n.sortedSymbolInstances?n.sortedSymbolInstances[p-n.symbolInstancesStartIndex]:n.symbolInstancesArray.get(p),d={boxStartIndex:h.textBoxStartIndex,boxEndIndex:h.textBoxEndIndex},m={boxStartIndex:h.iconBoxStartIndex,boxEndIndex:h.iconBoxEndIndex},y=!(h.textBoxStartIndex===h.textBoxEndIndex),v=!(h.iconBoxStartIndex===h.iconBoxEndIndex),g=r["text-optional"]||!y,_=r["icon-optional"]||!v,b=y?t.placeCollisionFeature(d,r["text-allow-overlap"],r["symbol-avoid-edges"]):t.minScale,x=v?t.placeCollisionFeature(m,r["icon-allow-overlap"],r["symbol-avoid-edges"]):t.minScale;g||_?!_&&b?b=Math.max(x,b):!g&&x&&(x=Math.max(x,b)):x=b=Math.max(x,b),y&&(t.insertCollisionFeature(d,b,r["text-ignore-placement"]),b<=o&&n.addSymbols(n.arrays.glyph,h.glyphQuadStartIndex,h.glyphQuadEndIndex,b,r["text-keep-upright"],i,t.angle,h.writingModes)),v&&(t.insertCollisionFeature(m,x,r["icon-ignore-placement"]),x<=o&&n.addSymbols(n.arrays.icon,h.iconQuadStartIndex,h.iconQuadEndIndex,x,r["icon-keep-upright"],a,t.angle))}e&&this.addToDebugBuffers(t)},N.prototype.addSymbols=function(t,e,n,o,i,a,s,u){for(var l=this,c=t.elementArray,f=t.layoutVertexArray,p=this.zoom,h=Math.max(Math.log(o)/Math.LN2+p,0),d=e;d<n;d++){var m=l.symbolQuadsArray.get(d).SymbolQuad,y=(m.anchorAngle+s+Math.PI)%(2*Math.PI);if(u&P.vertical){if(a&&m.writingMode===P.vertical){if(i&&a&&y<=5*Math.PI/4||y>7*Math.PI/4)continue}else if(i&&a&&y<=3*Math.PI/4||y>5*Math.PI/4)continue}else if(i&&a&&(y<=Math.PI/2||y>3*Math.PI/2))continue;var v=m.tl,g=m.tr,_=m.bl,b=m.br,x=m.tex,w=m.anchorPoint,E=Math.max(p+Math.log(m.minScale)/Math.LN2,h),S=Math.min(p+Math.log(m.maxScale)/Math.LN2,25);if(!(S<=E)){E===h&&(E=0);var M=Math.round(m.glyphAngle/(2*Math.PI)*256),T=t.prepareSegment(4),C=T.vertexLength;r(f,w.x,w.y,v.x,v.y,x.x,x.y,E,S,h,M),r(f,w.x,w.y,g.x,g.y,x.x+x.w,x.y,E,S,h,M),r(f,w.x,w.y,_.x,_.y,x.x,x.y+x.h,E,S,h,M),r(f,w.x,w.y,b.x,b.y,x.x+x.w,x.y+x.h,E,S,h,M),c.emplaceBack(C,C+1,C+2),c.emplaceBack(C+1,C+2,C+3),T.vertexLength+=4,T.primitiveLength+=2}}},N.prototype.addToDebugBuffers=function(t){for(var e=this,n=this.arrays.collisionBox,r=n.layoutVertexArray,a=n.elementArray,s=-t.angle,u=t.yStretch,l=this.symbolInstancesStartIndex;l<this.symbolInstancesEndIndex;l++){var c=e.symbolInstancesArray.get(l);c.textCollisionFeature={boxStartIndex:c.textBoxStartIndex,boxEndIndex:c.textBoxEndIndex},c.iconCollisionFeature={boxStartIndex:c.iconBoxStartIndex,boxEndIndex:c.iconBoxEndIndex};for(var f=0;f<2;f++){var p=c[0===f?"textCollisionFeature":"iconCollisionFeature"];if(p)for(var h=p.boxStartIndex;h<p.boxEndIndex;h++){var d=e.collisionBoxArray.get(h),m=d.anchorPoint,y=new i(d.x1,d.y1*u)._rotate(s),v=new i(d.x2,d.y1*u)._rotate(s),g=new i(d.x1,d.y2*u)._rotate(s),_=new i(d.x2,d.y2*u)._rotate(s),b=Math.max(0,Math.min(25,e.zoom+Math.log(d.maxScale)/Math.LN2)),x=Math.max(0,Math.min(25,e.zoom+Math.log(d.placementScale)/Math.LN2)),w=n.prepareSegment(4),E=w.vertexLength;o(r,m,y,b,x),o(r,m,v,b,x),o(r,m,_,b,x),o(r,m,g,b,x),a.emplaceBack(E,E+1),a.emplaceBack(E+1,E+2),a.emplaceBack(E+2,E+3),a.emplaceBack(E+3,E),w.vertexLength+=4,w.primitiveLength+=4}}}},N.prototype.addSymbolInstance=function(t,e,n,r,o,i,a,s,u,l,c,f,p,h,d,m,y,v,g){var b,x,E,S=this,M=[];for(var T in n){var C=parseInt(T,10);n[C]&&(M=M.concat(i?A(t,n[C],f,e,o,h,C):[]),b=new w(s,e,t,u,l,c,n[C],f,p,h,(!1)))}var k=this.symbolQuadsArray.length;if(M&&M.length)for(var O=0;O<M.length;O++)S.addSymbolQuad(M[O]);var I=this.symbolQuadsArray.length,L=b?b.boxStartIndex:this.collisionBoxArray.length,D=b?b.boxEndIndex:this.collisionBoxArray.length;r&&(E=i?R(t,r,d,e,o,y,n[P.horizontal],v,g):[],x=new w(s,e,t,u,l,c,r,d,m,y,(!0)));var j=this.symbolQuadsArray.length;E&&1===E.length&&this.addSymbolQuad(E[0]);var z=this.symbolQuadsArray.length,U=x?x.boxStartIndex:this.collisionBoxArray.length,F=x?x.boxEndIndex:this.collisionBoxArray.length;z>N.MAX_QUADS&&_.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),I>N.MAX_QUADS&&_.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var B=(n[P.vertical]?P.vertical:0)|(n[P.horizontal]?P.horizontal:0);return this.symbolInstancesArray.emplaceBack(L,D,U,F,k,I,j,z,t.x,t.y,a,B)},N.prototype.addSymbolQuad=function(t){return this.symbolQuadsArray.emplaceBack(t.anchorPoint.x,t.anchorPoint.y,t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y,t.tex.h,t.tex.w,t.tex.x,t.tex.y,t.anchorAngle,t.glyphAngle,t.maxScale,t.minScale,t.writingMode)},N.MAX_QUADS=65535,e.exports=N},{"../../source/rtl_text_plugin":49,"../../symbol/anchor":75,"../../symbol/clip_line":77,"../../symbol/collision_feature":79,"../../symbol/get_anchors":81,"../../symbol/mergelines":84,"../../symbol/quads":85,"../../symbol/resolve_text":86,"../../symbol/shaping":87,"../../util/classify_rings":113,"../../util/find_pole_of_inaccessibility":119,"../../util/script_detection":126,"../../util/token":128,"../../util/util":129,"../array_group":1,"../buffer_group":9,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17,"point-geometry":197,"vector-tile":206}],8:[function(t,e,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"},o=function(t,e,n){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=n,this.arrayType=e};o.fromStructArray=function(t,e){return new o(t.serialize(),t.constructor.serialize(),e)},o.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.gl=t,this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)},o.prototype.setVertexAttribPointers=function(t,e,n){for(var o=this,i=0;i<this.attributes.length;i++){var a=o.attributes[i],s=e[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[r[a.type]],!1,o.arrayType.bytesPerElement,a.offset+(o.arrayType.bytesPerElement*n||0))}},o.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},o.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},e.exports=o},{}],9:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("./buffer"),i=t("./program_configuration"),a=t("../render/vertex_array_object"),s=function(t,e,n,s){var u=this;this.layoutVertexBuffer=new o(s.layoutVertexArray,t.layoutVertexArrayType.serialize(),o.BufferType.VERTEX),s.elementArray&&(this.elementBuffer=new o(s.elementArray,t.elementArrayType.serialize(),o.BufferType.ELEMENT)),s.elementArray2&&(this.elementBuffer2=new o(s.elementArray2,t.elementArrayType2.serialize(),o.BufferType.ELEMENT)),this.layerData={};for(var l=0,c=e;l<c.length;l+=1){var f=c[l],p=s.paintVertexArrays&&s.paintVertexArrays[f.id],h=i.createDynamic(t.paintAttributes||[],f,n),d=p?new o(p.array,p.type,o.BufferType.VERTEX):null;u.layerData[f.id]={programConfiguration:h,paintVertexBuffer:d}}this.segments=s.segments,this.segments2=s.segments2;for(var m=0,y=[this.segments,this.segments2];m<y.length;m+=1)for(var v=y[m],g=0,_=v||[];g<_.length;g+=1){var b=_[g];b.vaos=r.mapObject(u.layerData,function(){return new a})}};s.prototype.destroy=function(){var t=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var e in this.layerData){var n=t.layerData[e].paintVertexBuffer;n&&n.destroy()}for(var r=0,o=[this.segments,this.segments2];r<o.length;r+=1)for(var i=o[r],a=0,s=i||[];a<s.length;a+=1){
var u=s[a];for(var l in u.vaos)u.vaos[l].destroy()}},e.exports=s},{"../render/vertex_array_object":39,"../util/util":129,"./buffer":8,"./program_configuration":15}],10:[function(t,e,n){"use strict";function r(t){return o({members:[{type:"Uint16",name:"vertices",components:t||3}]})}var o=t("../util/struct_array");e.exports=r},{"../util/struct_array":127}],11:[function(t,e,n){"use strict";e.exports=8192},{}],12:[function(t,e,n){"use strict";function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return e-t}function i(t){return t["line-gap-width"]>0?t["line-gap-width"]+2*t["line-width"]:t["line-width"]}function a(t,e,n,r,o){if(!e[0]&&!e[1])return t;e=u.convert(e),"viewport"===n&&e._rotate(-r);for(var i=[],a=0;a<t.length;a++){for(var s=t[a],l=[],c=0;c<s.length;c++)l.push(s[c].sub(e._mult(o)));i.push(l)}return i}function s(t,e){for(var n=[],r=new u(0,0),o=0;o<t.length;o++){for(var i=t[o],a=[],s=0;s<i.length;s++){var l=i[s-1],c=i[s],f=i[s+1],p=0===s?r:c.sub(l)._unit()._perp(),h=s===i.length-1?r:f.sub(c)._unit()._perp(),d=p._add(h)._unit(),m=d.x*h.x+d.y*h.y;d._mult(1/m),a.push(d._mult(e)._add(c))}n.push(a)}return n}var u=t("point-geometry"),l=t("./load_geometry"),c=t("./extent"),f=t("feature-filter"),p=t("../util/struct_array"),h=t("grid-index"),d=t("../util/dictionary_coder"),m=t("vector-tile"),y=t("pbf"),v=t("../util/vectortile_to_geojson"),g=t("../util/util").arraysIntersect,_=t("../util/intersection_tests"),b=_.multiPolygonIntersectsBufferedMultiPoint,x=_.multiPolygonIntersectsMultiPolygon,w=_.multiPolygonIntersectsBufferedMultiLine,E=p({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),S=function(t,e,n){if(t.grid){var r=t,o=e;t=r.coord,e=r.overscaling,this.grid=new h(r.grid),this.featureIndexArray=new E(r.featureIndexArray),this.rawTileData=o,this.bucketLayerIDs=r.bucketLayerIDs}else this.grid=new h(c,16,0),this.featureIndexArray=new E;this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.setCollisionTile(n)};S.prototype.insert=function(t,e){var n=this,r=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(t.index,t.sourceLayerIndex,e);for(var o=l(t),i=0;i<o.length;i++){for(var a=o[i],s=[1/0,1/0,-(1/0),-(1/0)],u=0;u<a.length;u++){var c=a[u];s[0]=Math.min(s[0],c.x),s[1]=Math.min(s[1],c.y),s[2]=Math.max(s[2],c.x),s[3]=Math.max(s[3],c.y)}n.grid.insert(r,s[0],s[1],s[2],s[3])}},S.prototype.setCollisionTile=function(t){this.collisionTile=t},S.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs}},S.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new m.VectorTile(new y(this.rawTileData)).layers,this.sourceLayerCoder=new d(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var n={},a=t.params||{},s=c/t.tileSize/t.scale,l=f(a.filter),p=0;for(var h in e){var v=e[h],g=v.paint,_=0;"line"===v.type?_=i(g)/2+Math.abs(g["line-offset"])+r(g["line-translate"]):"fill"===v.type?_=r(g["fill-translate"]):"fill-extrusion"===v.type?_=r(g["fill-extrusion-translate"]):"circle"===v.type&&(_=g["circle-radius"]+r(g["circle-translate"])),p=Math.max(p,_*s)}for(var b=t.queryGeometry.map(function(t){return t.map(function(t){return new u(t.x,t.y)})}),x=1/0,w=1/0,E=-(1/0),S=-(1/0),M=0;M<b.length;M++)for(var T=b[M],C=0;C<T.length;C++){var k=T[C];x=Math.min(x,k.x),w=Math.min(w,k.y),E=Math.max(E,k.x),S=Math.max(S,k.y)}var P=this.grid.query(x-p,w-p,E+p,S+p);P.sort(o),this.filterMatching(n,P,this.featureIndexArray,b,l,a.layers,e,t.bearing,s);var A=this.collisionTile.queryRenderedSymbols(b,t.scale);return A.sort(),this.filterMatching(n,A,this.collisionTile.collisionBoxArray,b,l,a.layers,e,t.bearing,s),n},S.prototype.filterMatching=function(t,e,n,r,o,u,c,f,p){for(var h,d=this,m=0;m<e.length;m++){var y=e[m];if(y!==h){h=y;var _=n.get(y),E=d.bucketLayerIDs[_.bucketIndex];if(!u||g(u,E)){var S=d.sourceLayerCoder.decode(_.sourceLayerIndex),M=d.vtLayers[S],T=M.feature(_.featureIndex);if(o(T))for(var C=null,k=0;k<E.length;k++){var P=E[k];if(!(u&&u.indexOf(P)<0)){var A=c[P];if(A){var R;if("symbol"!==A.type){C||(C=l(T));var O=A.paint;if("line"===A.type){R=a(r,O["line-translate"],O["line-translate-anchor"],f,p);var I=i(O)/2*p;if(O["line-offset"]&&(C=s(C,O["line-offset"]*p)),!w(R,C,I))continue}else if("fill"===A.type||"fill-extrusion"===A.type){var L=A.type;if(R=a(r,O[L+"-translate"],O[L+"-translate-anchor"],f,p),!x(R,C))continue}else if("circle"===A.type){R=a(r,O["circle-translate"],O["circle-translate-anchor"],f,p);var N=O["circle-radius"]*p;if(!b(R,C,N))continue}}var D=new v(T,d.z,d.x,d.y);D.layer=A.serialize();var j=t[P];void 0===j&&(j=t[P]=[]),j.push(D)}}}}}}},e.exports=S},{"../util/dictionary_coder":115,"../util/intersection_tests":122,"../util/struct_array":127,"../util/util":129,"../util/vectortile_to_geojson":130,"./extent":11,"./load_geometry":13,"feature-filter":138,"grid-index":149,pbf:196,"point-geometry":197,"vector-tile":206}],13:[function(t,e,n){"use strict";function r(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var o=t("../util/util"),i=t("./extent"),a={15:r(15),16:r(16)};e.exports=function(t,e){for(var n=a[e||16],r=i/t.extent,s=t.loadGeometry(),u=0;u<s.length;u++)for(var l=s[u],c=0;c<l.length;c++){var f=l[c];f.x=Math.round(f.x*r),f.y=Math.round(f.y*r),(f.x<n.min||f.x>n.max||f.y<n.min||f.y>n.max)&&o.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return s}},{"../util/util":129,"./extent":11}],14:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=r({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=o},{"../util/struct_array":127}],15:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.zoomStops)return e.getPaintValue(t.property,n,r);var o=t.zoomStops.map(function(o){return e.getPaintValue(t.property,a.extend({},n,{zoom:o}),r)});return 1===o.length?o[0]:o}function o(t,e){var n=t.property.replace(e.type+"-","").replace(/-/g,"_"),r="color"===e._paintSpecifications[t.property].type;return a.extend({name:"a_"+n,components:r?4:1,multiplier:r?255:1},t)}var i=t("./vertex_array_type"),a=t("../util/util"),s=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey=""};s.createDynamic=function(t,e,n){for(var r=new s,a=0,u=t;a<u.length;a+=1){var l=u[a],c=o(l,e),f=c.name.slice(2);e.isPaintValueFeatureConstant(c.property)?r.addZoomAttribute(f,c):e.isPaintValueZoomConstant(c.property)?r.addPropertyAttribute(f,c):r.addZoomAndPropertyAttribute(f,c,e,n)}return r.PaintVertexArray=i(r.attributes),r},s.createStatic=function(t){for(var e=new s,n=0,r=t;n<r.length;n+=1){var o=r[n];e.addUniform(o,"u_"+o)}return e},s.prototype.addUniform=function(t,e){var n=this.getPragmas(t);n.define.push("uniform {precision} {type} "+e+";"),n.initialize.push("{precision} {type} "+t+" = "+e+";"),this.cacheKey+="/u_"+t},s.prototype.addZoomAttribute=function(t,e){this.uniforms.push(e),this.addUniform(t,e.name)},s.prototype.addPropertyAttribute=function(t,e){var n=this.getPragmas(t);this.attributes.push(e),n.define.push("varying {precision} {type} "+t+";"),n.vertex.define.push("attribute {precision} {type} "+e.name+";"),n.vertex.initialize.push(t+" = "+e.name+" / "+e.multiplier+".0;"),this.cacheKey+="/a_"+t},s.prototype.addZoomAndPropertyAttribute=function(t,e,n,r){var o=this,i=this.getPragmas(t);i.define.push("varying {precision} {type} "+t+";");for(var s=0,u=n.getPaintValueStopZoomLevels(e.property);s<u.length&&u[s]<r;)s++;var l=Math.max(0,Math.min(u.length-4,s-2)),c="u_"+t+"_t";i.vertex.define.push("uniform lowp float "+c+";"),this.interpolationUniforms.push({name:c,property:e.property,stopOffset:l});for(var f=[],p=0;p<4;p++)f.push(u[Math.min(l+p,u.length-1)]);var h=[];if(1===e.components)this.attributes.push(a.extend({},e,{components:4,zoomStops:f})),i.vertex.define.push("attribute {precision} vec4 "+e.name+";"),h.push(e.name);else for(var d=0;d<4;d++){var m=e.name+d;h.push(m),o.attributes.push(a.extend({},e,{name:m,zoomStops:[f[d]]})),i.vertex.define.push("attribute {precision} {type} "+m+";")}i.vertex.initialize.push(t+" = evaluate_zoom_function_"+e.components+"(            "+h.join(", ")+", "+c+") / "+e.multiplier+".0;"),this.cacheKey+="/z_"+t},s.prototype.getPragmas=function(t){return this.pragmas[t]||(this.pragmas[t]={define:[],initialize:[]},this.pragmas[t].fragment={define:[],initialize:[]},this.pragmas[t].vertex={define:[],initialize:[]}),this.pragmas[t]},s.prototype.applyPragmas=function(t,e){var n=this;return t.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(t,r,o,i,a){return n.pragmas[a][r].concat(n.pragmas[a][e][r]).join("\n").replace(/{type}/g,i).replace(/{precision}/g,o)})},s.prototype.populatePaintArray=function(t,e,n,o,i){var a=e.length;e.resize(n);for(var s=0,u=this.attributes;s<u.length;s+=1)for(var l=u[s],c=r(l,t,o,i),f=a;f<n;f++){var p=e.get(f);if(4===l.components)for(var h=0;h<4;h++)p[l.name+h]=c[h]*l.multiplier;else p[l.name]=c*l.multiplier}},s.prototype.setUniforms=function(t,e,n,r){for(var o=0,i=this.uniforms;o<i.length;o+=1){var a=i[o],s=n.getPaintValue(a.property,r);4===a.components?t.uniform4fv(e[a.name],s):t.uniform1f(e[a.name],s)}for(var u=0,l=this.interpolationUniforms;u<l.length;u+=1){var c=l[u],f=n.getPaintInterpolationT(c.property,r);t.uniform1f(e[c.name],Math.max(0,Math.min(4,f-c.stopOffset)))}},e.exports=s},{"../util/util":129,"./vertex_array_type":17}],16:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=o},{"../util/struct_array":127}],17:[function(t,e,n){"use strict";function r(t){return o({members:t,alignment:4})}var o=t("../util/struct_array");e.exports=r},{"../util/struct_array":127}],18:[function(t,e,n){"use strict";var r=function(t,e,n){this.column=t,this.row=e,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},r.prototype.sub=function(t){return this.clone()._sub(t)},r.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},r.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=r},{}],19:[function(t,e,n){"use strict";var r=t("../util/util").wrap,o=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};o.prototype.wrap=function(){return new o(r(this.lng,-180,180),this.lat)},o.prototype.toArray=function(){return[this.lng,this.lat]},o.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},o.convert=function(t){if(t instanceof o)return t;if(t&&t.hasOwnProperty("lng")&&t.hasOwnProperty("lat"))return new o(t.lng,t.lat);if(Array.isArray(t)&&2===t.length)return new o(t[0],t[1]);throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=o},{"../util/util":129}],20:[function(t,e,n){"use strict";var r=t("./lng_lat"),o=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};o.prototype.setNorthEast=function(t){return this._ne=r.convert(t),this},o.prototype.setSouthWest=function(t){return this._sw=r.convert(t),this},o.prototype.extend=function(t){var e,n,i=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof o))return Array.isArray(t)?t.every(Array.isArray)?this.extend(o.convert(t)):this.extend(r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return i||a?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},o.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},o.prototype.getSouthWest=function(){return this._sw},o.prototype.getNorthEast=function(){return this._ne},o.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},o.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},o.prototype.getWest=function(){return this._sw.lng},o.prototype.getSouth=function(){return this._sw.lat},o.prototype.getEast=function(){return this._ne.lng},o.prototype.getNorth=function(){return this._ne.lat},o.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},o.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},o.convert=function(t){return!t||t instanceof o?t:new o(t)},e.exports=o},{"./lng_lat":19}],21:[function(t,e,n){"use strict";var r=t("./lng_lat"),o=t("point-geometry"),i=t("./coordinate"),a=t("../util/util"),s=t("../util/interpolate"),u=t("../source/tile_coord"),l=t("../data/extent"),c=t("@mapbox/gl-matrix"),f=c.vec4,p=c.mat4,h=c.mat2,d=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},m={minZoom:{},maxZoom:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};m.minZoom.get=function(){return this._minZoom},m.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},m.maxZoom.get=function(){return this._maxZoom},m.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},m.worldSize.get=function(){return this.tileSize*this.scale},m.centerPoint.get=function(){return this.size._div(2)},m.size.get=function(){return new o(this.width,this.height)},m.bearing.get=function(){return-this.angle/Math.PI*180},m.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=h.create(),h.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},m.pitch.get=function(){return this._pitch/Math.PI*180},m.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},m.fov.get=function(){return this._fov/Math.PI*180},m.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},m.zoom.get=function(){return this._zoom},m.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},m.center.get=function(){return this._center},m.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},d.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},d.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),i=new o(r.column-.5,r.row-.5),a=[this.pointCoordinate(new o(0,0),e),this.pointCoordinate(new o(this.width,0),e),this.pointCoordinate(new o(this.width,this.height),e),this.pointCoordinate(new o(0,this.height),e)];return u.cover(e,a,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return i.dist(t)-i.dist(e)})},d.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},m.unmodified.get=function(){return this._unmodified},d.prototype.zoomScale=function(t){return Math.pow(2,t)},d.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},d.prototype.project=function(t){return new o(this.lngX(t.lng),this.latY(t.lat))},d.prototype.unproject=function(t){return new r(this.xLng(t.x),this.yLat(t.y))},m.x.get=function(){return this.lngX(this.center.lng)},m.y.get=function(){return this.latY(this.center.lat)},m.point.get=function(){return new o(this.x,this.y)},d.prototype.lngX=function(t){return(180+t)*this.worldSize/360},d.prototype.latY=function(t){var e=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-e)*this.worldSize/360},d.prototype.xLng=function(t){return 360*t/this.worldSize-180},d.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},d.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n))},d.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},d.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},d.prototype.locationCoordinate=function(t){return new i(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},d.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new r(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},d.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=0,r=[t.x,t.y,0,1],o=[t.x,t.y,1,1];f.transformMat4(r,r,this.pixelMatrixInverse),f.transformMat4(o,o,this.pixelMatrixInverse);var a=r[3],u=o[3],l=r[0]/a,c=o[0]/u,p=r[1]/a,h=o[1]/u,d=r[2]/a,m=o[2]/u,y=d===m?0:(n-d)/(m-d);return new i(s(l,c,y)/this.tileSize,s(p,h,y)/this.tileSize,this.zoom)._zoomTo(e)},d.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return f.transformMat4(n,n,this.pixelMatrix),new o(n[0]/n[3],n[1]/n[3])},d.prototype.calculatePosMatrix=function(t,e){var n=t.toCoordinate(e),r=this.worldSize/this.zoomScale(n.zoom),o=p.identity(new Float64Array(16));return p.translate(o,o,[n.column*r,n.row*r,0]),p.scale(o,o,[r/l,r/l,1]),p.multiply(o,this.projMatrix,o),new Float32Array(o)},d.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,i,a,s,u,l=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),i=e-t<l.y?l.y/(e-t):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),r=this.lngX(this.lngRange[1]),a=r-n<l.x?l.x/(r-n):0);var f=Math.max(a||0,i||0);if(f)return this.center=this.unproject(new o(a?(r+n)/2:this.x,i?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,h=l.y/2;p-h<t&&(u=t+h),p+h>e&&(u=e-h)}if(this.lngRange){var d=this.x,m=l.x/2;d-m<n&&(s=n+m),d+m>r&&(s=r-m)}void 0===s&&void 0===u||(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==u?u:this.y))),this._unmodified=c,this._constraining=!1}},d.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,o=1.01*r,i=new Float64Array(16);p.perspective(i,this._fov,this.width/this.height,1,o),p.scale(i,i,[1,-1,1]),p.translate(i,i,[0,0,-this.cameraToCenterDistance]),p.rotateX(i,i,this._pitch),p.rotateZ(i,i,this.angle),p.translate(i,i,[-this.x,-this.y,0]);var a=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(p.scale(i,i,[1,1,a,1]),this.projMatrix=i,i=p.create(),p.scale(i,i,[this.width/2,-this.height/2,1]),p.translate(i,i,[1,-1,0]),this.pixelMatrix=p.multiply(new Float64Array(16),i,this.projMatrix),i=p.invert(new Float64Array(16),this.pixelMatrix),!i)throw new Error("failed to invert matrix");this.pixelMatrixInverse=i}},Object.defineProperties(d.prototype,m),e.exports=d},{"../data/extent":11,"../source/tile_coord":53,"../util/interpolate":121,"../util/util":129,"./coordinate":18,"./lng_lat":19,"@mapbox/gl-matrix":133,"point-geometry":197}],22:[function(t,e,n){"use strict";var r,o=t("./util/worker_pool");e.exports=function(){return r||(r=new o),r}},{"./util/worker_pool":132}],23:[function(t,e,n){"use strict";var r={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,n,o){o=o||1;var i,a,s,u,l,c,f,p,h=[];for(i=0,a=t.length;i<a;i++)if(l=r[t[i]]){for(p=null,s=0,u=l[1].length;s<u;s+=2)l[1][s]===-1&&l[1][s+1]===-1?p=null:(c=e+l[1][s]*o,f=n-l[1][s+1]*o,p&&h.push(p.x,p.y,c,f),p={x:c,y:f});e+=l[0]*o}return h}},{}],24:[function(t,e,n){"use strict";var r=t("./util/browser"),o=e.exports={};o.version=t("../package.json").version,o.workerCount=Math.max(Math.floor(r.hardwareConcurrency/2),1),o.Map=t("./ui/map"),o.NavigationControl=t("./ui/control/navigation_control"),o.GeolocateControl=t("./ui/control/geolocate_control"),o.AttributionControl=t("./ui/control/attribution_control"),o.ScaleControl=t("./ui/control/scale_control"),o.Popup=t("./ui/popup"),o.Marker=t("./ui/marker"),o.Style=t("./style/style"),o.LngLat=t("./geo/lng_lat"),o.LngLatBounds=t("./geo/lng_lat_bounds"),o.Point=t("point-geometry"),o.Evented=t("./util/evented"),o.util=t("./util/util"),o.supported=t("./util/browser").supported;var i=t("./util/ajax");o.util.getJSON=i.getJSON,o.util.getArrayBuffer=i.getArrayBuffer;var a=t("./util/config");o.config=a;var s=t("./source/rtl_text_plugin");o.setRTLTextPlugin=s.setRTLTextPlugin,Object.defineProperty(o,"accessToken",{get:function(){return a.ACCESS_TOKEN},set:function(t){a.ACCESS_TOKEN=t}})},{"../package.json":216,"./geo/lng_lat":19,"./geo/lng_lat_bounds":20,"./source/rtl_text_plugin":49,"./style/style":63,"./ui/control/attribution_control":93,"./ui/control/geolocate_control":94,"./ui/control/navigation_control":95,"./ui/control/scale_control":96,"./ui/map":105,"./ui/marker":106,"./ui/popup":107,"./util/ajax":109,"./util/browser":110,"./util/config":114,"./util/evented":118,"./util/util":129,"point-geometry":197}],25:[function(t,e,n){"use strict";function r(t,e,n){var r=t.gl,i=t.transform,a=i.tileSize,s=n.paint["background-color"],u=n.paint["background-pattern"],l=n.paint["background-opacity"],c=!u&&1===s[3]&&1===l;if(t.isOpaquePass===c){r.disable(r.STENCIL_TEST),t.setDepthSublayer(0);var f;u?(f=t.useProgram("fillPattern",t.basicFillProgramConfiguration),o.prepare(u,t,f),t.tileExtentPatternVAO.bind(r,f,t.tileExtentBuffer)):(f=t.useProgram("fill",t.basicFillProgramConfiguration),r.uniform4fv(f.u_color,s),t.tileExtentVAO.bind(r,f,t.tileExtentBuffer)),r.uniform1f(f.u_opacity,l);for(var p=i.coveringTiles({tileSize:a}),h=0,d=p;h<d.length;h+=1){var m=d[h];u&&o.setTile({coord:m,tileSize:a},t,f),r.uniformMatrix4fv(f.u_matrix,!1,t.transform.calculatePosMatrix(m)),r.drawArrays(r.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}var o=t("./pattern");e.exports=r},{"./pattern":37}],26:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var i=t.gl;t.setDepthSublayer(0),t.depthMask(!1),i.disable(i.STENCIL_TEST);for(var a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers,f=c.layerData[n.id],p=f.programConfiguration,h=t.useProgram("circle",p);p.setUniforms(i,h,n,{zoom:t.transform.zoom}),"map"===n.paint["circle-pitch-scale"]?(i.uniform1i(h.u_scale_with_map,!0),i.uniform2f(h.u_extrude_scale,t.transform.pixelsToGLUnits[0]*t.transform.cameraToCenterDistance,t.transform.pixelsToGLUnits[1]*t.transform.cameraToCenterDistance)):(i.uniform1i(h.u_scale_with_map,!1),i.uniform2fv(h.u_extrude_scale,t.transform.pixelsToGLUnits)),i.uniform1f(h.u_devicepixelratio,o.devicePixelRatio),i.uniformMatrix4fv(h.u_matrix,!1,t.translatePosMatrix(s.posMatrix,u,n.paint["circle-translate"],n.paint["circle-translate-anchor"]));for(var d=0,m=c.segments;d<m.length;d+=1){var y=m[d];y.vaos[n.id].bind(i,h,c.layoutVertexBuffer,c.elementBuffer,f.paintVertexBuffer,y.vertexOffset),i.drawElements(i.TRIANGLES,3*y.primitiveLength,i.UNSIGNED_SHORT,3*y.primitiveOffset*2)}}}}}var o=t("../util/browser");e.exports=r},{"../util/browser":110}],27:[function(t,e,n){"use strict";function r(t,e,n,r){var o=t.gl;o.enable(o.STENCIL_TEST);for(var i=t.useProgram("collisionBox"),a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers.collisionBox;if(c){o.uniformMatrix4fv(i.u_matrix,!1,s.posMatrix),t.enableTileClippingMask(s),t.lineWidth(1),o.uniform1f(i.u_scale,Math.pow(2,t.transform.zoom-u.coord.z)),o.uniform1f(i.u_zoom,10*t.transform.zoom),o.uniform1f(i.u_maxzoom,10*(u.coord.z+1));for(var f=0,p=c.segments;f<p.length;f+=1){var h=p[f];h.vaos[n.id].bind(o,i,c.layoutVertexBuffer,c.elementBuffer,null,h.vertexOffset),o.drawElements(o.LINES,2*h.primitiveLength,o.UNSIGNED_SHORT,2*h.primitiveOffset*2);
}}}}}e.exports=r},{}],28:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)o(t,e,n[r])}function o(t,e,n){var r=t.gl;r.disable(r.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var o=n.posMatrix,p=t.useProgram("debug");r.uniformMatrix4fv(p.u_matrix,!1,o),r.uniform4f(p.u_color,1,0,0,1),t.debugVAO.bind(r,p,t.debugBuffer),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var h=i(n.toString(),50,200,5),d=new f,m=0;m<h.length;m+=2)d.emplaceBack(h[m],h[m+1]);var y=l.fromStructArray(d,l.BufferType.VERTEX),v=new c;v.bind(r,p,y),r.uniform4f(p.u_color,1,1,1,1);for(var g=e.getTile(n).tileSize,_=u/(Math.pow(2,t.transform.zoom-n.z)*g),b=[[-1,-1],[-1,1],[1,-1],[1,1]],x=0;x<b.length;x++){var w=b[x];r.uniformMatrix4fv(p.u_matrix,!1,s.translate([],o,[_*w[0],_*w[1],0])),r.drawArrays(r.LINES,0,y.length)}r.uniform4f(p.u_color,0,0,0,1),r.uniformMatrix4fv(p.u_matrix,!1,o),r.drawArrays(r.LINES,0,y.length)}var i=t("../lib/debugtext"),a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,u=t("../data/extent"),l=t("../data/buffer"),c=t("./vertex_array_object"),f=t("../data/pos_array");e.exports=r},{"../data/buffer":8,"../data/extent":11,"../data/pos_array":14,"../lib/debugtext":23,"../util/browser":110,"./vertex_array_object":39,"@mapbox/gl-matrix":133}],29:[function(t,e,n){"use strict";function r(t,e,n,r){var s=t.gl;s.enable(s.STENCIL_TEST);var u=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"];t.isOpaquePass===u&&(t.setDepthSublayer(1),o(t,e,n,r,i)),!t.isOpaquePass&&n.paint["fill-antialias"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),o(t,e,n,r,a))}function o(t,e,n,r,o){for(var i=!0,a=0,s=r;a<s.length;a+=1){var u=s[a],l=e.getTile(u),c=l.getBucket(n);c&&(t.enableTileClippingMask(u),o(t,e,n,l,u,c.buffers,i),i=!1)}}function i(t,e,n,r,o,i,a){for(var u=t.gl,l=i.layerData[n.id],c=s("fill",n.paint["fill-pattern"],t,l,n,r,o,a),f=0,p=i.segments;f<p.length;f+=1){var h=p[f];h.vaos[n.id].bind(u,c,i.layoutVertexBuffer,i.elementBuffer,l.paintVertexBuffer,h.vertexOffset),u.drawElements(u.TRIANGLES,3*h.primitiveLength,u.UNSIGNED_SHORT,3*h.primitiveOffset*2)}}function a(t,e,n,r,o,i,a){var u=t.gl,l=i.layerData[n.id],c=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),f=s("fillOutline",c,t,l,n,r,o,a);u.uniform2f(f.u_world,u.drawingBufferWidth,u.drawingBufferHeight);for(var p=0,h=i.segments2;p<h.length;p+=1){var d=h[p];d.vaos[n.id].bind(u,f,i.layoutVertexBuffer,i.elementBuffer2,l.paintVertexBuffer,d.vertexOffset),u.drawElements(u.LINES,2*d.primitiveLength,u.UNSIGNED_SHORT,2*d.primitiveOffset*2)}}function s(t,e,n,r,o,i,a,s){var l,c=n.currentProgram;return e?(l=n.useProgram(t+"Pattern",r.programConfiguration),(s||l!==c)&&(r.programConfiguration.setUniforms(n.gl,l,o,{zoom:n.transform.zoom}),u.prepare(o.paint["fill-pattern"],n,l)),u.setTile(i,n,l)):(l=n.useProgram(t,r.programConfiguration),(s||l!==c)&&r.programConfiguration.setUniforms(n.gl,l,o,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(l.u_matrix,!1,n.translatePosMatrix(a.posMatrix,i,o.paint["fill-translate"],o.paint["fill-translate-anchor"])),l}var u=t("./pattern");e.exports=r},{"./pattern":37}],30:[function(t,e,n){"use strict";function r(t,e,n,r){if(0!==n.paint["fill-extrusion-opacity"]){var a=t.gl;a.disable(a.STENCIL_TEST),a.enable(a.DEPTH_TEST),t.depthMask(!0);var s=new o(a,t,n);s.bindFramebuffer(),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);for(var u=0;u<r.length;u++)i(t,e,n,r[u]);s.unbindFramebuffer(),s.renderToMap()}}function o(t,e,n){this.gl=t,this.width=e.width,this.height=e.height,this.painter=e,this.layer=n,this.texture=null,this.fbo=null,this.fbos=this.painter.preFbos[this.width]&&this.painter.preFbos[this.width][this.height]}function i(t,e,n,r){if(!t.isOpaquePass){var o=e.getTile(r),i=o.getBucket(n);if(i){var s=i.buffers,u=t.gl,l=n.paint["fill-extrusion-pattern"],c=s.layerData[n.id],p=c.programConfiguration,h=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",p);p.setUniforms(u,h,n,{zoom:t.transform.zoom}),l&&(f.prepare(l,t,h),f.setTile(o,t,h),u.uniform1f(h.u_height_factor,-Math.pow(2,r.z)/o.tileSize/8)),t.gl.uniformMatrix4fv(h.u_matrix,!1,t.translatePosMatrix(r.posMatrix,o,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),a(h,t);for(var d=0,m=s.segments;d<m.length;d+=1){var y=m[d];y.vaos[n.id].bind(u,h,s.layoutVertexBuffer,s.elementBuffer,c.paintVertexBuffer,y.vertexOffset),u.drawElements(u.TRIANGLES,3*y.primitiveLength,u.UNSIGNED_SHORT,3*y.primitiveOffset*2)}}}}function a(t,e){var n=e.gl,r=e.style.light,o=r.calculated.position,i=[o.x,o.y,o.z],a=p.create();"viewport"===r.calculated.anchor&&p.fromRotation(a,-e.transform.angle),d.transformMat3(i,i,a),n.uniform3fv(t.u_lightpos,i),n.uniform1f(t.u_lightintensity,r.calculated.intensity),n.uniform3fv(t.u_lightcolor,r.calculated.color.slice(0,3))}var s=t("@mapbox/gl-matrix"),u=t("../data/buffer"),l=t("./vertex_array_object"),c=t("../data/pos_array"),f=t("./pattern"),p=s.mat3,h=s.mat4,d=s.vec3;e.exports=r,o.prototype.bindFramebuffer=function(){var t=this.gl;if(this.texture=this.painter.getViewportTexture(this.width,this.height),t.activeTexture(t.TEXTURE1),this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this.texture.width=this.width,this.texture.height=this.height),this.fbos)this.fbo=this.fbos.pop(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0);else{this.fbo=t.createFramebuffer();var e=t.createRenderbuffer(),n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,e),t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,this.width,this.height),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}},o.prototype.unbindFramebuffer=function(){this.painter.bindDefaultFramebuffer(),this.fbos?this.fbos.push(this.fbo):(this.painter.preFbos[this.width]||(this.painter.preFbos[this.width]={}),this.painter.preFbos[this.width][this.height]=[this.fbo]),this.painter.saveViewportTexture(this.texture)},o.prototype.renderToMap=function(){var t=this.gl,e=this.painter,n=e.useProgram("extrusionTexture");t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1f(n.u_opacity,this.layer.paint["fill-extrusion-opacity"]),t.uniform1i(n.u_texture,1),t.uniformMatrix4fv(n.u_matrix,!1,h.ortho(h.create(),0,e.width,e.height,0,0,1)),t.disable(t.DEPTH_TEST),t.uniform1i(n.u_xdim,e.width),t.uniform1i(n.u_ydim,e.height);var r=new c;r.emplaceBack(0,0),r.emplaceBack(e.width,0),r.emplaceBack(0,e.height),r.emplaceBack(e.width,e.height);var o=u.fromStructArray(r,u.BufferType.VERTEX),i=new l;i.bind(t,n,o),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)}},{"../data/buffer":8,"../data/pos_array":14,"./pattern":37,"./vertex_array_object":39,"@mapbox/gl-matrix":133}],31:[function(t,e,n){"use strict";function r(t,e,n,r,a,s,u,l,c){var f,p,h,d,m=e.gl,y=a.paint["line-dasharray"],v=a.paint["line-pattern"];if(l||c){var g=1/i(n,1,e.transform.tileZoom);if(y){f=e.lineAtlas.getDash(y.from,"round"===a.layout["line-cap"]),p=e.lineAtlas.getDash(y.to,"round"===a.layout["line-cap"]);var _=f.width*y.fromScale,b=p.width*y.toScale;m.uniform2f(t.u_patternscale_a,g/_,-f.height/2),m.uniform2f(t.u_patternscale_b,g/b,-p.height/2),m.uniform1f(t.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*o.devicePixelRatio)/2)}else if(v){if(h=e.spriteAtlas.getPosition(v.from,!0),d=e.spriteAtlas.getPosition(v.to,!0),!h||!d)return;m.uniform2f(t.u_pattern_size_a,h.size[0]*v.fromScale/g,d.size[1]),m.uniform2f(t.u_pattern_size_b,d.size[0]*v.toScale/g,d.size[1])}m.uniform2f(t.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(y?(m.uniform1i(t.u_image,0),m.activeTexture(m.TEXTURE0),e.lineAtlas.bind(m),m.uniform1f(t.u_tex_y_a,f.y),m.uniform1f(t.u_tex_y_b,p.y),m.uniform1f(t.u_mix,y.t)):v&&(m.uniform1i(t.u_image,0),m.activeTexture(m.TEXTURE0),e.spriteAtlas.bind(m,!0),m.uniform2fv(t.u_pattern_tl_a,h.tl),m.uniform2fv(t.u_pattern_br_a,h.br),m.uniform2fv(t.u_pattern_tl_b,d.tl),m.uniform2fv(t.u_pattern_br_b,d.br),m.uniform1f(t.u_fade,v.t)),m.uniform1f(t.u_width,a.paint["line-width"])),e.enableTileClippingMask(s);var x=e.translatePosMatrix(s.posMatrix,n,a.paint["line-translate"],a.paint["line-translate-anchor"]);m.uniformMatrix4fv(t.u_matrix,!1,x),m.uniform1f(t.u_ratio,1/i(n,1,e.transform.zoom));for(var w=0,E=r.segments;w<E.length;w+=1){var S=E[w];S.vaos[a.id].bind(m,t,r.layoutVertexBuffer,r.elementBuffer,u.paintVertexBuffer,S.vertexOffset),m.drawElements(m.TRIANGLES,3*S.primitiveLength,m.UNSIGNED_SHORT,3*S.primitiveOffset*2)}}var o=t("../util/browser"),i=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,o){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var i=t.gl;if(i.enable(i.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var a,s=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",u=!0,l=0,c=o;l<c.length;l+=1){var f=c[l],p=e.getTile(f),h=p.getBucket(n);if(h){var d=h.buffers.layerData[n.id],m=t.currentProgram,y=t.useProgram(s,d.programConfiguration),v=u||y!==m,g=a!==p.coord.z;v&&d.programConfiguration.setUniforms(t.gl,y,n,{zoom:t.transform.zoom}),r(y,t,p,h.buffers,n,f,d,v,g),a=p.coord.z,u=!1}}}}},{"../source/pixels_to_tile_units":46,"../util/browser":110}],32:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var i=t.gl;i.enable(i.DEPTH_TEST),t.depthMask(!0),i.depthFunc(i.LESS);for(var a=r.length&&r[0].z,s=0;s<r.length;s++){var u=r[s];t.setDepthSublayer(u.z-a),o(t,e,n,u)}i.depthFunc(i.LEQUAL)}}function o(t,e,n,r){var o=t.gl;o.disable(o.STENCIL_TEST);var l=e.getTile(r),c=t.transform.calculatePosMatrix(r,e.getSource().maxzoom);l.registerFadeDuration(t.style.animationLoop,n.paint["raster-fade-duration"]);var f=t.useProgram("raster");o.uniformMatrix4fv(f.u_matrix,!1,c),o.uniform1f(f.u_brightness_low,n.paint["raster-brightness-min"]),o.uniform1f(f.u_brightness_high,n.paint["raster-brightness-max"]),o.uniform1f(f.u_saturation_factor,s(n.paint["raster-saturation"])),o.uniform1f(f.u_contrast_factor,a(n.paint["raster-contrast"])),o.uniform3fv(f.u_spin_weights,i(n.paint["raster-hue-rotate"]));var p,h,d=l.sourceCache&&l.sourceCache.findLoadedParent(r,0,{}),m=u(l,d,n,t.transform);o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,l.texture),o.activeTexture(o.TEXTURE1),d?(o.bindTexture(o.TEXTURE_2D,d.texture),p=Math.pow(2,d.coord.z-l.coord.z),h=[l.coord.x*p%1,l.coord.y*p%1]):o.bindTexture(o.TEXTURE_2D,l.texture),o.uniform2fv(f.u_tl_parent,h||[0,0]),o.uniform1f(f.u_scale_parent,p||1),o.uniform1f(f.u_buffer_scale,1),o.uniform1f(f.u_fade_t,m.mix),o.uniform1f(f.u_opacity,m.opacity*n.paint["raster-opacity"]),o.uniform1i(f.u_image0,0),o.uniform1i(f.u_image1,1);var y=l.boundsBuffer||t.rasterBoundsBuffer,v=l.boundsVAO||t.rasterBoundsVAO;v.bind(o,f,y),o.drawArrays(o.TRIANGLE_STRIP,0,y.length)}function i(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function u(t,e,n,r){var o=n.paint["raster-fade-duration"];if(t.sourceCache&&o>0){var i=Date.now(),a=(i-t.timeAdded)/o,s=e?(i-e.timeAdded)/o:-1,u=t.sourceCache.getSource(),c=r.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),f=!e||Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c),p=l.clamp(f?a:1-s,0,1);return e?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}var l=t("../util/util");e.exports=r},{"../util/util":129}],33:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var i=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=t.gl;i?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),o(t,e,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"],n.layout["icon-size"],n.paint["icon-halo-width"],n.paint["icon-halo-color"],n.paint["icon-halo-blur"],n.paint["icon-opacity"],n.paint["icon-color"]),o(t,e,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-size"],n.paint["text-halo-width"],n.paint["text-halo-color"],n.paint["text-halo-blur"],n.paint["text-opacity"],n.paint["text-color"]),e.map.showCollisionBoxes&&l(t,e,n,r)}}function o(t,e,n,r,o,s,u,l,c,f,p,h,d,m,y){if(o||!t.style.sprite||t.style.sprite.loaded()){var v=t.gl,g="map"===l,_="map"===c,b=_;b?v.enable(v.DEPTH_TEST):v.disable(v.DEPTH_TEST);for(var x,w,E=0,S=r;E<S.length;E+=1){var M=S[E],T=e.getTile(M),C=T.getBucket(n);if(C){var k=o?C.buffers.glyph:C.buffers.icon;if(k&&k.segments.length){var P=o||C.sdfIcons;x&&C.fontstack===w||(x=t.useProgram(P?"symbolSDF":"symbolIcon"),i(x,t,o,P,g,_,C.fontstack,f,C.iconsNeedLinear,o?C.adjustedTextSize:C.adjustedIconSize,m)),t.enableTileClippingMask(M),v.uniformMatrix4fv(x.u_matrix,!1,t.translatePosMatrix(M.posMatrix,T,s,u)),a(x,t,n,T,k,o,P,_,f,p,h,d,y),w=C.fontstack}}}b||v.enable(v.DEPTH_TEST)}}function i(t,e,n,r,o,i,a,s,l,c,f){var p=e.gl,h=e.transform;if(p.uniform1i(t.u_rotate_with_map,o),p.uniform1i(t.u_pitch_with_map,i),p.activeTexture(p.TEXTURE0),p.uniform1i(t.u_texture,0),n){var d=a&&e.glyphSource.getGlyphAtlas(a);if(!d)return;d.updateTexture(p),p.uniform2f(t.u_texsize,d.width/4,d.height/4)}else{var m=e.options.rotating||e.options.zooming,y=1!==s||u.devicePixelRatio!==e.spriteAtlas.pixelRatio||l,v=i||h.pitch;e.spriteAtlas.bind(p,r||m||y||v),p.uniform2f(t.u_texsize,e.spriteAtlas.width/4,e.spriteAtlas.height/4)}p.activeTexture(p.TEXTURE1),e.frameHistory.bind(p),p.uniform1i(t.u_fadetexture,1);var g=Math.log(s/c)/Math.LN2||0;p.uniform1f(t.u_zoom,10*(h.zoom-g)),p.uniform1f(t.u_pitch,h.pitch/360*2*Math.PI),p.uniform1f(t.u_bearing,h.bearing/360*2*Math.PI),p.uniform1f(t.u_aspect_ratio,h.width/h.height),p.uniform1f(t.u_opacity,f)}function a(t,e,n,r,o,i,a,u,l,m,y,v,g){var _=e.gl,b=e.transform,x=l/(i?24:1);if(u){var w=c(r,x,b.zoom);_.uniform2f(t.u_extrude_scale,w,w)}else{var E=b.cameraToCenterDistance*x;_.uniform2f(t.u_extrude_scale,b.pixelsToGLUnits[0]*E,b.pixelsToGLUnits[1]*E)}if(a){var S=x*(u?Math.cos(b._pitch):1)*b.cameraToCenterDistance;m&&(_.uniform1f(t.u_gamma,(v*p/f+d)/S),_.uniform4fv(t.u_color,y),_.uniform1f(t.u_buffer,(h-m/x)/f),s(o,n,_,t)),_.uniform1f(t.u_gamma,d/S),_.uniform4fv(t.u_color,g),_.uniform1f(t.u_buffer,.75)}s(o,n,_,t)}function s(t,e,n,r){for(var o=0,i=t.segments;o<i.length;o+=1){var a=i[o];a.vaos[e.id].bind(n,r,t.layoutVertexBuffer,t.elementBuffer,null,a.vertexOffset),n.drawElements(n.TRIANGLES,3*a.primitiveLength,n.UNSIGNED_SHORT,3*a.primitiveOffset*2)}}var u=t("../util/browser"),l=t("./draw_collision_debug"),c=t("../source/pixels_to_tile_units");e.exports=r;var f=8,p=1.19,h=6,d=.105/u.devicePixelRatio},{"../source/pixels_to_tile_units":46,"../util/browser":110,"./draw_collision_debug":27}],34:[function(t,e,n){"use strict";var r=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};r.prototype.record=function(t,e,n){var r=this;this.firstFrame&&(t=0,this.firstFrame=!1),e=Math.floor(10*e);var o;if(e<this.previousZoom)for(o=e+1;o<=this.previousZoom;o++)r.changeTimes[o]=t,r.changeOpacities[o]=r.opacities[o];else for(o=e;o>this.previousZoom;o--)r.changeTimes[o]=t,r.changeOpacities[o]=r.opacities[o];for(o=0;o<256;o++){var i=t-r.changeTimes[o],a=255*(n?i/n:1);o<=e?r.opacities[o]=r.changeOpacities[o]+a:r.opacities[o]=r.changeOpacities[o]-a}this.changed=!0,this.previousZoom=e},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))},e.exports=r},{}],35:[function(t,e,n){"use strict";var r=t("../util/util"),o=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};o.prototype.setSprite=function(t){this.sprite=t},o.prototype.getDash=function(t,e){var n=t.join(",")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},o.prototype.addDash=function(t,e){var n=this,o=e?7:0,i=2*o+1,a=128;if(this.nextRow+i>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var s=0,u=0;u<t.length;u++)s+=t[u];for(var l=this.width/s,c=l/2,f=t.length%2===1,p=-o;p<=o;p++)for(var h=n.nextRow+o+p,d=n.width*h,m=f?-t[t.length-1]:0,y=t[0],v=1,g=0;g<this.width;g++){for(;y<g/l;)m=y,y+=t[v],f&&v===t.length-1&&(y+=t[0]),v++;var _,b=Math.abs(g-m*l),x=Math.abs(g-y*l),w=Math.min(b,x),E=v%2===1;if(e){var S=o?p/o*(c+1):0;if(E){var M=c-Math.abs(S);_=Math.sqrt(w*w+M*M)}else _=c-Math.sqrt(w*w+S*S)}else _=(E?1:-1)*w;n.data[3+4*(d+g)]=Math.max(0,Math.min(255,_+a))}var T={y:(this.nextRow+o+.5)/this.height,height:2*o/this.height,width:s};return this.nextRow+=i,this.dirty=!0,T},o.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=o},{"../util/util":129}],36:[function(t,e,n){"use strict";var r=t("../util/browser"),o=t("@mapbox/gl-matrix").mat4,i=t("./frame_history"),a=t("../source/source_cache"),s=t("../data/extent"),u=t("../source/pixels_to_tile_units"),l=t("../util/util"),c=t("../data/buffer"),f=t("./vertex_array_object"),p=t("../data/raster_bounds_array"),h=t("../data/pos_array"),d=t("../data/program_configuration"),m=t("./shaders"),y={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},v=function(t,e){this.gl=t,this.transform=e,this.reusableTextures={tiles:{},viewport:null},this.preFbos={},this.frameHistory=new i,this.setup(),this.numSublayers=a.maxUnderzooming+a.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=d.createStatic(["color","opacity"]),this.emptyProgramConfiguration=new d};v.prototype.resize=function(t,e){var n=this.gl;this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,n.viewport(0,0,this.width,this.height)},v.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new h;e.emplaceBack(0,0),e.emplaceBack(s,0),e.emplaceBack(0,s),e.emplaceBack(s,s),this.tileExtentBuffer=c.fromStructArray(e,c.BufferType.VERTEX),this.tileExtentVAO=new f,this.tileExtentPatternVAO=new f;var n=new h;n.emplaceBack(0,0),n.emplaceBack(s,0),n.emplaceBack(s,s),n.emplaceBack(0,s),n.emplaceBack(0,0),this.debugBuffer=c.fromStructArray(n,c.BufferType.VERTEX),this.debugVAO=new f;var r=new p;r.emplaceBack(0,0,0,0),r.emplaceBack(s,0,32767,0),r.emplaceBack(0,s,0,32767),r.emplaceBack(s,s,32767,32767),this.rasterBoundsBuffer=c.fromStructArray(r,c.BufferType.VERTEX),this.rasterBoundsVAO=new f},v.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},v.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},v.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},v.prototype._renderTileClippingMasks=function(t){var e=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(248),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var o=0,i=t;o<i.length;o+=1){var a=i[o],s=e._tileClippingMaskIDs[a.id]=r++<<3;n.stencilFunc(n.ALWAYS,s,248);var u=e.useProgram("fill",e.basicFillProgramConfiguration);n.uniformMatrix4fv(u.u_matrix,!1,a.posMatrix),e.tileExtentVAO.bind(n,u,e.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},v.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},v.prototype.prepareBuffers=function(){},v.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},v.prototype.render=function(t,e){if(this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,t.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var n=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];n&&y.debug(this,n,n.getVisibleCoordinates())}},v.prototype.renderPass=function(){var t,e,n=this,r=this.style._order;this.currentLayer=this.isOpaquePass?r.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var o=0;o<r.length;o++){var i=n.style._layers[r[n.currentLayer]];i.source!==(t&&t.id)&&(t=n.style.sourceCaches[i.source],e=[],t&&(t.prepare&&t.prepare(),n.clearStencil(),e=t.getVisibleCoordinates(),t.getSource().isTileClipped&&n._renderTileClippingMasks(e)),n.isOpaquePass||e.reverse()),n.renderLayer(n,t,i,e),n.currentLayer+=n.isOpaquePass?-1:1}},v.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},v.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,y[n.type](t,e,n,r))},v.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},v.prototype.translatePosMatrix=function(t,e,n,r){if(!n[0]&&!n[1])return t;if("viewport"===r){var i=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);n=[n[0]*a-n[1]*i,n[0]*i+n[1]*a]}var s=[u(e,n[0],this.transform.zoom),u(e,n[1],this.transform.zoom),0],l=new Float32Array(16);return o.translate(l,t,s),l},v.prototype.saveTileTexture=function(t){var e=this.reusableTextures.tiles[t.size];e?e.push(t):this.reusableTextures.tiles[t.size]=[t]},v.prototype.saveViewportTexture=function(t){this.reusableTextures.viewport=t},v.prototype.getTileTexture=function(t){var e=this.reusableTextures.tiles[t];return e&&e.length>0?e.pop():null},v.prototype.getViewportTexture=function(t,e){var n=this.reusableTextures.viewport;if(n)return n.width===t&&n.height===e?n:(this.gl.deleteTexture(n),void(this.reusableTextures.viewport=null))},v.prototype.lineWidth=function(t){this.gl.lineWidth(l.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},v.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);var n=8,r=1/n;e.blendColor(r,r,r,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},v.prototype.createProgram=function(t,e){var n=this.gl,o=n.createProgram(),i=m[t],a="#define MAPBOX_GL_JS\n#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1)+"\n";this._showOverdrawInspector&&(a+="#define OVERDRAW_INSPECTOR;\n");var s=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(s,e.applyPragmas(a+m.prelude.fragmentSource+i.fragmentSource,"fragment")),n.compileShader(s),n.attachShader(o,s);var u=n.createShader(n.VERTEX_SHADER);n.shaderSource(u,e.applyPragmas(a+m.prelude.vertexSource+i.vertexSource,"vertex")),n.compileShader(u),n.attachShader(o,u),n.linkProgram(o);for(var l=n.getProgramParameter(o,n.ACTIVE_ATTRIBUTES),c={program:o,numAttributes:l},f=0;f<l;f++){var p=n.getActiveAttrib(o,f);c[p.name]=n.getAttribLocation(o,p.name)}for(var h=n.getProgramParameter(o,n.ACTIVE_UNIFORMS),d=0;d<h;d++){var y=n.getActiveUniform(o,d);c[y.name]=n.getUniformLocation(o,y.name)}return c},v.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=this.createProgram(t,e)),this.cache[n]},v.prototype.useProgram=function(t,e){var n=this.gl,r=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},e.exports=v},{"../data/buffer":8,"../data/extent":11,"../data/pos_array":14,"../data/program_configuration":15,"../data/raster_bounds_array":16,"../source/pixels_to_tile_units":46,"../source/source_cache":51,"../util/browser":110,"../util/util":129,"./draw_background":25,"./draw_circle":26,"./draw_debug":28,"./draw_fill":29,"./draw_fill_extrusion":30,"./draw_line":31,"./draw_raster":32,"./draw_symbol":33,"./frame_history":34,"./shaders":38,"./vertex_array_object":39,"@mapbox/gl-matrix":133}],37:[function(t,e,n){"use strict";var r=t("../source/pixels_to_tile_units");n.prepare=function(t,e,n){var r=e.gl,o=e.spriteAtlas.getPosition(t.from,!0),i=e.spriteAtlas.getPosition(t.to,!0);o&&i&&(r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,o.tl),r.uniform2fv(n.u_pattern_br_a,o.br),r.uniform2fv(n.u_pattern_tl_b,i.tl),r.uniform2fv(n.u_pattern_br_b,i.br),r.uniform1f(n.u_mix,t.t),r.uniform2fv(n.u_pattern_size_a,o.size),r.uniform2fv(n.u_pattern_size_b,i.size),r.uniform1f(n.u_scale_a,t.fromScale),r.uniform1f(n.u_scale_b,t.toScale),r.activeTexture(r.TEXTURE0),e.spriteAtlas.bind(r,!0))},n.setTile=function(t,e,n){var o=e.gl;o.uniform1f(n.u_tile_units_to_pixels,1/r(t,1,e.transform.tileZoom));var i=Math.pow(2,t.coord.z),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,s=a*(t.coord.x+t.coord.w*i),u=a*t.coord.y;o.uniform2f(n.u_pixel_coord_upper,s>>16,u>>16),o.uniform2f(n.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":46}],38:[function(t,e,n){"use strict";t("path");e.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    float extrude_length = length(v_extrude);\n    float antialiased_blur = -max(blur, v_antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * (radius + stroke_width) * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n}\n"
},collisionBox:{fragmentSource:"uniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"},debug:{fragmentSource:"uniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize lowp vec4 color\n\n    gl_FragColor = v_color;\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\nuniform lowp vec4 u_outline_color;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize lowp vec4 color\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n#ifdef OUTLINE\n    color = u_outline_color;\n#endif\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_texture;\nuniform float u_opacity;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_pos) * u_opacity;\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform int u_xdim;\nuniform int u_ydim;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos.x = a_pos.x / float(u_xdim);\n    v_pos.y = 1.0 - a_pos.y / float(u_ydim);\n}\n"},line:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_width;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset;\n \n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},symbolSDF:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = gl_Position.w;\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"
}}},{path:194}],39:[function(t,e,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};r.prototype.bind=function(t,e,n,r,o,i){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var a=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==o||this.boundElementBuffer!==r||this.boundVertexOffset!==i;!t.extVertexArrayObject||a?(this.freshBind(t,e,n,r,o,i),this.gl=t):t.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(t,e,n,r,o,i){var a,s=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=o,this.boundElementBuffer=r,this.boundVertexOffset=i;else{a=t.currentNumAttributes||0;for(var u=s;u<a;u++)t.disableVertexAttribArray(u)}for(var l=a;l<s;l++)t.enableVertexAttribArray(l);n.bind(t),n.setVertexAttribPointers(t,e,i),o&&(o.bind(t),o.setVertexAttribPointers(t,e,i)),r&&r.bind(t),t.currentNumAttributes=s},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=r},{}],40:[function(t,e,n){"use strict";var r=t("./image_source"),o=t("../util/window"),i=function(t){function e(e,n,r,o){t.call(this,e,n,r,o),this.options=n,this.animate=!n.hasOwnProperty("animate")||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||o.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions(this.canvas))return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var t;this.play=function(){t=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(t)},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.canvas&&(this.animate&&this.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||this.tile&&this._prepareImage(this.map.painter.gl,this.canvas,t)},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},e}(r);e.exports=i},{"../util/window":112,"./image_source":44}],41:[function(t,e,n){"use strict";function r(t){var e=a.document.createElement("a");return e.href=t,e.href}var o=t("../util/evented"),i=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),u=function(t){function e(e,n,r,o){t.call(this),n=n||{},this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(o),this._data=n.data,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(n.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?void t.fire("error",{error:e}):(t.fire("data",{dataType:"source"}),void t.fire("source.load"))})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){return t?e.fire("error",{error:t}):void e.fire("data",{dataType:"source"})}),this},e.prototype._updateWorkerData=function(t){var e=this,n=i.extend({},this.workerOptions),o=this._data;"string"==typeof o?n.url=r(o):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){e._loaded=!0,t(n)})},e.prototype.loadTile=function(t,e){var n=this,r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,o={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send("loadTile",o,function(r,o){if(t.unloadVectorData(),!t.aborted)return r?e(r):(t.loadVectorData(o,n.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(n)),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},e.prototype.serialize=function(){return{type:this.type,data:this._data}},e}(o);e.exports=u},{"../data/extent":11,"../util/evented":118,"../util/util":129,"../util/window":112}],42:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("geojson-rewind"),i=t("./geojson_wrapper"),a=t("vt-pbf"),s=t("supercluster"),u=t("geojson-vt"),l=t("./vector_tile_worker_source"),c=function(t){function e(e,n,r){t.call(this,e,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadVectorData=function(t,e){var n=t.source,r=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var o=this._geoJSONIndexes[n].getTile(Math.min(r.z,t.maxZoom),r.x,r.y);if(!o)return e(null,null);var s=new i(o.features);s.name="_geojsonTileLayer";var u=a({layers:{_geojsonTileLayer:s}});0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),s.rawData=u.buffer,e(null,s)},e.prototype.loadData=function(t,e){var n=function(n,r){var i=this;return n?e(n):"object"!=typeof r?e(new Error("Input data is not a valid GeoJSON object.")):(o(r,!0),void this._indexData(r,t,function(n,r){return n?e(n):(i._geoJSONIndexes[t.source]=r,void e(null))}))}.bind(this);this.loadGeoJSON(t,n)},e.prototype.loadGeoJSON=function(t,e){if(t.url)r.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source]},e.prototype._indexData=function(t,e,n){try{e.cluster?n(null,s(e.superclusterOptions).load(t.features)):n(null,u(t,e.geojsonVtOptions))}catch(t){return n(t)}},e}(l);e.exports=c},{"../util/ajax":109,"./geojson_wrapper":43,"./vector_tile_worker_source":55,"geojson-rewind":140,"geojson-vt":144,supercluster:201,"vt-pbf":210}],43:[function(t,e,n){"use strict";var r=t("point-geometry"),o=t("vector-tile").VectorTileFeature,i=t("../data/extent"),a=function(t){var e=this;if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var n=0;n<t.geometry.length;n++)e.rawGeometry.push([t.geometry[n]])}else this.rawGeometry=t.geometry;this.properties=t.tags,this.extent=i};a.prototype.loadGeometry=function(){var t=this,e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var o=e[n],i=[],a=0;a<o.length;a++)i.push(new r(o[a][0],o[a][1]));t.geometry.push(i)}return this.geometry},a.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,o=-(1/0),i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),o=Math.max(o,u.y)}return[e,r,n,o]},a.prototype.toGeoJSON=function(){o.prototype.toGeoJSON.call(this)};var s=function(t){this.features=t,this.length=t.length,this.extent=i};s.prototype.feature=function(t){return new a(this.features[t])},e.exports=s},{"../data/extent":11,"point-geometry":197,"vector-tile":206}],44:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/window"),i=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax"),c=t("../data/extent"),f=t("../data/raster_bounds_array"),p=t("../data/buffer"),h=t("../render/vertex_array_object"),d=function(t){function e(e,n,r,o){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.setEventedParent(o),this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,l.getImage(this.options.url,function(e,n){return e?t.fire("error",{error:e}):(t.image=n,void t._finishLoading())})},e.prototype._finishLoading=function(){this.fire("source.load"),this.map&&this.setCoordinates(this.coordinates)},e.prototype.onAdd=function(t){this.load(),this.map=t,this.image&&this.setCoordinates(this.coordinates)},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),o=this.centerCoord=r.getCoordinatesCenter(n);return o.column=Math.round(o.column),o.row=Math.round(o.row),this.minzoom=this.maxzoom=o.zoom,this.coord=new i(o.zoom,o.column,o.row),this._tileCoords=n.map(function(t){var e=t.zoomTo(o.zoom);return new s(Math.round((e.column-o.column)*c),Math.round((e.row-o.row)*c))}),this.fire("data",{dataType:"source"}),this},e.prototype._setTile=function(t){this.tile=t;var e=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=p.fromStructArray(n,p.BufferType.VERTEX),this.tile.boundsVAO=new h},e.prototype.prepare=function(){this.tile&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,n){"loaded"!==this.tile.state?(this.tile.state="loaded",this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)):n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):(e instanceof o.HTMLVideoElement||e instanceof o.ImageData||e instanceof o.HTMLCanvasElement)&&(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e))},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},e}(u);e.exports=d},{"../data/buffer":8,"../data/extent":11,"../data/raster_bounds_array":16,"../geo/lng_lat":19,"../render/vertex_array_object":39,"../util/ajax":109,"../util/evented":118,"../util/util":129,"../util/window":112,"./tile_coord":53,"point-geometry":197}],45:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/ajax"),i=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var n=function(t,n){if(t)return e(t);var o=r.pick(n,["tiles","minzoom","maxzoom","attribution"]);n.vector_layers&&(o.vectorLayers=n.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),e(null,o)};t.url?o.getJSON(a(t.url),n):i.frame(n.bind(null,null,t))}},{"../util/ajax":109,"../util/browser":110,"../util/mapbox":125,"../util/util":129}],46:[function(t,e,n){"use strict";var r=t("../data/extent");e.exports=function(t,e,n){return e*(r/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/extent":11}],47:[function(t,e,n){"use strict";function r(t,e){var n=t.coord,r=e.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function o(t){for(var e=t[0]||{},n=1;n<t.length;n++){var r=t[n];for(var o in r){var i=r[o],a=e[o];if(void 0===a)a=e[o]=i;else for(var s=0;s<i.length;s++)a.push(i[s])}}return e}var i=t("./tile_coord");n.rendered=function(t,e,n,i,a,s){var u=t.tilesIn(n);u.sort(r);for(var l=[],c=0;c<u.length;c++){var f=u[c];f.tile.featureIndex&&l.push(f.tile.featureIndex.query({queryGeometry:f.queryGeometry,scale:f.scale,tileSize:f.tile.tileSize,bearing:s,params:i},e))}return o(l)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],o={},a=0;a<n.length;a++){var s=n[a],u=new i(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;o[u]||(o[u]=!0,s.querySourceFeatures(r,e))}return r}},{"./tile_coord":53}],48:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/ajax"),i=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,u=function(t){function e(e,n,o,i){t.call(this),this.id=e,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this.options=n,r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this.options,function(e,n){return e?t.fire("error",e):(r.extend(t,n),t.fire("data",{dataType:"source"}),void t.fire("source.load"))})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.serialize=function(){return{type:"raster",url:this.url,tileSize:this.tileSize,tiles:this.tiles}},e.prototype.loadTile=function(t,e){function n(n,r){if(delete t.request,t.aborted)return this.state="unloaded",e(null);if(n)return this.state="errored",e(n);t.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=this.map.painter.gl;t.texture=this.map.painter.getTileTexture(r.width),t.texture?(o.bindTexture(o.TEXTURE_2D,t.texture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,r)):(t.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,t.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r),t.texture.size=r.width),o.generateMipmap(o.TEXTURE_2D),t.state="loaded",e(null)}var r=s(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=o.getImage(r,n.bind(this))},e.prototype.abortTile=function(t){t.request&&(t.request.abort(),delete t.request)},e.prototype.unloadTile=function(t){t.texture&&this.map.painter.saveTileTexture(t.texture)},e}(i);e.exports=u},{"../util/ajax":109,"../util/evented":118,"../util/mapbox":125,"../util/util":129,"./load_tilejson":45}],49:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("../util/window"),i=[],a=!1,s=null;e.exports.registerForPluginAvailability=function(t){s?t(s):i.push(t)},e.exports.errorCallback=null,e.exports.setRTLTextPlugin=function(t,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=n,r.getArrayBuffer(t,function(t,e){if(t)n(t);else{s=o.URL.createObjectURL(new o.Blob([e.data]),{type:"text/javascript"});for(var r=0,a=i;r<a.length;r+=1){var u=a[r];u(s)}}})}},{"../util/ajax":109,"../util/window":112}],50:[function(t,e,n){"use strict";var r=t("../util/util"),o={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,i){if(e=new o[e.type](t,e,n,i),e.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+e.id);return r.bindAll(["load","abort","unload","serialize","prepare"],e),e},n.getType=function(t){return o[t]},n.setType=function(t,e){o[t]=e}},{"../source/canvas_source":40,"../source/geojson_source":41,"../source/image_source":44,"../source/raster_tile_source":48,"../source/vector_tile_source":54,"../source/video_source":56,"../util/util":129}],51:[function(t,e,n){"use strict";function r(t,e,n){var r=n.zoomTo(Math.min(t.z,e));return{x:(r.column-(t.x+t.w*Math.pow(2,t.z)))*h,y:(r.row-t.y)*h}}function o(t,e){return t%32-e%32}function i(t){return"raster"===t||"image"===t||"video"===t}var a=t("./source"),s=t("./tile"),u=t("../util/evented"),l=t("./tile_coord"),c=t("../util/lru_cache"),f=t("../geo/coordinate"),p=t("../util/util"),h=t("../data/extent"),d=function(t){function e(e,n,r){t.call(this),this.id=e,this.dispatcher=r,this.on("source.load",function(){this._sourceLoaded=!0}),this.on("error",function(){this._sourceErrored=!0}),this.on("data",function(t){this._sourceLoaded&&"source"===t.dataType&&(this.reload(),this.transform&&this.update(this.transform))}),this._source=a.create(e,n,r,this),this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._isIdRenderable=this._isIdRenderable.bind(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype.unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},e.prototype.abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t)},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},e.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(o)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype._isIdRenderable=function(t){return this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;this._cache.reset();for(var e in this._tiles)t.reloadTile(e,"reloading")},e.prototype.reloadTile=function(t,e){var n=this._tiles[t];"loading"!==n.state&&(n.state=e),this.loadTile(n,this._tileLoaded.bind(this,n,t))},e.prototype._tileLoaded=function(t,e,n){return n?(t.state="errored",void this._source.fire("error",{tile:t,error:n})):(t.sourceCache=this,t.timeAdded=(new Date).getTime(),this._setTileReloadTimer(e,t),this._source.fire("data",{tile:t,coord:t.coord,dataType:"tile"}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},e.prototype.getTile=function(t){return this.getTileByID(t.id)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype.findLoadedChildren=function(t,e,n){var r=this,o=!1;for(var i in this._tiles){var a=r._tiles[i];if(!(n[i]||!a.hasData()||a.coord.z<=t.z||a.coord.z>e)){var s=Math.pow(2,Math.min(a.coord.z,r._source.maxzoom)-Math.min(t.z,r._source.maxzoom));if(Math.floor(a.coord.x/s)===t.x&&Math.floor(a.coord.y/s)===t.y)for(n[i]=!0,o=!0;a&&a.coord.z-1>t.z;){var u=a.coord.parent(r._source.maxzoom).id;a=r._tiles[u],a&&a.hasData()&&(delete n[i],n[u]=!0)}}}return o},e.prototype.findLoadedParent=function(t,e,n){for(var r=this,o=t.z-1;o>=e;o--){t=t.parent(r._source.maxzoom);var i=r._tiles[t.id];if(i&&i.hasData())return n[t.id]=!0,i;if(r._cache.has(t.id))return n[t.id]=!0,r._cache.get(t.id)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/t.tileSize)+1,n=Math.ceil(t.height/t.tileSize)+1,r=e*n,o=5;this._cache.setMaxSize(Math.floor(r*o))},e.prototype.update=function(t){var n=this;if(this._sourceLoaded){var r,o,a,s;this.updateCacheSize(t);var u=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),c=Math.max(u-e.maxOverzooming,this._source.minzoom),f=Math.max(u+e.maxUnderzooming,this._source.minzoom),h={};this._coveredTiles={};var d;for(d=this.used?this._source.coord?[this._source.coord]:t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}):[],r=0;r<d.length;r++)o=d[r],a=n.addTile(o),h[o.id]=!0,a.hasData()||n.findLoadedChildren(o,f,h)||(s=n.findLoadedParent(o,c,h),s&&n.addTile(s.coord));var m={};if(i(this._source.type))for(var y=Object.keys(h),v=0;v<y.length;v++){var g=y[v];o=l.fromID(g),a=n._tiles[g],a&&("undefined"==typeof a.fadeEndTime||a.fadeEndTime>=Date.now())&&(n.findLoadedChildren(o,f,h)&&(h[g]=!0),s=n.findLoadedParent(o,c,m),s&&n.addTile(s.coord))}var _;for(_ in m)h[_]||(n._coveredTiles[_]=!0);for(_ in m)h[_]=!0;var b=p.keysDifference(this._tiles,h);for(r=0;r<b.length;r++)n.removeTile(+b[r]);this.transform=t}},e.prototype.addTile=function(t){var e=this._tiles[t.id];if(e)return e;var n=t.wrapped();if(e=this._tiles[n.id],e||(e=this._cache.get(n.id),e&&(e.redoPlacement(this._source),this._cacheTimers[n.id]&&(clearTimeout(this._cacheTimers[n.id]),this._cacheTimers[n.id]=void 0,this._setTileReloadTimer(n.id,e)))),!e){var r=t.z,o=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;e=new s(n,this._source.tileSize*o,this._source.maxzoom),this.loadTile(e,this._tileLoaded.bind(this,e,t.id))}return e.uses++,this._tiles[t.id]=e,this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"tile"}),e},e.prototype._setTileReloadTimer=function(t,e){var n=this,r=e.getExpiry();r&&(this._timers[t]=setTimeout(function(){n.reloadTile(t,"expired"),n._timers[t]=void 0},r-(new Date).getTime()))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this,r=e.getExpiry();r&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),n._cacheTimers[t]=void 0},r-(new Date).getTime()))},e.prototype.removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),this._timers[t]=void 0),this._source.fire("data",{tile:e,coord:e.coord,dataType:"tile"}),!(e.uses>0)))if(e.hasData()){var n=e.coord.wrapped().id;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this.abortTile(e),this.unloadTile(e)},e.prototype.clearTiles=function(){var t=this;for(var e in this._tiles)t.removeTile(e);this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n={},o=this.getIds(),i=1/0,a=1/0,s=-(1/0),u=-(1/0),c=t[0].zoom,p=0;p<t.length;p++){var d=t[p];i=Math.min(i,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),u=Math.max(u,d.row)}for(var m=0;m<o.length;m++){var y=e._tiles[o[m]],v=l.fromID(o[m]),g=[r(v,y.sourceMaxZoom,new f(i,a,c)),r(v,y.sourceMaxZoom,new f(s,u,c))];if(g[0].x<h&&g[0].y<h&&g[1].x>=0&&g[1].y>=0){for(var _=[],b=0;b<t.length;b++)_.push(r(v,y.sourceMaxZoom,t[b]));var x=n[y.coord.id];void 0===x&&(x=n[y.coord.id]={tile:y,coord:v,queryGeometry:[],scale:Math.pow(2,e.transform.zoom-y.coord.z)}),x.queryGeometry.push(_)}}var w=[];for(var E in n)w.push(n[E]);return w},e.prototype.redoPlacement=function(){for(var t=this,e=this.getIds(),n=0;n<e.length;n++){var r=t.getTileByID(e[n]);r.redoPlacement(t._source)}},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(l.fromID),n=0,r=e;n<r.length;n+=1){var o=r[n];o.posMatrix=t.transform.calculatePosMatrix(o,t._source.maxzoom)}return e},e}(u);d.maxOverzooming=10,d.maxUnderzooming=3,e.exports=d},{"../data/extent":11,"../geo/coordinate":18,"../util/evented":118,"../util/lru_cache":124,"../util/util":129,"./source":50,"./tile":52,"./tile_coord":53}],52:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../data/bucket"),i=t("../data/feature_index"),a=t("vector-tile"),s=t("pbf"),u=t("../util/vectortile_to_geojson"),l=t("feature-filter"),c=t("../symbol/collision_tile"),f=t("../symbol/collision_box"),p=t("../symbol/symbol_instances"),h=t("../symbol/symbol_quads"),d=function(t,e,n){this.coord=t,this.uid=r.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.expires=null,this.cacheControl=null,this.state="loading"};d.prototype.registerFadeDuration=function(t,e){var n=e+this.timeAdded;n<Date.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n,t.set(this.fadeEndTime-Date.now()))},d.prototype.loadVectorData=function(t,e){this.hasData()&&this.unloadVectorData(e),this.state="loaded",t&&(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new f(t.collisionBoxArray),this.collisionTile=new c(t.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new p(t.symbolInstancesArray),this.symbolQuadsArray=new h(t.symbolQuadsArray),this.featureIndex=new i(t.featureIndex,this.rawTileData,this.collisionTile),this.buckets=o.deserialize(t.buckets,e.style))},d.prototype.reloadSymbolData=function(t,e){var n=this;if("unloaded"!==this.state){this.collisionTile=new c(t.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var i in this.buckets){var a=n.buckets[i];"symbol"===a.layers[0].type&&(a.destroy(),delete n.buckets[i])}r.extend(this.buckets,o.deserialize(t.buckets,e))}},d.prototype.unloadVectorData=function(){var t=this;for(var e in this.buckets)t.buckets[e].destroy();this.buckets={},this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},d.prototype.redoPlacement=function(t){var e=this;if("vector"===t.type||"geojson"===t.type)return"loaded"!==this.state?void(this.redoWhenDone=!0):void(this.collisionTile&&(this.state="reloading",t.dispatcher.send("redoPlacement",{type:t.type,uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,showCollisionBoxes:t.map.showCollisionBoxes},function(n,r){e.reloadSymbolData(r,t.map.style),t.fire("data",{tile:e,coord:e.coord,dataType:"tile"}),t.map&&(t.map.painter.tileExtentVAO.vao=null),e.state="loaded",e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(t))},this.workerID)))},d.prototype.getBucket=function(t){return this.buckets[t.id]},d.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new a.VectorTile(new s(this.rawTileData)).layers);var r=this.vtLayers._geojsonTileLayer||this.vtLayers[e.sourceLayer];if(r)for(var o=l(e&&e.filter),i={z:this.coord.z,x:this.coord.x,y:this.coord.y},c=0;c<r.length;c++){var f=r.feature(c);if(o(f)){var p=new u(f,n.coord.z,n.coord.x,n.coord.y);p.tile=i,t.push(p)}}}},d.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},d.prototype.setExpiryData=function(t){t.cacheControl&&(this.cacheControl=t.cacheControl),t.expires&&(this.expires=t.expires)},d.prototype.getExpiry=function(){if(this.cacheControl){var t=r.parseCacheControl(this.cacheControl);if(t["max-age"])return this.timeAdded+1e3*t["max-age"]}else if(this.expires)return new Date(this.expires).getTime()},e.exports=d},{"../data/bucket":2,"../data/feature_index":12,"../symbol/collision_box":78,"../symbol/collision_tile":80,"../symbol/symbol_instances":89,"../symbol/symbol_quads":90,"../util/util":129,"../util/vectortile_to_geojson":130,"feature-filter":138,pbf:196,"vector-tile":206}],53:[function(t,e,n){"use strict";function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,n,r,o){var i=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,f=e.dx<0,p=i;p<a;p++){var h=u*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,p+f-e.y0))+e.x0;o(Math.floor(d),Math.ceil(h),p)}}function i(t,e,n,i,a,s){var u,l=r(t,e),c=r(e,n),f=r(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>f.dy&&(u=l,l=f,f=u),c.dy>f.dy&&(u=c,c=f,f=u),l.dy&&o(f,l,i,a,s),c.dy&&o(f,c,i,a,s)}function a(t,e,n){for(var r,o="",i=t;i>0;i--)r=1<<i-1,o+=(e&r?1:0)+(n&r?2:0);return o}var s=t("whoots-js"),u=t("../geo/coordinate"),l=function(t,e,n,r){isNaN(r)&&(r=0),this.z=+t,this.x=+e,this.y=+n,this.w=+r,r*=2,r<0&&(r=r*-1-1);var o=1<<this.z;this.id=32*(o*o*r+o*this.y+this.x)+this.z,this.posMatrix=null};l.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},l.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),n=Math.pow(2,e),r=this.y,o=this.x+n*this.w;return new u(o,r,e)},l.prototype.url=function(t,e,n){var r=s.getTileBBox(this.x,this.y,this.z),o=a(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",o).replace("{bbox-epsg-3857}",r)},l.prototype.parent=function(t){return 0===this.z?null:this.z>t?new l(this.z-1,this.x,this.y,this.w):new l(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},l.prototype.wrapped=function(){return new l(this.z,this.x,this.y,0)},l.prototype.children=function(t){if(this.z>=t)return[new l(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,r=2*this.y;return[new l(e,n,r,this.w),new l(e,n+1,r,this.w),new l(e,n,r+1,this.w),new l(e,n+1,r+1,this.w)]},l.cover=function(t,e,n,r){function o(t,e,o){var i,u,c,f;if(o>=0&&o<=a)for(i=t;i<e;i++)u=Math.floor(i/a),c=(i%a+a)%a,0!==u&&r!==!0||(f=new l(n,c,o,u),s[f.id]=f)}void 0===r&&(r=!0);var a=1<<t,s={};return i(e[0],e[1],e[2],0,a,o),i(e[2],e[3],e[0],0,a,o),Object.keys(s).map(function(t){return s[t]})},l.fromID=function(t){var e=t%32,n=1<<e,r=(t-e)/32,o=r%n,i=(r-o)/n%n,a=Math.floor(r/(n*n));return a%2!==0&&(a=a*-1-1),a/=2,new l(e,o,i,a)},e.exports=l},{"../geo/coordinate":18,"whoots-js":215}],54:[function(t,e,n){"use strict";var r=t("../util/evented"),o=t("../util/util"),i=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=function(t){function e(e,n,r,i){if(t.call(this),this.id=e,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,o.extend(this,o.pick(n,["url","scheme","tileSize"])),this._options=o.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),i(this._options,function(e,n){return e?void t.fire("error",e):(o.extend(t,n),t.fire("data",{dataType:"source"}),void t.fire("source.load"))})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.serialize=function(){return o.extend({},this._options);
},e.prototype.loadTile=function(t,e){function n(n,r){if(!t.aborted){if(n)return e(n);t.setExpiryData(r),t.loadVectorData(r,this.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,o={url:a(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",o,n.bind(this),t.workerID):t.workerID=this.dispatcher.send("loadTile",o,n.bind(this))},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e}(r);e.exports=s},{"../util/evented":118,"../util/mapbox":125,"../util/util":129,"./load_tilejson":45}],55:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("vector-tile"),i=t("pbf"),a=t("./worker_tile"),s=t("../util/util"),u=function(t,e,n){this.actor=t,this.layerIndex=e,n&&(this.loadVectorData=n),this.loading={},this.loaded={}};u.prototype.loadTile=function(t,e){function n(t,n){return delete this.loading[r][o],t?e(t):n?(i.vectorTile=n,i.parse(n,this.layerIndex,this.actor,function(t,r,o){if(t)return e(t);var i={};n.expires&&(i.expires=n.expires),n.cacheControl&&(i.cacheControl=n.cacheControl),e(null,s.extend({rawTileData:n.rawData},r,i),o)}),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][o]=i)):e(null,null)}var r=t.source,o=t.uid;this.loading[r]||(this.loading[r]={});var i=this.loading[r][o]=new a(t);i.abort=this.loadVectorData(t,n.bind(this))},u.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,i.layerIndex,i.actor,r)}e(t,n)}var r=this.loaded[t.source],o=t.uid,i=this;if(r&&r[o]){var a=r[o];"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},u.prototype.abortTile=function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort(),delete e[n])},u.prototype.removeTile=function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},u.prototype.loadVectorData=function(t,e){function n(t,n){if(t)return e(t);var r=new o.VectorTile(new i(n.data));r.rawData=n.data,r.cacheControl=n.cacheControl,r.expires=n.expires,e(t,r)}var a=r.getArrayBuffer(t.url,n.bind(this));return function(){a.abort()}},u.prototype.redoPlacement=function(t,e){var n=this.loaded[t.source],r=this.loading[t.source],o=t.uid;if(n&&n[o]){var i=n[o],a=i.redoPlacement(t.angle,t.pitch,t.showCollisionBoxes);a.result&&e(null,a.result,a.transferables)}else r&&r[o]&&(r[o].angle=t.angle)},e.exports=u},{"../util/ajax":109,"../util/util":129,"./worker_tile":58,pbf:196,"vector-tile":206}],56:[function(t,e,n){"use strict";var r=t("../util/ajax"),o=t("./image_source"),i=function(t){function e(e,n,r,o){t.call(this,e,n,r,o),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,r.getVideo(e.urls,function(e,n){if(e)return t.fire("error",{error:e});t.video=n,t.video.loop=!0;var r;t.video.addEventListener("playing",function(){r=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener("pause",function(){t.map.style.animationLoop.cancel(r)}),t.map&&t.video.play(),t._finishLoading()})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.load(),this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){!this.tile||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e}(o);e.exports=i},{"../util/ajax":109,"./image_source":44}],57:[function(t,e,n){"use strict";var r=t("../util/actor"),o=t("../style/style_layer_index"),i=t("./vector_tile_worker_source"),a=t("./geojson_worker_source"),s=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new r(t,this),this.layerIndexes={},this.workerSourceTypes={vector:i,geojson:a},this.workerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(s.applyArabicShaping||s.processBidirectionalText)throw new Error("RTL text plugin already registered.");s.applyArabicShaping=t.applyArabicShaping,s.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e){this.getLayerIndex(t).replace(e)},u.prototype.updateLayers=function(t,e){this.getLayerIndex(t).update(e.layers,e.removedIds,e.symbolOrder)},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e){this.getWorkerSource(t,e.type).abortTile(e)},u.prototype.removeTile=function(t,e){this.getWorkerSource(t,e.type).removeTile(e)},u.prototype.removeSource=function(t,e){var n=this.getWorkerSource(t,e.type);void 0!==n.removeSource&&n.removeSource(e)},u.prototype.redoPlacement=function(t,e,n){this.getWorkerSource(t,e.type).redoPlacement(e,n)},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{s.applyArabicShaping||s.processBidirectionalText||this.self.importScripts(e)}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new o),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var r={send:function(e,r,o,i){n.actor.send(e,r,o,i,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](r,this.getLayerIndex(t))}return this.workerSources[t][e]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":71,"../util/actor":108,"./geojson_worker_source":42,"./rtl_text_plugin":49,"./vector_tile_worker_source":55}],58:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.layers;n<r.length;n+=1){var o=r[n];o.recalculate(e)}}function o(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var i=t("../data/feature_index"),a=t("../symbol/collision_tile"),s=t("../symbol/collision_box"),u=t("../util/dictionary_coder"),l=t("../util/util"),c=t("../symbol/symbol_instances"),f=t("../symbol/symbol_quads"),p=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.showCollisionBoxes=t.showCollisionBoxes};p.prototype.parse=function(t,e,n,p){var h=this;t.layers||(t={layers:{_geojsonTileLayer:t}}),this.status="parsing",this.data=t,this.collisionBoxArray=new s,this.symbolInstancesArray=new c,this.symbolQuadsArray=new f;var d=new u(Object.keys(t.layers).sort()),m=new i(this.coord,this.overscaling);m.bucketLayerIDs={};var y={},v=0,g={featureIndex:m,iconDependencies:{},glyphDependencies:{}},_=e.familiesBySource[this.source];for(var b in _){var x=t.layers[b];if(x){1===x.version&&l.warnOnce('Vector tile source "'+h.source+'" layer "'+b+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var w=d.encode(b),E=[],S=0;S<x.length;S++){var M=x.feature(S);M.index=S,M.sourceLayerIndex=w,E.push(M)}for(var T=0,C=_[b];T<C.length;T+=1){var k=C[T],P=k[0];if(!(P.minzoom&&h.zoom<P.minzoom||P.maxzoom&&h.zoom>=P.maxzoom||P.layout&&"none"===P.layout.visibility)){for(var A=0,R=k;A<R.length;A+=1){var O=R[A];O.recalculate(h.zoom)}var I=y[P.id]=P.createBucket({index:v,layers:k,zoom:h.zoom,overscaling:h.overscaling,collisionBoxArray:h.collisionBoxArray,symbolQuadsArray:h.symbolQuadsArray,symbolInstancesArray:h.symbolInstancesArray});I.populate(E,g),m.bucketLayerIDs[v]=k.map(function(t){return t.id}),v++}}}}var L=function(t){h.status="done";var e=[];p(null,{buckets:o(l.values(y),e),featureIndex:m.serialize(e),collisionTile:t.serialize(e),collisionBoxArray:h.collisionBoxArray.serialize(),symbolInstancesArray:h.symbolInstancesArray.serialize(),symbolQuadsArray:h.symbolQuadsArray.serialize()},e)};this.symbolBuckets=[];for(var N=e.symbolOrder.length-1;N>=0;N--){var D=y[e.symbolOrder[N]];D&&h.symbolBuckets.push(D)}if(0===this.symbolBuckets.length)return L(new a(this.angle,this.pitch,this.collisionBoxArray));var j=0,z=Object.keys(g.iconDependencies),U=l.mapObject(g.glyphDependencies,function(t){return Object.keys(t).map(Number)}),F=function(t){if(t)return p(t);if(j++,2===j){for(var e=new a(h.angle,h.pitch,h.collisionBoxArray),n=0,o=h.symbolBuckets;n<o.length;n+=1){var i=o[n];r(i,h.zoom),i.prepare(U,z),i.place(e,h.showCollisionBoxes)}L(e)}};Object.keys(U).length?n.send("getGlyphs",{uid:this.uid,stacks:U},function(t,e){U=e,F(t)}):F(),z.length?n.send("getIcons",{icons:z},function(t,e){z=e,F(t)}):F()},p.prototype.redoPlacement=function(t,e,n){var i=this;if(this.angle=t,this.pitch=e,"done"!==this.status)return{};for(var s=new a(this.angle,this.pitch,this.collisionBoxArray),u=0,l=this.symbolBuckets;u<l.length;u+=1){var c=l[u];r(c,i.zoom),c.place(s,n)}var f=[];return{result:{buckets:o(this.symbolBuckets,f),collisionTile:s.serialize(f)},transferables:f}},e.exports=p},{"../data/feature_index":12,"../symbol/collision_box":78,"../symbol/collision_tile":80,"../symbol/symbol_instances":89,"../symbol/symbol_quads":90,"../util/dictionary_coder":115,"../util/util":129}],59:[function(t,e,n){"use strict";var r=function(){this.n=0,this.times=[]};r.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},r.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})},e.exports=r},{}],60:[function(t,e,n){"use strict";var r=t("../util/evented"),o=t("../util/ajax"),i=t("../util/browser"),a=t("../util/mapbox").normalizeSpriteURL,s=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},u=function(t){function e(e,n){var r=this;t.call(this),this.base=e,this.retina=i.devicePixelRatio>1,this.setEventedParent(n);var s=this.retina?"@2x":"";o.getJSON(a(e,s,".json"),function(t,e){return t?void r.fire("error",{error:t}):(r.data=e,void(r.imgData&&r.fire("data",{dataType:"style"})))}),o.getImage(a(e,s,".png"),function(t,e){if(t)return void r.fire("error",{error:t});r.imgData=i.getImageData(e);for(var n=0;n<r.imgData.length;n+=4){var o=r.imgData[n+3]/255;r.imgData[n+0]*=o,r.imgData[n+1]*=o,r.imgData[n+2]*=o}r.width=e.width,r.data&&r.fire("data",{dataType:"style"})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return this.base},e.prototype.loaded=function(){return!(!this.data||!this.imgData)},e.prototype.resize=function(){var t=this;if(i.devicePixelRatio>1!==this.retina){var n=new e(this.base);n.on("data",function(){t.data=n.data,t.imgData=n.imgData,t.width=n.width,t.retina=n.retina})}},e.prototype.getSpritePosition=function(t){if(!this.loaded())return new s;var e=this.data&&this.data[t];return e&&this.imgData?e:new s},e}(r);e.exports=u},{"../util/ajax":109,"../util/browser":110,"../util/evented":118,"../util/mapbox":125}],61:[function(t,e,n){"use strict";var r=t("./style_spec"),o=t("../util/util"),i=t("../util/evented"),a=t("./validate_style"),s=t("./style_declaration"),u=t("./style_transition"),l="-transition",c=function(t){function e(e){t.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=r.light,this.set(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){var e=this;if(!this._validate(a.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=o.extend({anchor:this._specifications.anchor.default,color:this._specifications.color.default,position:this._specifications.position.default,intensity:this._specifications.intensity.default},t);for(var n=0,r=this.properties;n<r.length;n+=1){var i=r[n];e._declarations[i]=new s(e._specifications[i],t[i])}return this}},e.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},e.prototype.getLightProperty=function(t){return o.endsWith(t,l)?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},e.prototype.getLightValue=function(t,e){if("position"===t){var n=this._transitions[t].calculate(e),r=o.sphericalToCartesian(n);return{x:r[0],y:r[1],z:r[2]}}return this._transitions[t].calculate(e)},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var n in t){var r=t[n];o.endsWith(n,l)?e._transitionOptions[n]=r:null===r||void 0===r?delete e._declarations[n]:e._declarations[n]=new s(e._specifications[n],r)}},e.prototype.recalculate=function(t){var e=this;for(var n in this._declarations)e.calculated[n]=e.getLightValue(n,{zoom:t})},e.prototype._applyLightDeclaration=function(t,e,n,r,i){var a=n.transition?this._transitions[t]:void 0,c=this._specifications[t];if(null!==e&&void 0!==e||(e=new s(c,c.default)),!a||a.declaration.json!==e.json){var f=o.extend({duration:300,delay:0},r,this.getLightProperty(t+l)),p=this._transitions[t]=new u(c,e,a,f);p.instant()||(p.loopID=i.set(p.endTime-Date.now())),a&&i.cancel(a.loopID)}},e.prototype.updateLightTransitions=function(t,e,n){var r,o=this;for(r in this._declarations)o._applyLightDeclaration(r,o._declarations[r],t,e,n)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,o.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:r})))},e}(i);e.exports=c},{"../util/evented":118,"../util/util":129,"./style_declaration":64,"./style_spec":72,"./style_transition":73,"./validate_style":74}],62:[function(t,e,n){"use strict";var r=t("csscolorparser").parseCSSColor,o=t("../util/util"),i=t("mapbox-gl-function"),a={};e.exports=function t(e){if(e&&i.isFunctionDefinition(e))return e.stops?o.extend({},e,{stops:e.stops.map(function(e){return[e[0],t(e[1])]})}):e;if("string"==typeof e){if(!a[e]){var n=r(e);if(!n)throw new Error("Invalid color "+e);a[e]=[n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]]}return a[e]}if(Array.isArray(e))return e;throw new Error("Invalid color "+e)}},{"../util/util":129,csscolorparser:135,"mapbox-gl-function":164}],63:[function(t,e,n){"use strict";var r=t("../util/evented"),o=t("./style_layer"),i=t("./image_sprite"),a=t("./light"),s=t("../symbol/glyph_source"),u=t("../symbol/sprite_atlas"),l=t("../render/line_atlas"),c=t("../util/util"),f=t("../util/ajax"),p=t("../util/mapbox"),h=t("../util/browser"),d=t("../util/dispatcher"),m=t("./animation_loop"),y=t("./validate_style"),v=t("../source/source"),g=t("../source/query_features"),_=t("../source/source_cache"),b=t("./style_spec"),x=t("mapbox-gl-function"),w=t("../global_worker_pool"),E=t("mapbox-gl-style-spec/lib/deref"),S=t("mapbox-gl-style-spec/lib/diff"),M=t("../source/rtl_text_plugin"),T=c.pick(S.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),C=c.pick(S.operations,["setCenter","setZoom","setBearing","setPitch"]),k=function(t){function e(e,n,r){var o=this;t.call(this),this.map=n,this.animationLoop=n&&n.animationLoop||new m,this.dispatcher=new d(w(),this),this.spriteAtlas=new u(1024,1024),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates(),r=c.extend({validate:"string"!=typeof e||!p.isMapboxURL(e)},r),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var a=this;M.registerForPluginAvailability(function(t){a.dispatcher.broadcast("loadRTLTextPlugin",t,M.errorCallback);for(var e in a.sourceCaches)a.sourceCaches[e].reload()});var v=function(t,e){if(t)return void o.fire("error",{error:t});if(!r.validate||!y.emitErrors(o,y(e))){o._loaded=!0,o.stylesheet=e,o.updateClasses();for(var n in e.sources)o.addSource(n,e.sources[n],r);e.sprite&&(o.sprite=new i(e.sprite,o)),o.glyphSource=new s(e.glyphs),o._resolve(),o.fire("data",{dataType:"style"}),o.fire("style.load")}};"string"==typeof e?f.getJSON(p.normalizeStyleURL(e),v):h.frame(v.bind(this,null,e)),this.on("source.load",function(t){var e=o.sourceCaches[t.sourceId].getSource();if(e&&e.vectorLayerIds)for(var n in o._layers){var r=o._layers[n];r.source===e.id&&o._validateLayer(r)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(t.sourceLayer&&e){var n=e.getSource();("geojson"===n.type||n.vectorLayerIds&&n.vectorLayerIds.indexOf(t.sourceLayer)===-1)&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+n.id+'" as specified by style layer "'+t.id+'"')})}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},e.prototype._resolve=function(){var t=this,e=E(this.stylesheet.layers);this._order=e.map(function(t){return t.id}),this._layers={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];i=o.create(i),i.setEventedParent(t,{layer:{id:i.id}}),t._layers[i.id]=i}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new a(this.stylesheet.light)},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype._applyClasses=function(t,e){var n=this;if(this._loaded){t=t||[],e=e||{transition:!0};var r=this.stylesheet.transition||{},o=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var i in o){var a=n._layers[i],s=n._updatedPaintProps[i];if(n._updatedAllPaintProps||s.all)a.updatePaintTransitions(t,e,r,n.animationLoop,n.zoomHistory);else for(var u in s)n._layers[i].updatePaintTransition(u,t,e,r,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(e,r,this.animationLoop)}},e.prototype._recalculate=function(t){var e=this;if(this._loaded){for(var n in this.sourceCaches)e.sourceCaches[n].used=!1;this._updateZoomHistory(t);for(var r=0,o=this._order;r<o.length;r+=1){var i=o[r],a=e._layers[i];a.recalculate(t),!a.isHidden(t)&&a.source&&(e.sourceCaches[a.source].used=!0)}this.light.recalculate(t);var s=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(s),this.z=t}},e.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t,e){var n=this;if(this._changed){var r=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(r.length||o.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(r,o);for(var i in this._updatedSources){var a=n._updatedSources[i];"reload"===a?n._reloadSource(i):"clear"===a&&n._clearSource(i)}this._applyClasses(t,e),this._resetUpdates(),this.fire("data",{dataType:"style"})}},e.prototype._updateWorkerLayers=function(t,e){var n=this,r=this._updatedSymbolOrder?this._order.filter(function(t){return"symbol"===n._layers[t].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e,symbolOrder:r})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),y.emitErrors(this,y(t)))return!1;t=c.extend({},t),t.layers=E(t.layers);var n=S(this.serialize(),t).filter(function(t){return!(t.command in C)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in T)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addSource=function(t,e,n){if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");var r=["vector","raster","geojson","video","image","canvas"],o=r.indexOf(e.type)>=0;if(!o||!this._validate(y.source,"sources."+t,e,null,n)){var i=this.sourceCaches[t]=new _(t,e,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:i.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if("object"==typeof t.source&&(this.addSource(r,t.source),t=c.extend(t,{source:r})),!this._validate(y.layer,"layers."+r,t,{arrayIndex:-1},n)){var i=o.create(t);this._validateLayer(i),i.setEventedParent(this,{layer:{id:r}});var a=e?this._order.indexOf(e):this._order.length;if(this._order.splice(a,0,r),this._layers[r]=i,this._removedLayers[r]&&i.source){var s=this._removedLayers[r];delete this._removedLayers[r],this._updatedSources[i.source]=s.type!==i.type?"clear":"reload"}this._updateLayer(i),"symbol"===i.type&&(this._updatedSymbolOrder=!0),this.updateClasses(r)}},e.prototype.moveLayer=function(t,e){this._checkLoaded(),this._changed=!0;var n=this._layers[t];if(!n)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var r=this._order.indexOf(t);this._order.splice(r,1);var o=e?this._order.indexOf(e):this._order.length;this._order.splice(o,0,t),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&!this._updatedSources[n.source]&&(this._updatedSources[n.source]="reload"))},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),"symbol"===e.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);return r?void(r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")})},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);return n?void(null!==e&&void 0!==e&&this._validate(y.filter,"layers."+n.id+".filter",e)||c.deepEqual(n.filter,e)||(n.filter=c.clone(e),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);return r?void(c.deepEqual(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n,r){this._checkLoaded();var o=this.getLayer(t);if(!o)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(o.getPaintProperty(e,r),n)){var i=o.isPaintValueFeatureConstant(e);o.setPaintProperty(e,n,r);var a=!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);a&&i||this._updateLayer(o),this.updateClasses(t,e)}},e.prototype.getPaintProperty=function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.updateClasses=function(t,e){if(this._changed=!0,t){var n=this._updatedPaintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload"),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],r=this._order.length-1;r>=0;r--)for(var o=e._order[r],i=0,a=t;i<a.length;i+=1){var s=a[i],u=s[o];if(u)for(var l=0,c=u;l<c.length;l+=1){var f=c[l];n.push(f)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,r){var o=this;e&&e.filter&&this._validate(y.filter,"queryRenderedFeatures.filter",e.filter);var i={};if(e&&e.layers)for(var a=0,s=e.layers;a<s.length;a+=1){var u=s[a],l=o._layers[u];if(!l)return void o.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."});i[l.source]=!0}var c=[];for(var f in this.sourceCaches)if(!e.layers||i[f]){var p=g.rendered(o.sourceCaches[f],o._layers,t,e,n,r);c.push(p)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(y.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?g.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return v.getType(t)?n(new Error('A source type called "'+t+'" already exists.')):(v.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t,e){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var o in t)if(!c.deepEqual(t[o],n[o])){r=!0;break}if(r){var i=this.stylesheet.transition||{};this.light.setLight(t),this.light.updateLightTransitions(e||{transition:!0},i,this.animationLoop)}},e.prototype._validate=function(t,e,n,r,o){return(!o||o.validate!==!1)&&y.emitErrors(this,t.call(y,c.extend({key:e,style:this.serialize(),value:n,styleSpec:b},r)))},e.prototype._remove=function(){var t=this;for(var e in this.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in this.sourceCaches)e.sourceCaches[n].update(t)},e.prototype._redoPlacement=function(){var t=this;for(var e in this.sourceCaches)t.sourceCaches[e].redoPlacement()},e.prototype.getIcons=function(t,e,n){var r=this,o=function(){r.spriteAtlas.setSprite(r.sprite),r.spriteAtlas.addIcons(e.icons,n)};this.sprite.loaded()?o():this.sprite.on("data",o)},e.prototype.getGlyphs=function(t,e,n){function r(t,e,r){t&&console.error(t),s[r]=e,a--,0===a&&n(null,s)}var o=this,i=e.stacks,a=Object.keys(i).length,s={};for(var u in i)o.glyphSource.getSimpleGlyphs(u,i[u],e.uid,r)},e}(r);e.exports=k},{"../global_worker_pool":22,"../render/line_atlas":35,"../source/query_features":47,"../source/rtl_text_plugin":49,"../source/source":50,"../source/source_cache":51,"../symbol/glyph_source":83,"../symbol/sprite_atlas":88,"../util/ajax":109,"../util/browser":110,"../util/dispatcher":116,"../util/evented":118,"../util/mapbox":125,"../util/util":129,"./animation_loop":59,"./image_sprite":60,"./light":61,"./style_layer":65,"./style_spec":72,"./validate_style":74,"mapbox-gl-function":164,"mapbox-gl-style-spec/lib/deref":165,"mapbox-gl-style-spec/lib/diff":166}],64:[function(t,e,n){"use strict";var r=t("mapbox-gl-function"),o=t("./parse_color"),i=t("../util/util"),a=function(t,e){var n=this;this.value=i.clone(e),this.isFunction=r.isFunctionDefinition(e),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this.isColor="color"===t.type;var a=this.isColor&&this.value?o(this.value):e,s=t.default;if(s&&"color"===t.type&&(s=o(s)),this.function=r[t.function||"piecewise-constant"](a,s),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var u=[],l=0,c=this.value.stops;l<c.length;l+=1){var f=c[l],p=f[0].zoom;n.stopZoomLevels.indexOf(p)<0&&(n.stopZoomLevels.push(p),u.push([p,u.length]))}this.functionInterpolationT=r.interpolated({stops:u,base:e.base,colorSpace:e.colorSpace})}};a.prototype.calculate=function(t,e){var n=this.function(t&&t.zoom,e||{});return this.isColor&&n?o(n):void 0!==this.minimum&&n<this.minimum?this.minimum:n},a.prototype.calculateInterpolationT=function(t,e){return this.functionInterpolationT(t&&t.zoom,e||{})},e.exports=a},{"../util/util":129,"./parse_color":62,"mapbox-gl-function":164}],65:[function(t,e,n){"use strict";function r(t){return t.value}var o=t("../util/util"),i=t("./style_transition"),a=t("./style_declaration"),s=t("./style_spec"),u=t("./validate_style"),l=t("./parse_color"),c=t("../util/evented"),f="-transition",p=function(t){function e(e){var n=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.source=e.source,this.sourceLayer=e["source-layer"],this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.filter=e.filter,this.paint={},this.layout={},this._paintSpecifications=s["paint_"+this.type],this._layoutSpecifications=s["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,o,i={validate:!1};for(var a in e){var u=a.match(/^paint(?:\.(.*))?$/);if(u){var l=u[1]||"";for(r in e[a])n.setPaintProperty(r,e[a][r],l,i)}}for(o in e.layout)n.setLayoutProperty(o,e.layout[o],i);
for(r in this._paintSpecifications)n.paint[r]=n.getPaintValue(r);for(o in this._layoutSpecifications)n._updateLayoutValue(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setLayoutProperty=function(t,e,n){if(null==e)delete this._layoutDeclarations[t];else{var r="layers."+this.id+".layout."+t;if(this._validate(u.layoutProperty,r,t,e,n))return;this._layoutDeclarations[t]=new a(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},e.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},e.prototype.getLayoutValue=function(t,e,n){var r=this._layoutSpecifications[t],o=this._layoutDeclarations[t];return o?o.calculate(e,n):r.default},e.prototype.setPaintProperty=function(t,e,n,r){var i="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+t;if(o.endsWith(t,f))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[n||""][t];else{if(this._validate(u.paintProperty,i,t,e,r))return;this._paintTransitionOptions[n||""][t]=e}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===e||void 0===e)delete this._paintDeclarations[n||""][t];else{if(this._validate(u.paintProperty,i,t,e,r))return;this._paintDeclarations[n||""][t]=new a(this._paintSpecifications[t],e)}},e.prototype.getPaintProperty=function(t,e){return e=e||"",o.endsWith(t,f)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},e.prototype.getPaintValue=function(t,e,n){var r=this._paintSpecifications[t],o=this._paintTransitions[t];return o?o.calculate(e,n):"color"===r.type&&r.default?l(r.default):r.default},e.prototype.getPaintValueStopZoomLevels=function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},e.prototype.getPaintInterpolationT=function(t,e){var n=this._paintTransitions[t];return n.declaration.calculateInterpolationT(e)},e.prototype.isPaintValueFeatureConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},e.prototype.isLayoutValueFeatureConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},e.prototype.isPaintValueZoomConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.layout.visibility},e.prototype.updatePaintTransitions=function(t,e,n,r,i){for(var a=this,s=o.extend({},this._paintDeclarations[""]),u=0;u<t.length;u++)o.extend(s,a._paintDeclarations[t[u]]);var l;for(l in s)a._applyPaintDeclaration(l,s[l],e,n,r,i);for(l in this._paintTransitions)l in s||a._applyPaintDeclaration(l,null,e,n,r,i)},e.prototype.updatePaintTransition=function(t,e,n,r,o,i){for(var a=this,s=this._paintDeclarations[""][t],u=0;u<e.length;u++){var l=a._paintDeclarations[e[u]];l&&l[t]&&(s=l[t])}this._applyPaintDeclaration(t,s,n,r,o,i)},e.prototype.recalculate=function(t){var e=this;for(var n in this._paintTransitions)e.paint[n]=e.getPaintValue(n,{zoom:t});for(var r in this._layoutFunctions)e.layout[r]=e.getLayoutValue(r,{zoom:t})},e.prototype.serialize=function(){var t=this,e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,r)};for(var n in this._paintDeclarations){var i=""===n?"paint":"paint."+n;e[i]=o.mapObject(t._paintDeclarations[n],r)}return o.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},e.prototype._applyPaintDeclaration=function(t,e,n,r,s,u){var l=n.transition?this._paintTransitions[t]:void 0,c=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new a(c,c.default)),!l||l.declaration.json!==e.json){var p=o.extend({duration:300,delay:0},r,this.getPaintProperty(t+f)),h=this._paintTransitions[t]=new i(c,e,l,p,u);h.instant()||(h.loopID=s.set(h.endTime-Date.now())),l&&s.cancel(l.loopID)}},e.prototype._updateLayoutValue=function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},e.prototype._validate=function(t,e,n,r,o){return(!o||o.validate!==!1)&&u.emitErrors(this,t.call(u,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:s,style:{glyphs:!0,sprite:!0}}))},e}(c);e.exports=p;var h={circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer")};p.create=function(t){var e=h[t.type]||p;return new e(t)}},{"../util/evented":118,"../util/util":129,"./parse_color":62,"./style_declaration":64,"./style_layer/circle_style_layer":66,"./style_layer/fill_extrusion_style_layer":67,"./style_layer/fill_style_layer":68,"./style_layer/line_style_layer":69,"./style_layer/symbol_style_layer":70,"./style_spec":72,"./style_transition":73,"./validate_style":74}],66:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/circle_bucket"),i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new o(t)},e}(r);e.exports=i},{"../../data/bucket/circle_bucket":3,"../style_layer":65}],67:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/fill_extrusion_bucket"),i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var o=t.prototype.getPaintValue.call(this,e,n,r);return"fill-extrusion-color"===e&&o&&(o[3]=1),o},e.prototype.createBucket=function(t){return new o(t)},e}(r);e.exports=i},{"../../data/bucket/fill_extrusion_bucket":5,"../style_layer":65}],68:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/fill_bucket"),i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var o=this;if("fill-outline-color"===e){if(void 0===this.getPaintProperty("fill-outline-color"))return t.prototype.getPaintValue.call(this,"fill-color",n,r);for(var i=this._paintTransitions["fill-outline-color"];i;){var a=i&&i.declaration&&i.declaration.value;if(!a)return t.prototype.getPaintValue.call(o,"fill-color",n,r);i=i.oldTransition}}return t.prototype.getPaintValue.call(this,e,n,r)},e.prototype.getPaintValueStopZoomLevels=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):t.prototype.getPaintValueStopZoomLevels.call(this,e)},e.prototype.getPaintInterpolationT=function(e,n){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintInterpolationT.call(this,"fill-color",n):t.prototype.getPaintInterpolationT.call(this,e,n)},e.prototype.isPaintValueFeatureConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):t.prototype.isPaintValueFeatureConstant.call(this,e)},e.prototype.isPaintValueZoomConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueZoomConstant.call(this,"fill-color"):t.prototype.isPaintValueZoomConstant.call(this,e)},e.prototype.createBucket=function(t){return new o(t)},e}(r);e.exports=i},{"../../data/bucket/fill_bucket":4,"../style_layer":65}],69:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/line_bucket"),i=t("../../util/util"),a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var o=t.prototype.getPaintValue.call(this,e,n,r);if(o&&"line-dasharray"===e){var a=this.getPaintValue("line-width",i.extend({},n,{zoom:Math.floor(n.zoom)}),r);o.fromScale*=a,o.toScale*=a}return o},e.prototype.createBucket=function(t){return new o(t)},e}(r);e.exports=a},{"../../data/bucket/line_bucket":6,"../../util/util":129,"../style_layer":65}],70:[function(t,e,n){"use strict";var r=t("../style_layer"),o=t("../../data/bucket/symbol_bucket"),i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutValue=function(e,n,r){var o=t.prototype.getLayoutValue.call(this,e,n,r);if("auto"!==o)return o;switch(e){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,r)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,r);default:return o}},e.prototype.createBucket=function(t){return new o(t)},e}(r);e.exports=i},{"../../data/bucket/symbol_bucket":7,"../style_layer":65}],71:[function(t,e,n){"use strict";var r=t("./style_layer"),o=t("../util/util"),i=t("feature-filter"),a=t("mapbox-gl-style-spec/lib/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){var e=this;this.symbolOrder=[];for(var n=0,r=t;n<r.length;n+=1){var o=r[n];"symbol"===o.type&&e.symbolOrder.push(o.id)}this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e,n){for(var s=this,u=0,l=t;u<l.length;u+=1){var c=l[u];s._layerConfigs[c.id]=c;var f=s._layers[c.id]=r.create(c);f.updatePaintTransitions({},{transition:!1}),f.filter=i(f.filter)}for(var p=0,h=e;p<h.length;p+=1){var d=h[p];delete s._layerConfigs[d],delete s._layers[d]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var m=a(o.values(this._layerConfigs)),y=0,v=m;y<v.length;y+=1){var g=v[y],_=g.map(function(t){return s._layers[t.id]}),b=_[0];if(!b.layout||"none"!==b.layout.visibility){var x=b.source||"",w=s.familiesBySource[x];w||(w=s.familiesBySource[x]={});var E=b.sourceLayer||"_geojsonTileLayer",S=w[E];S||(S=w[E]=[]),S.push(_)}}},e.exports=s},{"../util/util":129,"./style_layer":65,"feature-filter":138,"mapbox-gl-style-spec/lib/group_by_layout":168}],72:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/reference/latest.min")},{"mapbox-gl-style-spec/reference/latest.min":191}],73:[function(t,e,n){"use strict";function r(t,e,n){if(void 0!==t&&void 0!==e)return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var o=t("../util/util"),i=t("../util/interpolate"),a={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},s=function(t,e,n,o,s){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=o.duration||0,this.delay=o.delay||0,this.zoomTransitioned="piecewise-constant"===t.function&&t.transition,this.interp=this.zoomTransitioned?r:i[t.type],this.zoomHistory=s||a,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};s.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},s.prototype.calculate=function(t,e,n){var r=this._calculateTargetValue(t,e);if(this.instant())return r;if(n=n||Date.now(),n>=this.endTime)return r;var i=this.oldTransition.calculate(t,e,this.startTime),a=o.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(i,r,a)},s.prototype._calculateTargetValue=function(t,e){if(!this.zoomTransitioned)return this.declaration.calculate(t,e);var n=t.zoom,r=this.zoomHistory.lastIntegerZoom,o=n>r?2:.5,a=this.declaration.calculate({zoom:n>r?n-1:n+1},e),s=this.declaration.calculate({zoom:n},e),u=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(n-r),c=i(u,1,l);return void 0!==a&&void 0!==s?{from:a,fromScale:o,to:s,toScale:1,t:c}:void 0},e.exports=s},{"../util/interpolate":121,"../util/util":129}],74:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/lib/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0;n<e.length;n++)t.fire("error",{error:new Error(e[n].message)});return!0}return!1}},{"mapbox-gl-style-spec/lib/validate_style.min":190}],75:[function(t,e,n){"use strict";var r=t("point-geometry"),o=function(t){function e(e,n,r,o){t.call(this,e,n),this.angle=r,void 0!==o&&(this.segment=o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);e.exports=o},{"point-geometry":197}],76:[function(t,e,n){"use strict";function r(t,e,n,r,o){if(void 0===e.segment)return!0;for(var i=e,a=e.segment+1,s=0;s>-n/2;){if(a--,a<0)return!1;s-=t[a].dist(i),i=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],p=t[a+1];if(!p)return!1;var h=c.angleTo(f)-f.angleTo(p);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),l+=h;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>o)return!1;a++,s+=f.dist(p)}return!0}e.exports=r},{}],77:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var a=[],s=0;s<t.length;s++)for(var u,l=t[s],c=0;c<l.length-1;c++){var f=l[c],p=l[c+1];f.x<e&&p.x<e||(f.x<e?f=new o(e,f.y+(p.y-f.y)*((e-f.x)/(p.x-f.x)))._round():p.x<e&&(p=new o(e,f.y+(p.y-f.y)*((e-f.x)/(p.x-f.x)))._round()),f.y<n&&p.y<n||(f.y<n?f=new o(f.x+(p.x-f.x)*((n-f.y)/(p.y-f.y)),n)._round():p.y<n&&(p=new o(f.x+(p.x-f.x)*((n-f.y)/(p.y-f.y)),n)._round()),f.x>=r&&p.x>=r||(f.x>=r?f=new o(r,f.y+(p.y-f.y)*((r-f.x)/(p.x-f.x)))._round():p.x>=r&&(p=new o(r,f.y+(p.y-f.y)*((r-f.x)/(p.x-f.x)))._round()),f.y>=i&&p.y>=i||(f.y>=i?f=new o(f.x+(p.x-f.x)*((i-f.y)/(p.y-f.y)),i)._round():p.y>=i&&(p=new o(f.x+(p.x-f.x)*((i-f.y)/(p.y-f.y)),i)._round()),u&&f.equals(u[u.length-1])||(u=[f],a.push(u)),u.push(p)))))}return a}var o=t("point-geometry");e.exports=r},{"point-geometry":197}],78:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("point-geometry"),i=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(i.prototype.StructType.prototype,"anchorPoint",{get:function(){return new o(this.anchorPointX,this.anchorPointY)}}),e.exports=i},{"../util/struct_array":127,"point-geometry":197}],79:[function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,a,s,u,l,c){var f=a.top*s-u,p=a.bottom*s+u,h=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=t.length,l){var m=p-f,y=d-h;if(m>0)if(m=Math.max(10*s,m),c){var v=e[n.segment+1].sub(e[n.segment])._unit()._mult(y),g=[n.sub(v),n.add(v)];this._addLineCollisionBoxes(t,g,n,0,y,m,r,o,i)}else this._addLineCollisionBoxes(t,e,n,n.segment,y,m,r,o,i)}else t.emplaceBack(n.x,n.y,h,f,d,p,1/0,r,o,i,0,0,0,0,0);this.boxEndIndex=t.length};r.prototype._addLineCollisionBoxes=function(t,e,n,r,o,i,a,s,u){var l=i/2,c=Math.floor(o/l),f=-i/2,p=this.boxes,h=n,d=r+1,m=f;do{if(d--,d<0)return p;m-=e[d].dist(h),h=e[d]}while(m>-o/2);for(var y=e[d].dist(e[d+1]),v=0;v<c;v++){for(var g=-o/2+v*l;m+y<g;){if(m+=y,d++,d+1>=e.length)return p;y=e[d].dist(e[d+1])}var _=g-m,b=e[d],x=e[d+1],w=x.sub(b)._unit()._mult(_)._add(b)._round(),E=Math.max(Math.abs(g-f)-l/2,0),S=o/2/E;t.emplaceBack(w.x,w.y,-i/2,-i/2,i/2,i/2,S,a,s,u,0,0,0,0,0)}return p},e.exports=r},{}],80:[function(t,e,n){"use strict";var r=t("point-geometry"),o=t("../data/extent"),i=t("grid-index"),a=t("../util/intersection_tests"),s=function(t,e,n){if("object"==typeof t){var r=t;n=e,t=r.angle,e=r.pitch,this.grid=new i(r.grid),this.ignoredGrid=new i(r.ignoredGrid)}else this.grid=new i(o,12,6),this.ignoredGrid=new i(o,12,0);this.minScale=.5,this.maxScale=2,this.angle=t,this.pitch=e;var a=Math.sin(t),s=Math.cos(t);if(this.rotationMatrix=[s,-a,a,s],this.reverseRotationMatrix=[s,a,-a,s],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var u=32767;n.emplaceBack(0,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(o,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-u,0,u,0,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,o,-u,0,u,0,u,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]};s.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(n)),{angle:this.angle,pitch:this.pitch,grid:e,ignoredGrid:n}},s.prototype.placeCollisionFeature=function(t,e,n){for(var o=this,i=this.collisionBoxArray,a=this.minScale,s=this.rotationMatrix,u=this.yStretch,l=t.boxStartIndex;l<t.boxEndIndex;l++){var c=i.get(l),f=c.anchorPoint._matMult(s),p=f.x,h=f.y,d=p+c.x1,m=h+c.y1*u,y=p+c.x2,v=h+c.y2*u;if(c.bbox0=d,c.bbox1=m,c.bbox2=y,c.bbox3=v,!e)for(var g=o.grid.query(d,m,y,v),_=0;_<g.length;_++){var b=i.get(g[_]),x=b.anchorPoint._matMult(s);if(a=o.getPlacementScale(a,f,c,x,b),a>=o.maxScale)return a}if(n){var w;if(o.angle){var E=o.reverseRotationMatrix,S=new r(c.x1,c.y1).matMult(E),M=new r(c.x2,c.y1).matMult(E),T=new r(c.x1,c.y2).matMult(E),C=new r(c.x2,c.y2).matMult(E);w=o.tempCollisionBox,w.anchorPointX=c.anchorPoint.x,w.anchorPointY=c.anchorPoint.y,w.x1=Math.min(S.x,M.x,T.x,C.x),w.y1=Math.min(S.y,M.x,T.x,C.x),w.x2=Math.max(S.x,M.x,T.x,C.x),w.y2=Math.max(S.y,M.x,T.x,C.x),w.maxScale=c.maxScale}else w=c;for(var k=0;k<this.edges.length;k++){var P=o.edges[k];if(a=o.getPlacementScale(a,c.anchorPoint,w,P.anchorPoint,P),a>=o.maxScale)return a}}}return a},s.prototype.queryRenderedSymbols=function(t,e){var n={},o=[];if(0===t.length||0===this.grid.length&&0===this.ignoredGrid.length)return o;for(var i=this.collisionBoxArray,s=this.rotationMatrix,u=this.yStretch,l=[],c=1/0,f=1/0,p=-(1/0),h=-(1/0),d=0;d<t.length;d++)for(var m=t[d],y=0;y<m.length;y++){var v=m[y].matMult(s);c=Math.min(c,v.x),f=Math.min(f,v.y),p=Math.max(p,v.x),h=Math.max(h,v.y),l.push(v)}for(var g=this.grid.query(c,f,p,h),_=this.ignoredGrid.query(c,f,p,h),b=0;b<_.length;b++)g.push(_[b]);for(var x=Math.pow(2,Math.ceil(Math.log(e)/Math.LN2*10)/10),w=0;w<g.length;w++){var E=i.get(g[w]),S=E.sourceLayerIndex,M=E.featureIndex;if(void 0===n[S]&&(n[S]={}),!n[S][M]&&!(x<E.placementScale||x>E.maxScale)){var T=E.anchorPoint.matMult(s),C=T.x+E.x1/e,k=T.y+E.y1/e*u,P=T.x+E.x2/e,A=T.y+E.y2/e*u,R=[new r(C,k),new r(P,k),new r(P,A),new r(C,A)];a.polygonIntersectsPolygon(l,R)&&(n[S][M]=!0,o.push(g[w]))}}return o},s.prototype.getPlacementScale=function(t,e,n,r,o){var i=e.x-r.x,a=e.y-r.y,s=(o.x1-n.x2)/i,u=(o.x2-n.x1)/i,l=(o.y1-n.y2)*this.yStretch/a,c=(o.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(u))&&(s=u=1),(isNaN(l)||isNaN(c))&&(l=c=1);var f=Math.min(Math.max(s,u),Math.max(l,c)),p=o.maxScale,h=n.maxScale;return f>p&&(f=p),f>h&&(f=h),f>t&&f>=o.placementScale&&(t=f),t},s.prototype.insertCollisionFeature=function(t,e,n){for(var r=this,o=n?this.ignoredGrid:this.grid,i=this.collisionBoxArray,a=t.boxStartIndex;a<t.boxEndIndex;a++){var s=i.get(a);s.placementScale=e,e<r.maxScale&&o.insert(a,s.bbox0,s.bbox1,s.bbox2,s.bbox3)}},e.exports=s},{"../data/extent":11,"../util/intersection_tests":122,"grid-index":149,"point-geometry":197}],81:[function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,u,l){var c=r?.6*a*s:0,f=Math.max(r?r.right-r.left:0,i?i.right-i.left:0),p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;e-f*s<e/4&&(e=f*s+e/4);var h=2*a,d=p?e/2*u%e:(f/2+h)*s*u%e;return o(t,d,e,c,n,f*s,p,!1,l)}function o(t,e,n,r,u,l,c,f,p){for(var h=l/2,d=0,m=0;m<t.length-1;m++)d+=t[m].dist(t[m+1]);for(var y=0,v=e-n,g=[],_=0;_<t.length-1;_++){for(var b=t[_],x=t[_+1],w=b.dist(x),E=x.angleTo(b);v+n<y+w;){v+=n;var S=(v-y)/w,M=i(b.x,x.x,S),T=i(b.y,x.y,S);if(M>=0&&M<p&&T>=0&&T<p&&v-h>=0&&v+h<=d){var C=new a(M,T,E,_)._round();r&&!s(t,C,l,r,u)||g.push(C)}}y+=w}return f||g.length||c||(g=o(t,y/2,n,r,u,l,c,!0,p)),g}var i=t("../util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../symbol/anchor":75,"../util/interpolate":121,"./check_max_angle":76}],82:[function(t,e,n){"use strict";var r=t("shelf-pack"),o=t("../util/util"),i=4,a=128,s=2048,u=function(){this.width=a,this.height=a,this.bin=new r(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};u.prototype.getGlyphs=function(){var t,e,n,r={};for(var o in this.ids)t=o.split("#"),e=t[0],n=t[1],r[e]||(r[e]=[]),r[e].push(n);return r},u.prototype.getRects=function(){var t,e,n,r=this,o={};for(var i in this.ids)t=i.split("#"),e=t[0],n=t[1],o[e]||(o[e]={}),o[e][n]=r.index[i];return o},u.prototype.addGlyph=function(t,e,n,r){var i=this;if(!n)return null;var a=e+"#"+n.id;if(this.index[a])return this.ids[a].indexOf(t)<0&&this.ids[a].push(t),this.index[a];if(!n.bitmap)return null;var s=n.width+2*r,u=n.height+2*r,l=1,c=s+2*l,f=u+2*l;c+=4-c%4,f+=4-f%4;var p=this.bin.packOne(c,f);if(p||(this.resize(),p=this.bin.packOne(c,f)),!p)return o.warnOnce("glyph bitmap overflow"),null;this.index[a]=p,this.ids[a]=[t];for(var h=this.data,d=n.bitmap,m=0;m<u;m++)for(var y=i.width*(p.y+m+l)+p.x+l,v=s*m,g=0;g<s;g++)h[y+g]=d[v+g];return this.dirty=!0,p},u.prototype.resize=function(){var t=this,e=this.width,n=this.height;if(!(e>=s||n>=s)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=i,this.height*=i,this.bin.resize(this.width,this.height);for(var r=new ArrayBuffer(this.width*this.height),o=0;o<n;o++){var a=new Uint8Array(t.data.buffer,n*o,e),u=new Uint8Array(r,n*o*i,e);u.set(a)}this.data=new Uint8Array(r)}},u.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},u.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)},e.exports=u},{"../util/util":129,"shelf-pack":200}],83:[function(t,e,n){"use strict";function r(t,e,n,r){return r=r||"abc",n.replace("{s}",r[t.length%r.length]).replace("{fontstack}",t).replace("{range}",e)}var o=t("../util/mapbox").normalizeGlyphsURL,i=t("../util/ajax"),a=t("../util/verticalize_punctuation"),s=t("../util/glyphs"),u=t("../symbol/glyph_atlas"),l=t("pbf"),c=function(t,e,n){var r=1;this.advance=t.advance,this.left=t.left-n-r,this.top=t.top+n+r,this.rect=e},f=function(t){this.url=t&&o(t),this.atlases={},this.stacks={},this.loading={}};f.prototype.getSimpleGlyphs=function(t,e,n,r){var o=this;void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new u);for(var i={},s=this.stacks[t],l=this.atlases[t],f=3,p={},h=0,d=function(e){var r=Math.floor(e/256);if(s[r]){var o=s[r].glyphs[e],a=l.addGlyph(n,t,o,f);o&&(i[e]=new c(o,a,f))}else void 0===p[r]&&(p[r]=[],h++),p[r].push(e)},m=0;m<e.length;m++){var y=e[m],v=String.fromCharCode(y);d(y),a.lookup[v]&&d(a.lookup[v].charCodeAt(0))}h||r(void 0,i,t);var g=function(e,a,s){if(!e)for(var u=o.stacks[t][a]=s.stacks[0],d=0;d<p[a].length;d++){var m=p[a][d],y=u.glyphs[m],v=l.addGlyph(n,t,y,f);y&&(i[m]=new c(y,v,f))}h--,h||r(void 0,i,t)};for(var _ in p)o.loadRange(t,_,g)},f.prototype.loadRange=function(t,e,n){if(256*e>65535)return n("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var o=this.loading[t];if(o[e])o[e].push(n);else{o[e]=[n];var a=256*e+"-"+(256*e+255),u=r(t,a,this.url);i.getArrayBuffer(u,function(t,n){for(var r=!t&&new s(new l(n.data)),i=0;i<o[e].length;i++)o[e][i](t,e,r);delete o[e]})}},f.prototype.getGlyphAtlas=function(t){return this.atlases[t]},e.exports=f},{"../symbol/glyph_atlas":82,"../util/ajax":109,"../util/glyphs":120,"../util/mapbox":125,"../util/verticalize_punctuation":131,pbf:196}],84:[function(t,e,n){"use strict";e.exports=function(t){function e(e){s.push(t[e]),u++}function n(t,e,n){var r=a[t];return delete a[t],a[e]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(t,e,n){var r=i[e];return delete i[e],i[t]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function o(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var i={},a={},s=[],u=0,l=0;l<t.length;l++){var c=t[l],f=c.geometry,p=c.text;if(p){var h=o(p,f),d=o(p,f,!0);if(h in a&&d in i&&a[h]!==i[d]){var m=r(h,d,f),y=n(h,d,s[m].geometry);delete i[h],delete a[d],a[o(p,s[y].geometry,!0)]=y,s[m].geometry=null}else h in a?n(h,d,f):d in i?r(h,d,f):(e(l),i[h]=u-1,a[d]=u-1)}else e(l)}return s.filter(function(t){return t.geometry})}},{}],85:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,u,l,c){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=r,this.br=o,this.tex=i,this.anchorAngle=a,this.glyphAngle=s,this.minScale=u,this.maxScale=l,this.writingMode=c}function o(t,e,n,o,i,a,l,c,f){var p,h,d,m,y=e.image.rect,v=i.layout,g=1,_=e.left-g,b=_+y.w/e.image.pixelRatio,x=e.top-g,w=x+y.h/e.image.pixelRatio;if("none"!==v["icon-text-fit"]&&l){var E=b-_,S=w-x,M=v["text-size"]/24,T=l.left*M,C=l.right*M,k=l.top*M,P=l.bottom*M,A=C-T,R=P-k,O=v["icon-text-fit-padding"][0],I=v["icon-text-fit-padding"][1],L=v["icon-text-fit-padding"][2],N=v["icon-text-fit-padding"][3],D="width"===v["icon-text-fit"]?.5*(R-S):0,j="height"===v["icon-text-fit"]?.5*(A-E):0,z="width"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?A:E,U="height"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?R:S;p=new s(T+j-N,k+D-O),h=new s(T+j+I+z,k+D-O),d=new s(T+j+I+z,k+D+L+U),m=new s(T+j-N,k+D+L+U)}else p=new s(_,x),h=new s(b,x),d=new s(b,w),m=new s(_,w);var F=i.getLayoutValue("icon-rotate",c,f)*Math.PI/180;if(a){var B=o[t.segment];if(t.y===B.y&&t.x===B.x&&t.segment+1<o.length){var q=o[t.segment+1];F+=Math.atan2(t.y-q.y,t.x-q.x)+Math.PI}else F+=Math.atan2(t.y-B.y,t.x-B.x)}if(F){var V=Math.sin(F),H=Math.cos(F),W=[H,-V,V,H];p=p.matMult(W),h=h.matMult(W),m=m.matMult(W),d=d.matMult(W)}return[new r(new s(t.x,t.y),p,h,m,d,e.image.rect,0,0,u,1/0)]}function i(t,e,n,o,i,l){for(var c=i.layout["text-rotate"]*Math.PI/180,f=i.layout["text-keep-upright"],p=e.positionedGlyphs,h=[],d=0;d<p.length;d++){var m=p[d],y=m.glyph;if(y){var v=y.rect;if(v){var g,_=(m.x+y.advance/2)*n,b=u;l?(g=[],b=a(g,t,_,o,t.segment,!0),f&&(b=Math.min(b,a(g,t,_,o,t.segment,!1)))):g=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:u}];var x=m.x+y.left,w=m.y-y.top,E=x+v.w,S=w+v.h,M=new s(m.x,y.advance/2),T=new s(x,w),C=new s(E,w),k=new s(x,S),P=new s(E,S);0!==m.angle&&(T._sub(M)._rotate(m.angle)._add(M),C._sub(M)._rotate(m.angle)._add(M),k._sub(M)._rotate(m.angle)._add(M),P._sub(M)._rotate(m.angle)._add(M));for(var A=0;A<g.length;A++){var R=g[A],O=T,I=C,L=k,N=P;if(c){var D=Math.sin(c),j=Math.cos(c),z=[j,-D,D,j];O=O.matMult(z),I=I.matMult(z),L=L.matMult(z),N=N.matMult(z)}var U=Math.max(R.minScale,b),F=(t.angle+R.offset+2*Math.PI)%(2*Math.PI),B=(R.angle+R.offset+2*Math.PI)%(2*Math.PI);h.push(new r(R.anchorPoint,O,I,L,N,v,F,B,U,R.maxScale,e.writingMode))}}}}return h}function a(t,e,n,r,o,i){var a=!i;n<0&&(i=!i),i&&o++;var l=new s(e.x,e.y),c=r[o],f=1/0;n=Math.abs(n);for(var p=u;;){var h=l.dist(c),d=n/h,m=Math.atan2(c.y-l.y,c.x-l.x);if(i||(m+=Math.PI),t.push({anchorPoint:l,offset:a?Math.PI:0,minScale:d,maxScale:f,angle:(m+2*Math.PI)%(2*Math.PI)}),d<=p)break;for(l=c;l.equals(c);)if(o+=i?1:-1,c=r[o],!c)return d;var y=c.sub(l)._unit();l=l.sub(y._mult(h)),f=d}return p}var s=t("point-geometry");e.exports={getIconQuads:o,getGlyphQuads:i,SymbolQuad:r};var u=.5},{"point-geometry":197}],86:[function(t,e,n){"use strict";var r=t("../util/token");e.exports=function(t,e){var n=r(t.properties,e["text-field"]);if(n){n=n.toString();var o=e["text-transform"];return"uppercase"===o?n=n.toLocaleUpperCase():"lowercase"===o&&(n=n.toLocaleLowerCase()),n}}},{"../util/token":128}],87:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.codePoint=t,this.x=e,this.y=n,this.glyph=r||null,this.angle=o}function o(t,e,n,r,o,i,a){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=r,this.left=o,this.right=i,this.writingMode=a}function i(t,e){for(var n=[],r=0,o=0,i=e;o<i.length;o+=1){var a=i[o];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}function a(t,e,n,r,a,s,u,l,c,f,d){var m=t.trim();d===x.vertical&&(m=_(m));var y,v=[],g=new o(v,m,c[1],c[1],c[0],c[0],d);return y=b.processBidirectionalText?b.processBidirectionalText(m,p(m,l,n,e)):i(m,p(m,l,n,e)),h(g,e,y,r,a,s,u,c,d,l,f),!!v.length&&g}function s(t,e,n,r){var o=0;for(var i in t){var a=r[t.charCodeAt(i)];a&&(o+=a.advance+e)}var s=Math.max(1,Math.ceil(o/n));return o/s}function u(t,e,n,r){var o=Math.pow(t-e,2);return r?t<e?o/2:2*o:o+Math.abs(n)*n}function l(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function c(t,e,n,r,o,i){for(var a=null,s=u(e,n,o,i),l=0,c=r;l<c.length;l+=1){var f=c[l],p=e-f.x,h=u(p,n,o,i)+f.badness;h<=s&&(a=f,s=h)}return{index:t,x:e,priorBreak:a,badness:s}}function f(t){return t?f(t.priorBreak).concat(t.index):[]}function p(t,e,n,r){if(!n)return[];if(!t)return[];for(var o=[],i=s(t,e,n,r),a=0,u=0;u<t.length;u++){var p=t.charCodeAt(u),h=r[p];h&&!w[p]&&(a+=h.advance+e),u<t.length-1&&(E[p]||g.charAllowsIdeographicBreaking(p))&&o.push(c(u+1,a,i,o,l(p,t.charCodeAt(u+1)),!1))}return f(c(t.length,a,i,o,0,!0))}function h(t,e,n,o,i,a,s,u,l,c,f){var p=-17,h=0,y=p,v=0,_=t.positionedGlyphs;for(var b in n){var w=n[b].trim();if(w.length){for(var E=_.length,S=0;S<w.length;S++){var M=w.charCodeAt(S),T=e[M];T&&(g.charHasUprightVerticalOrientation(M)&&l!==x.horizontal?(_.push(new r(M,h,0,T,-Math.PI/2)),h+=f+c):(_.push(new r(M,h,y,T,0)),h+=T.advance+c))}if(_.length!==E){var C=h-c;v=Math.max(C,v),d(_,e,E,_.length-1,s)}h=0,y+=o}else y+=o}m(_,s,i,a,v,o,n.length,u);var k=n.length*o;t.top+=-a*k,t.bottom=t.top+k,t.left+=-i*v,t.right=t.left+v}function d(t,e,n,r,o){if(o)for(var i=e[t[r].codePoint].advance,a=(t[r].x+i)*o,s=n;s<=r;s++)t[s].x-=a}function m(t,e,n,r,o,i,a,s){for(var u=(e-n)*o+s[0],l=(-r*a+.5)*i+s[1],c=0;c<t.length;c++)t[c].x+=u,t[c].y+=l}function y(t,e){if(!t||!t.rect)return null;var n=e[0],r=e[1],o=n-t.width/2,i=o+t.width,a=r-t.height/2,s=a+t.height;return new v(t,a,s,o,i)}function v(t,e,n,r,o){this.image=t,this.top=e,this.bottom=n,this.left=r,this.right=o}var g=t("../util/script_detection"),_=t("../util/verticalize_punctuation"),b=t("../source/rtl_text_plugin"),x={horizontal:1,vertical:2};e.exports={shapeText:a,shapeIcon:y,WritingMode:x};var w={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},E={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":49,"../util/script_detection":126,"../util/verticalize_punctuation":131}],88:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,s,u,l,c){var f,p,h=r*e+n,d=s*i+a;if(c)for(d-=i,p=-1;p<=l;p++,h=((p+l)%l+r)*e+n,d+=i)for(f=-1;f<=u;f++)o[d+f]=t[h+(f+u)%u];else for(p=0;p<l;p++,h+=e,d+=i)for(f=0;f<u;f++)o[d+f]=t[h+f]}var o=t("shelf-pack"),i=t("../util/browser"),a=t("../util/util"),s=function(t,e,n,r,o){this.rect=t,this.width=e,this.height=n,this.sdf=r,this.pixelRatio=o},u=function(t,e){this.width=t,this.height=e,this.bin=new o(t,e),this.images={},
this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0};u.prototype.allocateImage=function(t,e){t/=this.pixelRatio,e/=this.pixelRatio;var n=2,r=t+n+(4-(t+n)%4),o=e+n+(4-(e+n)%4),i=this.bin.packOne(r,o);return i?i:(a.warnOnce("SpriteAtlas out of space."),null)},u.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var o=new s(r,n.width/n.pixelRatio,n.height/n.pixelRatio,n.sdf,n.pixelRatio/this.pixelRatio);return this.images[t]=o,this.copy(r,n,e),o},u.prototype.getPosition=function(t,e){var n=this.getImage(t,e),r=n&&n.rect;if(!r)return null;var o=n.width*n.pixelRatio,i=n.height*n.pixelRatio,a=1;return{size:[n.width,n.height],tl:[(r.x+a)/this.width,(r.y+a)/this.height],br:[(r.x+a+o)/this.width,(r.y+a+i)/this.height]}},u.prototype.allocate=function(){var t=this;if(!this.data){var e=Math.floor(this.width*this.pixelRatio),n=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(e*n);for(var r=0;r<this.data.length;r++)t.data[r]=0}},u.prototype.copy=function(t,e,n){if(this.sprite.imgData){var o=new Uint32Array(this.sprite.imgData.buffer);this.allocate();var i=this.data,a=1;r(o,this.sprite.width,e.x,e.y,i,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,n),this.dirty=!0}},u.prototype.setSprite=function(t){t&&(this.pixelRatio=i.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},u.prototype.addIcons=function(t,e){for(var n=this,r=0;r<t.length;r++)n.getImage(t[r]);e(null,this.images)},u.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n=!0);var r=e?t.LINEAR:t.NEAREST;r!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},e.exports=u},{"../util/browser":110,"../util/util":129,"shelf-pack":200}],89:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("point-geometry"),i=r({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"},{type:"Uint8",name:"writingModes"}]});Object.defineProperty(i.prototype.StructType.prototype,"anchorPoint",{get:function(){return new o(this.anchorPointX,this.anchorPointY)}}),e.exports=i},{"../util/struct_array":127,"point-geometry":197}],90:[function(t,e,n){"use strict";var r=t("../util/struct_array"),o=t("point-geometry"),i=t("./quads").SymbolQuad,a=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"},{type:"Uint8",name:"writingMode"}]});Object.defineProperty(a.prototype.StructType.prototype,"anchorPoint",{get:function(){return new o(this.anchorPointX,this.anchorPointY)}}),Object.defineProperty(a.prototype.StructType.prototype,"SymbolQuad",{get:function(){return new i(this.anchorPoint,new o(this.tlX,this.tlY),new o(this.trX,this.trY),new o(this.blX,this.blY),new o(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale,this.writingMode)}}),e.exports=a},{"../util/struct_array":127,"./quads":85,"point-geometry":197}],91:[function(t,e,n){"use strict";var r=t("../util/dom"),o=t("point-geometry"),i={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){v("mouseout",t)}function a(e){t.stop(),w=r.mousePos(_,e),v("mousedown",e),x=!0}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();b&&!n&&v("contextmenu",b),b=null,x=!1,v("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==_;)n=n.parentNode;n===_&&v("mousemove",e)}}function l(e){t.stop(),g("touchstart",e),!e.touches||e.touches.length>1||(E?(clearTimeout(E),E=null,v("dblclick",e)):E=setTimeout(h,300))}function c(t){g("touchmove",t)}function f(t){g("touchend",t)}function p(t){g("touchcancel",t)}function h(){E=null}function d(t){var e=r.mousePos(_,t);e.equals(w)&&v("click",t)}function m(t){v("dblclick",t),t.preventDefault()}function y(e){var n=t.dragRotate&&t.dragRotate.isActive();x||n?x&&(b=e):v("contextmenu",e),e.preventDefault()}function v(e,n){var o=r.mousePos(_,n);return t.fire(e,{lngLat:t.unproject(o),point:o,originalEvent:n})}function g(e,n){var i=r.touchPos(_,n),a=i.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new o(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:i.map(function(e){return t.unproject(e)},this),points:i,originalEvent:n})}var _=t.getCanvasContainer(),b=null,x=!1,w=null,E=null;for(var S in i)t[S]=new i[S](t,e),e.interactive&&e[S]&&t[S].enable(e[S]);_.addEventListener("mouseout",n,!1),_.addEventListener("mousedown",a,!1),_.addEventListener("mouseup",s,!1),_.addEventListener("mousemove",u,!1),_.addEventListener("touchstart",l,!1),_.addEventListener("touchend",f,!1),_.addEventListener("touchmove",c,!1),_.addEventListener("touchcancel",p,!1),_.addEventListener("click",d,!1),_.addEventListener("dblclick",m,!1),_.addEventListener("contextmenu",y,!1)}},{"../util/dom":117,"./handler/box_zoom":97,"./handler/dblclick_zoom":98,"./handler/drag_pan":99,"./handler/drag_rotate":100,"./handler/keyboard":101,"./handler/scroll_zoom":102,"./handler/touch_zoom_rotate":103,"point-geometry":197}],92:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/interpolate"),i=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),u=t("point-geometry"),l=t("../util/evented"),c=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e),this},e.prototype.panBy=function(t,e,n){return this.panTo(this.transform.center,r.extend({offset:u.convert(t).mult(-1)},e),n),this},e.prototype.panTo=function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){e=r.extend({padding:0,offset:[0,0],maxZoom:this.getMaxZoom()},e),t=s.convert(t);var o=u.convert(e.offset),i=this.transform,a=i.project(t.getNorthWest()),l=i.project(t.getSouthEast()),c=l.sub(a),f=(i.width-2*e.padding-2*Math.abs(o.x))/c.x,p=(i.height-2*e.padding-2*Math.abs(o.y))/c.y;return e.center=i.unproject(a.add(l).div(2)),e.zoom=Math.min(i.scaleZoom(i.scale*Math.min(f,p)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n)},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,o=!1,i=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),"center"in t&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(i=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),o&&this.fire("rotate",e),i&&this.fire("pitch",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t);var i,s,l=this.transform,c=u.convert(t.offset),f=this.getZoom(),p=this.getBearing(),h=this.getPitch(),d="zoom"in t?+t.zoom:f,m="bearing"in t?this._normalizeBearing(t.bearing,p):p,y="pitch"in t?+t.pitch:h;"center"in t?(i=a.convert(t.center),s=l.centerPoint.add(c)):"around"in t?(i=a.convert(t.around),s=l.locationPoint(i)):(s=l.centerPoint.add(c),i=l.pointLocation(s));var v=l.locationPoint(i);return t.animate===!1&&(t.duration=0),this.zooming=d!==f,this.rotating=p!==m,this.pitching=y!==h,t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration)),t.noMoveStart||(this.moving=!0,this.fire("movestart",e)),this.zooming&&this.fire("zoomstart",e),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(l.zoom=o(f,d,t)),this.rotating&&(l.bearing=o(p,m,t)),this.pitching&&(l.pitch=o(h,y,t)),l.setLocationAtPoint(i,v.add(s.sub(v)._mult(t))),this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(n._easeToEnd.bind(n,e),t.delayEndEvents):n._easeToEnd(e)},t),this},e.prototype._easeToEnd=function(t){var e=this.zooming;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(S*S-E*E+(t?-1:1)*k*k*M*M)/(2*(t?S:E)*k*M);return Math.log(Math.sqrt(e*e+1)-e)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return i(t)/s(t)}this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var c=this.transform,f=u.convert(t.offset),p=this.getZoom(),h=this.getBearing(),d=this.getPitch(),m="center"in t?a.convert(t.center):this.getCenter(),y="zoom"in t?+t.zoom:p,v="bearing"in t?this._normalizeBearing(t.bearing,h):h,g="pitch"in t?+t.pitch:d;Math.abs(c.center.lng)+Math.abs(m.lng)>180&&(c.center.lng>0&&m.lng<0?m.lng+=360:c.center.lng<0&&m.lng>0&&(m.lng-=360));var _=c.zoomScale(y-p),b=c.point,x="center"in t?c.project(m).sub(f.div(_)):b,w=t.curve,E=Math.max(c.width,c.height),S=E/_,M=x.sub(b).mag();if("minZoom"in t){var T=r.clamp(Math.min(t.minZoom,p,y),c.minZoom,c.maxZoom),C=E/c.zoomScale(T-p);w=Math.sqrt(C/M*2)}var k=w*w,P=n(0),A=function(t){return s(P)/s(P+w*t)},R=function(t){return E*((s(P)*l(P+w*t)-i(P))/k)/M},O=(n(1)-P)/w;if(Math.abs(M)<1e-6){if(Math.abs(E-S)<1e-6)return this.easeTo(t);var I=S<E?-1:1;O=Math.abs(Math.log(S/E))/w,R=function(){return 0},A=function(t){return Math.exp(I*w*t)}}if("duration"in t)t.duration=+t.duration;else{var L="screenSpeed"in t?+t.screenSpeed/w:+t.speed;t.duration=1e3*O/L}return this.moving=!0,this.zooming=!0,h!==v&&(this.rotating=!0),d!==g&&(this.pitching=!0),this.fire("movestart",e),this.fire("zoomstart",e),this._ease(function(t){var n=t*O,r=R(n),i=1/A(n);c.zoom=p+c.scaleZoom(i),c.center=c.unproject(b.add(x.sub(b).mult(r)).mult(i)),this.rotating&&(c.bearing=o(h,v,t)),this.pitching&&(c.pitch=o(d,g,t)),this.fire("move",e),this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",e),this.fire("moveend",e)},t),this},e.prototype.isEasing=function(){return!!this._abortFn},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},e.prototype._ease=function(t,e,n){this._finishFn=e,this._abortFn=i.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},e.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._smoothOutEasing=function(t){var e=r.ease;if(this._prevEase){var n=this._prevEase,o=(Date.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);e=r.bezier(a,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},e}(l);e.exports=c},{"../geo/lng_lat":19,"../geo/lng_lat_bounds":20,"../util/browser":110,"../util/evented":118,"../util/interpolate":121,"../util/util":129,"point-geometry":197}],93:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=function(t){this.options=t,o.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};i.prototype.getDefaultPosition=function(){return"bottom-right"},i.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("data",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},i.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("data",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},i.prototype._updateEditLink=function(){if(this._editLink||(this._editLink=this._container.querySelector(".mapbox-improve-map")),this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}},i.prototype._updateData=function(t){"source"===t.dataType&&(this._updateAttributions(),this._updateEditLink())},i.prototype._updateAttributions=function(){if(this._map.style){var t=[],e=this._map.style.sourceCaches;for(var n in e){var r=e[n].getSource();r.attribution&&t.indexOf(r.attribution)<0&&t.push(r.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}),this._container.innerHTML=t.join(" | "),this._editLink=null}},i.prototype._updateCompact=function(){var t=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[t?"add":"remove"]("compact")},e.exports=i},{"../../util/dom":117,"../../util/util":129}],94:[function(t,e,n){"use strict";function r(t){void 0!==o?t(o):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(e){o="denied"!==e.state,t(o)}):(o=!!s.navigator.geolocation,t(o))}var o,i=t("../../util/evented"),a=t("../../util/dom"),s=t("../../util/window"),u=t("../../util/util"),l={enableHighAccuracy:!1,timeout:6e3},c="mapboxgl-ctrl",f=function(t){function e(e){t.call(this),this.options=e||{},u.bindAll(["_onSuccess","_onError","_finish","_setupUI"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div",c+" "+c+"-group"),r(this._setupUI),this._container},e.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},e.prototype._onSuccess=function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",t),this._finish()},e.prototype._onError=function(t){this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){t!==!1&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=a.create("button",c+"-icon "+c+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.watchPosition&&this._geolocateButton.setAttribute("aria-pressed",!1),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)))},e.prototype._onClickGeolocate=function(){var t=u.extend(l,this.options&&this.options.positionOptions||{});this.options.watchPosition?void 0!==this._geolocationWatchID?(this._geolocateButton.classList.remove("watching"),this._geolocateButton.setAttribute("aria-pressed",!1),s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0):(this._geolocateButton.classList.add("watching"),this._geolocateButton.setAttribute("aria-pressed",!0),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)):(s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,t),this._timeoutId=setTimeout(this._finish,1e4))},e}(i);e.exports=f},{"../../util/dom":117,"../../util/evented":118,"../../util/util":129,"../../util/window":112}],95:[function(t,e,n){"use strict";function r(t){return new i.MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var o=t("../../util/dom"),i=t("../../util/window"),a=t("../../util/util"),s="mapboxgl-ctrl",u=function(){a.bindAll(["_rotateCompassArrow"],this)};u.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},u.prototype.onAdd=function(t){return this._map=t,this._container=o.create("div",s+" "+s+"-group",t.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(s+"-icon "+s+"-zoom-in","Zoom In",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(s+"-icon "+s+"-zoom-out","Zoom Out",t.zoomOut.bind(t)),this._compass=this._createButton(s+"-icon "+s+"-compass","Reset North",t.resetNorth.bind(t)),this._compassArrow=o.create("span","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},u.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},u.prototype._onContextMenu=function(t){t.preventDefault()},u.prototype._onCompassDown=function(t){0===t.button&&(o.disableDrag(),i.document.addEventListener("mousemove",this._onCompassMove),i.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(r(t)),t.stopPropagation())},u.prototype._onCompassMove=function(t){0===t.button&&(this._map.getCanvasContainer().dispatchEvent(r(t)),t.stopPropagation())},u.prototype._onCompassUp=function(t){0===t.button&&(i.document.removeEventListener("mousemove",this._onCompassMove),i.document.removeEventListener("mouseup",this._onCompassUp),o.enableDrag(),this._map.getCanvasContainer().dispatchEvent(r(t)),t.stopPropagation())},u.prototype._createButton=function(t,e,n){var r=o.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",function(){n()}),r},e.exports=u},{"../../util/dom":117,"../../util/util":129,"../../util/window":112}],96:[function(t,e,n){"use strict";function r(t,e,n){var r=n&&n.maxWidth||100,a=t._container.clientHeight/2,s=i(t.unproject([0,a]),t.unproject([r,a]));if(n&&"imperial"===n.unit){var u=3.2808*s;if(u>5280){var l=u/5280;o(e,r,l,"mi")}else o(e,r,u,"ft")}else o(e,r,s,"m")}function o(t,e,n,r){var o=a(n),i=o/n;"m"===r&&o>=1e3&&(o/=1e3,r="km"),t.style.width=e*i+"px",t.innerHTML=o+r}function i(t,e){var n=6371e3,r=Math.PI/180,o=t.lat*r,i=e.lat*r,a=Math.sin(o)*Math.sin(i)+Math.cos(o)*Math.cos(i)*Math.cos((e.lng-t.lng)*r),s=n*Math.acos(Math.min(a,1));return s}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/dom"),u=t("../../util/util"),l=function(t){this.options=t,u.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){r(this._map,this._container,this.options)},l.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=l},{"../../util/dom":117,"../../util/util":129}],97:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../geo/lng_lat_bounds"),i=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),i.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(e.x,n.x),i=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=i-o+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),i=(new o).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(i,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:i})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":20,"../../util/dom":117,"../../util/util":129,"../../util/window":112}],98:[function(t,e,n){"use strict";var r=function(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},e.exports=r},{}],99:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=.3,s=o.bezier(0,0,a,1),u=1400,l=2500,c=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(i.document.addEventListener("touchmove",this._onMove),i.document.addEventListener("touchend",this._onTouchEnd)):(i.document.addEventListener("mousemove",this._onMove),i.document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},c.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){return e._fireEvent("moveend",t)},r=this._inertia;if(r.length<2)return void n();var o=r[r.length-1],i=r[0],c=o[1].sub(i[1]),f=(o[0]-i[0])/1e3;if(0===f||o[1].equals(i[1]))return void n();var p=c.mult(a/f),h=p.mag();h>u&&(h=u,p._unit()._mult(h));var d=h/(l*a),m=p.mult(-d/2);this._map.panBy(m,{duration:1e3*d,easing:s,noMoveStart:!0},{originalEvent:t})}},c.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),i.document.removeEventListener("mousemove",this._onMove),i.document.removeEventListener("mouseup",this._onMouseUp))},c.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,r=0;return"mousemove"===t.type?t.buttons&0===n:t.button!==r},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},e.exports=c},{"../../util/dom":117,"../../util/util":129,"../../util/window":112}],100:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=.25,s=o.bezier(0,0,a,1),u=180,l=720,c=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,this._pitchWithRotate=e.pitchWithRotate!==!1,o.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(i.document.addEventListener("mousemove",this._onMove),i.document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault())},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var n=this._pos,o=r.mousePos(this._el,t),i=.8*(n.x-o.x),a=(n.y-o.y)*-.5,s=e.getBearing()-i,u=e.getPitch()-a,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,c[1])]),e.transform.bearing=s,this._pitchWithRotate&&(e.transform.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=o}},c.prototype._onUp=function(t){var e=this;if(!this._ignoreEvent(t)&&(i.document.removeEventListener("mousemove",this._onMove),i.document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),o=this._inertia,c=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t)};if(o.length<2)return void c();var f=o[0],p=o[o.length-1],h=o[o.length-2],d=n._normalizeBearing(r,h[1]),m=p[1]-f[1],y=m<0?-1:1,v=(p[0]-f[0])/1e3;if(0===m||0===v)return void c();var g=Math.abs(m*(a/v));g>u&&(g=u);var _=g/(l*a),b=y*g*(_/2);d+=b,Math.abs(n._normalizeBearing(d,0))<this._bearingSnap&&(d=n._normalizeBearing(0,d)),n.rotateTo(d,{duration:1e3*_,easing:s,noMoveStart:!0},{originalEvent:t})}},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,r=t.ctrlKey?0:2,o=t.button;return"undefined"!=typeof InstallTrigger&&2===t.button&&t.ctrlKey&&i.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(o=0),"mousemove"===t.type?t.buttons&0===n:o!==r},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},e.exports=c},{"../../util/dom":117,"../../util/util":129,"../../util/window":112}],101:[function(t,e,n){"use strict";function r(t){return t*(2-t)}var o=100,i=15,a=10,s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},s.prototype._onKeyDown=function(t){
if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,s=0,u=0,l=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),u=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),u=1);break;case 38:t.shiftKey?s=1:(t.preventDefault(),l=-1);break;case 40:t.shiftKey?s=-1:(l=1,t.preventDefault())}var c=this._map,f=c.getZoom(),p={duration:300,delayEndEvents:500,easing:r,zoom:e?Math.round(f)+e*(t.shiftKey?2:1):f,bearing:c.getBearing()+n*i,pitch:c.getPitch()+s*a,offset:[-u*o,-l*o],center:c.getCenter()};c.easeTo(p,{originalEvent:t})}},e.exports=s},{}],102:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/browser"),a=t("../../util/window"),s=a.navigator.userAgent.toLowerCase(),u=s.indexOf("firefox")!==-1,l=s.indexOf("safari")!==-1&&s.indexOf("chrom")===-1,c=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(t){var e;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=i.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=i.now(),o=n-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(o*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(t,e){if(0!==t){var n=this._map,r=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==r&&(r=1/r);var o=n.ease?n.ease.to:n.transform.scale,i=n.transform.scaleZoom(o*r);n.zoomTo(i,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=c},{"../../util/browser":110,"../../util/dom":117,"../../util/util":129,"../../util/window":112}],103:[function(t,e,n){"use strict";var r=t("../../util/dom"),o=t("../../util/util"),i=t("../../util/window"),a=.15,s=o.bezier(0,0,a,1),u=12,l=2.5,c=.15,f=4,p=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onStart","_onMove","_onEnd"],this)};p.prototype.isEnabled=function(){return!!this._enabled},p.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},p.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},p.prototype.disableRotation=function(){this._rotationDisabled=!0},p.prototype.enableRotation=function(){this._rotationDisabled=!1},p.prototype._onStart=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],i.document.addEventListener("touchmove",this._onMove,!1),i.document.addEventListener("touchend",this._onEnd,!1)}},p.prototype._onMove=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),o=e.add(n).div(2),i=e.sub(n),a=i.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(o)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,o]),u.easeTo(l,{originalEvent:t})}else{var p=Math.abs(1-a)>c,h=Math.abs(s)>f;h?this._gestureIntent="rotate":p&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=i,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},p.prototype._onEnd=function(t){i.document.removeEventListener("touchmove",this._onMove),i.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],o=e[0],c=n.transform.scaleZoom(this._startScale*r[1]),f=n.transform.scaleZoom(this._startScale*o[1]),p=c-f,h=(r[0]-o[0])/1e3,d=r[2];if(0===h||c===f)return void n.snapToNorth({},{originalEvent:t});var m=p*a/h;Math.abs(m)>l&&(m=m>0?l:-l);var y=1e3*Math.abs(m/(u*a)),v=c+m*y/2e3;v<0&&(v=0),n.easeTo({zoom:v,duration:y,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(d)},{originalEvent:t})},p.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>2&&e-t[0][0]>n;)t.shift()},e.exports=p},{"../../util/dom":117,"../../util/util":129,"../../util/window":112}],104:[function(t,e,n){"use strict";var r=t("../util/util"),o=t("../util/window"),i=function(){r.bindAll(["_onHashChange","_updateHash"],this)};i.prototype.addTo=function(t){return this._map=t,o.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},i.prototype.remove=function(){return o.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},i.prototype._onHashChange=function(){var t=o.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},i.prototype._updateHash=function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this._map.getBearing(),r=this._map.getPitch(),i=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),a="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(i)+"/"+t.lng.toFixed(i);(n||r)&&(a+="/"+Math.round(10*n)/10),r&&(a+="/"+Math.round(r)),o.history.replaceState("","",a)},e.exports=i},{"../util/util":129,"../util/window":112}],105:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var o=t("../util/util"),i=t("../util/browser"),a=t("../util/window"),s=t("../util/dom"),u=t("../style/style"),l=t("../style/animation_loop"),c=t("../render/painter"),f=t("../geo/transform"),p=t("./hash"),h=t("./bind_handlers"),d=t("./camera"),m=t("../geo/lng_lat"),y=t("../geo/lng_lat_bounds"),v=t("point-geometry"),g=t("./control/attribution_control"),_=t("mapbox-gl-supported"),b=0,x=20,w={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:b,maxZoom:x,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0},E=function(t){function e(e){var n=this;e=o.extend({},w,e);var r=new f(e.minZoom,e.maxZoom,e.renderWorldCopies);if(t.call(this,r,e),this._interactive=e.interactive,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,"string"==typeof e.container){if(this._container=a.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else this._container=e.container;this.animationLoop=new l,e.maxBounds&&this.setMaxBounds(e.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),"undefined"!=typeof a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),h(this,e),this._hash=e.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style),e.attributionControl&&this.addControl(new g),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return e.indexOf("bottom")!==-1?r.insertBefore(n,r.firstChild):r.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.addClass=function(t,e){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.removeClass=function(t,e){o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var n=this._classes.indexOf(t);return n<0||""===t?this:(this._classes.splice(n,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.setClasses=function(t,e){o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var n={},r=0;r<t.length;r++)""!==t[r]&&(n[t[r]]=!0);return this._classes=Object.keys(n),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},e.prototype.hasClass=function(t){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0},e.prototype.getClasses=function(){return o.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n);var r=this.painter.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE)/2;return(this._canvas.width>i||this._canvas.height>i)&&o.warnOnce("Map is larger than maximum size supported by this system ("+i+"px by "+i+"px)."),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new y(this.transform.pointLocation(new v(0,this.transform.height)),this.transform.pointLocation(new v(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new v(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new v(0,this.transform.size.y)))),t},e.prototype.setMaxBounds=function(t){if(t){var e=y.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},e.prototype.setMinZoom=function(t){if(t=null===t||void 0===t?b:t,t>=b&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+b+" and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if(t=null===t||void 0===t?x:t,t>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(m.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(v.convert(t))},e.prototype.queryRenderedFeatures=function(){function t(t){return t instanceof v||Array.isArray(t)}var e,n={};return 2===arguments.length?(e=arguments[0],n=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(e),n,this.transform.zoom,this.transform.angle)},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[v.convert([0,0]),v.convert([this.transform.width,this.transform.height])]);var n,r=t instanceof v||"number"==typeof t[0];if(r){var o=v.convert(t);n=[o]}else{var i=[v.convert(t[0]),v.convert(t[1])];n=[i[0],new v(i[1].x,i[0].y),i[1],new v(i[0].x,i[1].y),i[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){var n=(!e||e.diff!==!1)&&this.style&&t&&!(t instanceof u)&&"string"!=typeof t;if(n)try{return this.style.setState(t)&&this._update(!0),this}catch(t){o.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof u?this.style=t:this.style=new u(t,this),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n,r){return this.style.setPaintProperty(t,e,n,r),this._update(!0),this},e.prototype.getPaintProperty=function(t,e,n){return this.style.getPaintProperty(t,e,n)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=s.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",0),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=s.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=s.create("div","mapboxgl-ctrl-"+t,r)})},e.prototype._resizeCanvas=function(t,e){var n=a.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=o.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},_.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);return e?void(this.painter=new c(e,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&i.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),i.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof a&&a.removeEventListener("resize",this._onWindowResize,!1);var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=i.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(d);e.exports=E},{"../geo/lng_lat":19,"../geo/lng_lat_bounds":20,"../geo/transform":21,"../render/painter":36,"../style/animation_loop":59,"../style/style":63,"../util/browser":110,"../util/dom":117,"../util/util":129,"../util/window":112,"./bind_handlers":91,"./camera":92,"./control/attribution_control":93,"./hash":104,"mapbox-gl-supported":193,"point-geometry":197}],106:[function(t,e,n){"use strict";var r=t("../util/dom"),o=t("../geo/lng_lat"),i=t("point-geometry"),a=function(t,e){this._offset=i.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),t||(t=r.create("div")),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};a.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},a.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),r.remove(this._element),this._popup&&this._popup.remove(),this},a.prototype.getLngLat=function(){return this._lngLat},a.prototype.setLngLat=function(t){return this._lngLat=o.convert(t),this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},a.prototype.getElement=function(){return this._element},a.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&(this._popup=t,this._popup.setLngLat(this._lngLat)),this},a.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},a.prototype.getPopup=function(){return this._popup},a.prototype.togglePopup=function(){var t=this._popup;t&&(t.isOpen()?t.remove():t.addTo(this._map))},a.prototype._update=function(t){if(this._map){var e=this._map.project(this._lngLat)._add(this._offset);t&&"moveend"!==t.type||(e=e.round()),r.setTransform(this._element,"translate("+e.x+"px, "+e.y+"px)")}},e.exports=a},{"../geo/lng_lat":19,"../util/dom":117,"point-geometry":197}],107:[function(t,e,n){"use strict";function r(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new l(0,t),"top-left":new l(e,e),"top-right":new l((-e),e),bottom:new l(0,(-t)),"bottom-left":new l(e,(-e)),"bottom-right":new l((-e),(-e)),left:new l(t,0),right:new l((-t),0)}}if(o(t)){var n=l.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(t.top||[0,0]),"top-left":l.convert(t["top-left"]||[0,0]),"top-right":l.convert(t["top-right"]||[0,0]),bottom:l.convert(t.bottom||[0,0]),"bottom-left":l.convert(t["bottom-left"]||[0,0]),"bottom-right":l.convert(t["bottom-right"]||[0,0]),left:l.convert(t.left||[0,0]),right:l.convert(t.right||[0,0])}}return r(new l(0,0))}function o(t){return t instanceof l||Array.isArray(t)}var i=t("../util/util"),a=t("../util/evented"),s=t("../util/dom"),u=t("../geo/lng_lat"),l=t("point-geometry"),c=t("../util/window"),f={closeButton:!0,closeOnClick:!0},p=function(t){function e(e){t.call(this),this.options=i.extend(Object.create(f),e),i.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=u.convert(t),this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(c.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=c.document.createDocumentFragment(),r=c.document.createElement("body");for(r.innerHTML=t;e=r.firstChild,e;)n.appendChild(e);return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this.options.anchor,e=r(this.options.offset),n=this._map.project(this._lngLat).round();if(!t){var o=this._container.offsetWidth,i=this._container.offsetHeight;t=n.y+e.bottom.y<i?["top"]:n.y>this._map.transform.height-i?["bottom"]:[],n.x<o/2?t.push("left"):n.x>this._map.transform.width-o/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var a=n.add(e[t]),u={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var c in u)l.remove("mapboxgl-popup-anchor-"+c);l.add("mapboxgl-popup-anchor-"+t),s.setTransform(this._container,u[t]+" translate("+a.x+"px,"+a.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(a);e.exports=p},{"../geo/lng_lat":19,"../util/dom":117,"../util/evented":118,"../util/util":129,"../util/window":112,"point-geometry":197}],108:[function(t,e,n){"use strict";var r=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};r.prototype.send=function(t,e,n,r,o){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n),this.target.postMessage({targetMapId:o,sourceMapId:this.mapId,type:t,id:String(i),data:e},r)},r.prototype.receive=function(t){var e,n=this,r=t.data,o=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var i=function(t,e,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(o),error:t?String(t):null,data:e},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&e(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,i);else if("undefined"!=typeof r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=this.parent.getWorkerSource(r.sourceMapId,a[0]);s[a[1]](r.data,i)}else this.parent[r.type](r.data)}},r.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=r},{}],109:[function(t,e,n){"use strict";function r(t){var e=o.document.createElement("a");return e.href=t,e.protocol===o.document.location.protocol&&e.host===o.document.location.host}var o=t("./window");n.getJSON=function(t,e){var n=new o.XMLHttpRequest;return n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new o.XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onerror=function(t){e(t)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?e(new Error("http status 200 returned without content.")):void(n.status>=200&&n.status<300&&n.response?e(null,{data:n.response,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new Error(n.statusText)))},n.send(),n};var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var r=new o.Image,a=o.URL||o.webkitURL;r.onload=function(){e(null,r),a.revokeObjectURL(r.src)};var s=new o.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?a.createObjectURL(s):i})},n.getVideo=function(t,e){var n=o.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var i=0;i<t.length;i++){var a=o.document.createElement("source");r(t[i])||(n.crossOrigin="Anonymous"),a.src=t[i],n.appendChild(a)}return n}},{"./window":112}],110:[function(t,e,n){"use strict";var r=t("./window");e.exports.now=function(){return r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date)}();var o=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame;n.frame=function(t){return o(t)};var i=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;n.cancelFrame=function(t){i(t)},n.timed=function(t,r,o){function i(u){a||(u=e.exports.now(),u>=s+r?t.call(o,1):(t.call(o,(u-s)/r),n.frame(i)))}if(!r)return t.call(o,1),null;var a=!1,s=e.exports.now();return n.frame(i),function(){a=!0}},n.getImageData=function(t){var e=r.document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height).data},n.supported=t("mapbox-gl-supported"),n.hardwareConcurrency=r.navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return r.devicePixelRatio}}),n.supportsWebp=!1;var a=r.document.createElement("img");a.onload=function(){n.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":112,"mapbox-gl-supported":193}],111:[function(t,e,n){"use strict";var r=t("webworkify"),o=t("../window"),i=o.URL.createObjectURL(new r(t("../../source/worker"),{bare:!0}));e.exports=function(){return new o.Worker(i)}},{"../../source/worker":57,"../window":112,webworkify:213}],112:[function(t,e,n){"use strict";e.exports=self},{}],113:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}var o=t("quickselect"),i=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,u=[],l=0;l<n;l++){var c=i(t[l]);0!==c&&(t[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&u.push(a),a=[t[l]]):a.push(t[l]))}if(a&&u.push(a),e>1)for(var f=0;f<u.length;f++)u[f].length<=e||(o(u[f],e,1,u[f].length-1,r),u[f]=u[f].slice(0,e));return u}},{"./util":129,quickselect:199}],114:[function(t,e,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=r},{}],115:[function(t,e,n){
"use strict";var r=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];e._stringToNumber[r]=n,e._numberToString[n]=r}};r.prototype.encode=function(t){return this._stringToNumber[t]},r.prototype.decode=function(t){return this._numberToString[t]},e.exports=r},{}],116:[function(t,e,n){"use strict";var r=t("./util"),o=t("./actor"),i=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var s=i[a],u=new o(s,e,n.id);u.name="Worker "+a,n.actors.push(u)}};i.prototype.broadcast=function(t,e,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},i.prototype.send=function(t,e,n,r,o){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n,o),r},i.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=i},{"./actor":108,"./util":129}],117:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in u)return t[e];return t[0]}function o(t){t.preventDefault(),t.stopPropagation(),a.removeEventListener("click",o,!0)}var i=t("point-geometry"),a=t("./window");n.create=function(t,e,n){var r=a.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r};var s,u=a.document.documentElement.style,l=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){l&&(s=u[l],u[l]="none")},n.enableDrag=function(){l&&(u[l]=s)};var c=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[c]=e},n.suppressClick=function(){a.addEventListener("click",o,!0),a.setTimeout(function(){a.removeEventListener("click",o,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new i(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],o="touchend"===e.type?e.changedTouches:e.touches,a=0;a<o.length;a++)r.push(new i(o[a].clientX-n.left-t.clientLeft,o[a].clientY-n.top-t.clientTop));return r},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":112,"point-geometry":197}],118:[function(t,e,n){"use strict";var r=t("./util"),o=function(){};o.prototype.on=function(t,e){return this._listeners=this._listeners||{},this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e),this},o.prototype.off=function(t,e){if(this._listeners&&this._listeners[t]){var n=this._listeners[t].indexOf(e);n!==-1&&this._listeners[t].splice(n,1)}return this},o.prototype.once=function(t,e){var n=this,r=function(o){n.off(t,r),e.call(n,o)};return this.on(t,r),this},o.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=r.extend({},e,{type:t,target:this});for(var o=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],i=0;i<o.length;i++)o[i].call(n,e);this._eventedParent&&this._eventedParent.fire(t,r.extend({},e,this._eventedParentData))}else r.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},o.prototype.listens=function(t){return this._listeners&&this._listeners[t]||this._eventedParent&&this._eventedParent.listens(t)},o.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData="function"==typeof e?e():e,this},e.exports=o},{"./util":129}],119:[function(t,e,n){"use strict";function r(t,e){return e.max-t.max}function o(t,e,n,r){this.p=new u(t,e),this.h=n,this.d=i(this.p,r),this.max=this.d+this.h*Math.SQRT2}function i(t,e){for(var n=!1,r=1/0,o=0;o<e.length;o++)for(var i=e[o],a=0,s=i.length,u=s-1;a<s;u=a++){var c=i[a],f=i[u];c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n),r=Math.min(r,l(t,c,f))}return(n?1:-1)*Math.sqrt(r)}function a(t){for(var e=0,n=0,r=0,i=t[0],a=0,s=i.length,u=s-1;a<s;u=a++){var l=i[a],c=i[u],f=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*f,r+=(l.y+c.y)*f,e+=3*f}return new o(n/e,r/e,0,t)}var s=t("tinyqueue"),u=t("point-geometry"),l=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){e=e||1;for(var i,u,l,c,f=t[0],p=0;p<f.length;p++){var h=f[p];(!p||h.x<i)&&(i=h.x),(!p||h.y<u)&&(u=h.y),(!p||h.x>l)&&(l=h.x),(!p||h.y>c)&&(c=h.y)}for(var d=l-i,m=c-u,y=Math.min(d,m),v=y/2,g=new s(null,r),_=i;_<l;_+=y)for(var b=u;b<c;b+=y)g.push(new o(_+v,b+v,v,t));for(var x=a(t),w=g.length;g.length;){var E=g.pop();E.d>x.d&&(x=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,w)),E.max-x.d<=e||(v=E.h/2,g.push(new o(E.p.x-v,E.p.y-v,v,t)),g.push(new o(E.p.x+v,E.p.y-v,v,t)),g.push(new o(E.p.x-v,E.p.y+v,v,t)),g.push(new o(E.p.x+v,E.p.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":122,"point-geometry":197,tinyqueue:202}],120:[function(t,e,n){"use strict";function r(t,e){this.stacks=t.readFields(o,[],e)}function o(t,e,n){if(1===t){var r=n.readMessage(i,{glyphs:{}});e.push(r)}}function i(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var r=n.readMessage(a,{});e.glyphs[r.id]=r}}function a(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=r},{}],121:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}e.exports=r,r.number=r,r.vec2=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n)]},r.color=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n),r(t[2],e[2],n),r(t[3],e[3],n)]},r.array=function(t,e,n){return t.map(function(t,o){return r(t,e[o],n)})}},{}],122:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)if(h(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(h(t,e[r]))return!0;return!!u(t,e)}function o(t,e,n){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var u=a[s];if(h(o,u))return!0;if(c(u,o,n))return!0}return!1}function i(t,e){if(1===t.length&&1===t[0].length)return p(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.length;o++)if(p(t,r[o]))return!0;for(var i=0;i<t.length;i++){for(var a=t[i],s=0;s<a.length;s++)if(p(e,a[s]))return!0;for(var l=0;l<e.length;l++)if(u(a,e[l]))return!0}return!1}function a(t,e,n){for(var r=0;r<e.length;r++)for(var o=e[r],i=0;i<t.length;i++){var a=t[i];if(a.length>=3)for(var u=0;u<o.length;u++)if(h(a,o[u]))return!0;if(s(a,o,n))return!0}return!1}function s(t,e,n){if(t.length>1){if(u(t,e))return!0;for(var r=0;r<e.length;r++)if(c(e[r],t,n))return!0}for(var o=0;o<t.length;o++)if(c(t[o],e,n))return!0;return!1}function u(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],o=t[n+1],i=0;i<e.length-1;i++){var a=e[i],s=e[i+1];if(l(r,o,a,s))return!0}return!1}function l(t,e,n,r){return d(t,n,r)!==d(e,n,r)&&d(t,e,n)!==d(t,e,r)}function c(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var o=1;o<e.length;o++){var i=e[o-1],a=e[o];if(f(t,i,a)<r)return!0}return!1}function f(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var o=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return o<0?t.distSqr(e):o>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(o)._add(e))}function p(t,e){for(var n,r,o,i=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],o=n[u],r.y>e.y!=o.y>e.y&&e.x<(o.x-r.x)*(e.y-r.y)/(o.y-r.y)+r.x&&(i=!i)}return i}function h(t,e){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r],a=t[o];i.y>e.y!=a.y>e.y&&e.x<(a.x-i.x)*(e.y-i.y)/(a.y-i.y)+i.x&&(n=!n)}return n}var d=t("./util").isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:o,multiPolygonIntersectsMultiPolygon:i,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:r,distToSegmentSquared:f}},{"./util":129}],123:[function(t,e,n){"use strict";var r={"Latin-1 Supplement":function(t){return t>=128&&t<=255},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=r},{}],124:[function(t,e,n){"use strict";var r=function(t,e){this.max=t,this.onRemove=e,this.reset()};r.prototype.reset=function(){var t=this;for(var e in this.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},r.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.get(e.order[0]);n&&e.onRemove(n)}return this},e.exports=r},{}],125:[function(t,e,n){"use strict";function r(t,e){var n=a(u.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,!u.REQUIRE_ACCESS_TOKEN)return s(t);if(e=e||u.ACCESS_TOKEN,!e)throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),s(t)}function o(t){return 0===t.indexOf("mapbox:")}function i(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""))}function a(t){var e=t.match(p);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var u=t("./config"),l=t("./browser"),c="See https://www.mapbox.com/developers/api/#access-tokens";n.isMapboxURL=o,n.normalizeStyleURL=function(t,e){if(!o(t))return t;var n=a(t);return n.path="/styles/v1"+n.path,r(n,e)},n.normalizeGlyphsURL=function(t,e){if(!o(t))return t;var n=a(t);return n.path="/fonts/v1"+n.path,r(n,e)},n.normalizeSourceURL=function(t,e){if(!o(t))return t;var n=a(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,e)},n.normalizeSpriteURL=function(t,e,n,i){var u=a(t);return o(t)?(u.path="/styles/v1"+u.path+"/sprite"+e+n,r(u,i)):(u.path+=""+e+n,s(u))};var f=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!o(e))return t;var r=a(t),u=l.devicePixelRatio>=2||512===n?"@2x":"",c=l.supportsWebp?".webp":"$1";return r.path=r.path.replace(f,""+u+c),i(r.params),s(r)};var p=/^(\w+):\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/},{"./browser":110,"./config":114}],126:[function(t,e,n){"use strict";var r=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,r=t;e<r.length;e+=1){var o=r[e];if(!n.charAllowsIdeographicBreaking(o.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,r=t;e<r.length;e+=1){var o=r[e];if(n.charHasUprightVerticalOrientation(o.charCodeAt(0)))return!0}return!1},e.exports.charAllowsIdeographicBreaking=function(t){return!!(!(t<11904)&&(r["Bopomofo Extended"](t)||r.Bopomofo(t)||r["CJK Compatibility Forms"](t)||r["CJK Compatibility Ideographs"](t)||r["CJK Compatibility"](t)||r["CJK Radicals Supplement"](t)||r["CJK Strokes"](t)||r["CJK Symbols and Punctuation"](t)||r["CJK Unified Ideographs Extension A"](t)||r["CJK Unified Ideographs"](t)||r["Enclosed CJK Letters and Months"](t)||r["Halfwidth and Fullwidth Forms"](t)||r.Hiragana(t)||r["Ideographic Description Characters"](t)||r["Kangxi Radicals"](t)||r["Katakana Phonetic Extensions"](t)||r.Katakana(t)||r["Vertical Forms"](t)||r["Yi Radicals"](t)||r["Yi Syllables"](t)))},n.charHasUprightVerticalOrientation=function(t){return!!(746===t||747===t||!(t<4352)&&(r["Bopomofo Extended"](t)||r.Bopomofo(t)||r["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||r["CJK Compatibility Ideographs"](t)||r["CJK Compatibility"](t)||r["CJK Radicals Supplement"](t)||r["CJK Strokes"](t)||!(!r["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||r["CJK Unified Ideographs Extension A"](t)||r["CJK Unified Ideographs"](t)||r["Enclosed CJK Letters and Months"](t)||r["Hangul Compatibility Jamo"](t)||r["Hangul Jamo Extended-A"](t)||r["Hangul Jamo Extended-B"](t)||r["Hangul Jamo"](t)||r["Hangul Syllables"](t)||r.Hiragana(t)||r["Ideographic Description Characters"](t)||r.Kanbun(t)||r["Kangxi Radicals"](t)||r["Katakana Phonetic Extensions"](t)||r.Katakana(t)&&12540!==t||!(!r["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!r["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||r["Unified Canadian Aboriginal Syllabics"](t)||r["Unified Canadian Aboriginal Syllabics Extended"](t)||r["Vertical Forms"](t)||r["Yijing Hexagram Symbols"](t)||r["Yi Syllables"](t)||r["Yi Radicals"](t)))},n.charHasNeutralVerticalOrientation=function(t){return!!(r["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||r["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||r["Letterlike Symbols"](t)||r["Number Forms"](t)||r["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||r["Control Pictures"](t)&&9251!==t||r["Optical Character Recognition"](t)||r["Enclosed Alphanumerics"](t)||r["Geometric Shapes"](t)||r["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||r["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||r["CJK Symbols and Punctuation"](t)||r.Katakana(t)||r["Private Use Area"](t)||r["CJK Compatibility Forms"](t)||r["Small Form Variants"](t)||r["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":123}],127:[function(t,e,n){"use strict";function r(t){var e=JSON.stringify(t);if(y[e])return y[e];var n=void 0===t.alignment?1:t.alignment,r=0,a=0,u=["Uint8"],f=t.members.map(function(t){u.indexOf(t.type)<0&&u.push(t.type);var e=i(t.type),s=r=o(r,Math.max(n,e)),l=t.components||1;return a=Math.max(a,e),r+=e*l,{name:t.name,type:t.type,components:l,offset:s}}),h=o(r,Math.max(a,n)),d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(p);d.prototype.alignment=n,d.prototype.size=h;for(var v=0,g=f;v<g.length;v+=1)for(var _=g[v],b=0;b<_.components;b++){var x=_.name+(1===_.components?"":b);Object.defineProperty(d.prototype,x,{get:l(_,b),set:c(_,b)})}var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(m);return w.prototype.members=f,w.prototype.StructType=d,w.prototype.bytesPerElement=h,w.prototype.emplaceBack=s(f,h),w.prototype._usedTypes=u,y[e]=w,w}function o(t,e){return Math.ceil(t/e)*e}function i(t){return f[t].BYTES_PER_ELEMENT}function a(t){return t.toLowerCase()}function s(t,e){for(var n=[],r=[],o="var i = this.length;\nthis.resize(this.length + 1);\n",s=0,u=t;s<u.length;s+=1){var l=u[s],c=i(l.type);n.indexOf(c)<0&&(n.push(c),o+="var o"+c.toFixed(0)+" = i * "+(e/c).toFixed(0)+";\n");for(var f=0;f<l.components;f++){var p="v"+r.length,h="o"+c.toFixed(0)+" + "+(l.offset/c+f).toFixed(0);o+="this."+a(l.type)+"["+h+"] = "+p+";\n",r.push(p)}}return o+="return i;",new Function(r.toString(),o)}function u(t,e){var n="this._pos"+i(t.type).toFixed(0),r=(t.offset/i(t.type)+e).toFixed(0),o=n+" + "+r;return"this._structArray."+a(t.type)+"["+o+"]"}function l(t,e){return new Function("return "+u(t,e)+";")}function c(t,e){return new Function("x",u(t,e)+" = x;")}e.exports=r;var f={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},p=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},h=128,d=5,m=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};m.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},m.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},m.prototype.get=function(t){return new this.StructType(this,t)},m.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},m.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*d),h),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},m.prototype._refreshViews=function(){for(var t=this,e=0,n=this._usedTypes;e<n.length;e+=1){var r=n[e];t[a(r)]=new f[r](t.arrayBuffer)}},m.prototype.toArray=function(t,e){for(var n=this,r=[],o=t;o<e;o++){var i=n.get(o);r.push(i)}return r};var y={}},{}],128:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?t[n]:""})}e.exports=r},{}],129:[function(t,e,n){"use strict";var r=t("@mapbox/unitbezier"),o=t("../geo/coordinate");t("point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,o){var i=new r(t,e,n,o);return function(t){return i.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,o=((t-e)%r+r)%r+e;return o===e?n:o},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,o=new Array(t.length),i=null;t.forEach(function(t,a){e(t,function(t,e){t&&(i=t),o[a]=e,0===--r&&n(i,o)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t,e,n,r){for(var o=arguments,i=1;i<arguments.length;i++){var a=o[i];for(var s in a)t[s]=a[s]}return t},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var o=e[r];o in t&&(n[o]=t[o])}return n};var i=1;n.uniqueId=function(){return i++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-(1/0),i=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),i=Math.max(i,t[a].row);var s=r-e,u=i-n,l=Math.max(s,u);return new o((e+r)/2,(n+i)/2,0).zoomTo(Math.floor(-Math.log(l)/Math.LN2))},n.endsWith=function(t,e){return t.indexOf(e,t.length-e.length)!==-1},n.mapObject=function(t,e,n){var r=this,o={};for(var i in t)o[i]=e.call(n||r,t[i],i,t);return o},n.filterObject=function(t,e,n){var r=this,o={};for(var i in t)e.call(n||r,t[i],i,t)&&(o[i]=t[i]);return o},n.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n.deepEqual(t[r],e[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;var o=Object.keys(t);if(o.length!==Object.keys(e).length)return!1;for(var i in t)if(!n.deepEqual(t[i],e[i]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],r=t[t.length-1];return!(Math.abs(e.x-r.x)>0||Math.abs(e.y-r.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,[e*Math.cos(n)*Math.sin(r),e*Math.sin(n)*Math.sin(r),e*Math.cos(r)]},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,r,o){var i=r||o;return n[e]=!i||i.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":18,"@mapbox/unitbezier":134,"point-geometry":197}],130:[function(t,e,n){"use strict";var r=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},o={geometry:{}};o.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},o.geometry.set=function(t){this._geometry=t},r.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in this)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(r.prototype,o),e.exports=r},{}],131:[function(t,e,n){"use strict";var r=t("./script_detection");e.exports=function(t){for(var n="",o=0;o<t.length;o++){var i=t.charCodeAt(o+1)||null,a=t.charCodeAt(o-1)||null,s=(!i||!r.charHasRotatedVerticalOrientation(i)||e.exports.lookup[t[o+1]])&&(!a||!r.charHasRotatedVerticalOrientation(a)||e.exports.lookup[t[o-1]]);n+=s&&e.exports.lookup[t[o]]?e.exports.lookup[t[o]]:t[o]}return n},e.exports.lookup={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},{"./script_detection":126}],132:[function(t,e,n){"use strict";var r=t("./web_worker"),o=function(){this.active={}};o.prototype.acquire=function(e){var n=this;if(!this.workers){var o=t("../mapbox-gl").workerCount;for(this.workers=[];this.workers.length<o;)n.workers.push(new r)}return this.active[e]=!0,this.workers.slice()},o.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=o},{"../mapbox-gl":24,"./web_worker":111}],133:[function(e,n,r){!function(e,o){"object"==typeof r&&"undefined"!=typeof n?n.exports=o():"function"==typeof t&&t.amd?t(o):e.glMatrix=o()}(this,function(){"use strict";function t(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}function e(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function n(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function r(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function o(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function i(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=o*u+a*s,t[2]=r*-s+i*u,t[3]=o*-s+a*u,t}function a(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*u,t[3]=a*u,t}function s(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,_=n*u-o*a,b=n*l-i*a,x=r*u-o*s,w=r*l-i*s,E=o*l-i*u,S=c*m-f*d,M=c*y-p*d,T=c*v-h*d,C=f*y-p*m,k=f*v-h*m,P=p*v-h*y,A=g*P-_*k+b*C+x*T-w*M+E*S;return A?(A=1/A,t[0]=(s*P-u*k+l*C)*A,t[1]=(o*k-r*P-i*C)*A,t[2]=(m*E-y*w+v*x)*A,t[3]=(p*w-f*E-h*x)*A,t[4]=(u*T-a*P-l*M)*A,t[5]=(n*P-o*T+i*M)*A,t[6]=(y*b-d*E-v*_)*A,t[7]=(c*E-p*b+h*_)*A,t[8]=(a*k-s*T+l*S)*A,t[9]=(r*T-n*k-i*S)*A,t[10]=(d*w-m*b+v*g)*A,t[11]=(f*b-c*w-h*g)*A,t[12]=(s*M-a*C-u*S)*A,t[13]=(n*C-r*M+o*S)*A,t[14]=(m*_-d*x-y*g)*A,t[15]=(c*x-f*_+p*g)*A,t):null}function p(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*m,t[1]=_*o+b*u+x*p+w*y,t[2]=_*i+b*l+x*h+w*v,t[3]=_*a+b*c+x*d+w*g,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*m,t[5]=_*o+b*u+x*p+w*y,t[6]=_*i+b*l+x*h+w*v,t[7]=_*a+b*c+x*d+w*g,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*m,t[9]=_*o+b*u+x*p+w*y,t[10]=_*i+b*l+x*h+w*v,t[11]=_*a+b*c+x*d+w*g,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*m,t[13]=_*o+b*u+x*p+w*y,t[14]=_*i+b*l+x*h+w*v,t[15]=_*a+b*c+x*d+w*g,t}function h(t,e,n){var r,o,i,a,s,u,l,c,f,p,h,d,m=n[0],y=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],t[15]=e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=p,t[10]=h,t[11]=d,t[12]=r*m+s*y+f*v+e[12],t[13]=o*m+u*y+p*v+e[13],t[14]=i*m+l*y+h*v+e[14],t[15]=a*m+c*y+d*v+e[15]),t}function d(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function m(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+l*r,t[5]=a*o+c*r,t[6]=s*o+f*r,t[7]=u*o+p*r,t[8]=l*o-i*r,t[9]=c*o-a*r,t[10]=f*o-s*r,t[11]=p*o-u*r,t}function y(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+l*r,t[1]=a*o+c*r,t[2]=s*o+f*r,t[3]=u*o+p*r,t[4]=l*o-i*r,t[5]=c*o-a*r,t[6]=f*o-s*r,t[7]=p*o-u*r,t}function v(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t}function g(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*l,t[15]=1,t}var _=(t(),n(),{vec3:{transformMat3:e},vec4:{transformMat4:r},mat2:{create:o,rotate:i,scale:a},mat3:{create:s,fromRotation:u},mat4:{create:l,identity:c,translate:h,scale:d,multiply:p,perspective:v,rotateX:m,rotateZ:y,invert:f,ortho:g}});return _})},{}],134:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var n,r,o,i,a;for(o=t,a=0;a<8;a++){if(i=this.sampleCurveX(o)-t,Math.abs(i)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if(n=0,r=1,o=t,o<n)return n;if(o>r)return r;for(;n<r;){if(i=this.sampleCurveX(o),Math.abs(i-t)<e)return o;t>i?n=o:r=o,o=.5*(r-n)+n}return o},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e));
}},{}],135:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return o("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var o=e.indexOf("("),u=e.indexOf(")");if(o!==-1&&u+1===e.length){var c=e.substr(0,o),f=e.substr(o+1,u-(o+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=a(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),p];case"hsla":if(4!==f.length)return null;p=a(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),m=a(f[2]),y=m<=.5?m*(d+1):m+d-m*d,v=2*m-y;return[r(255*s(v,y,h+1/3)),r(255*s(v,y,h)),r(255*s(v,y,h-1/3)),p];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(c){}},{}],136:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=o(t,0,i,n,!0),u=[];if(!s)return u;var l,c,p,h,d,m,y;if(r&&(s=f(t,e,s,n)),t.length>80*n){l=p=t[0],c=h=t[1];for(var v=n;v<i;v+=n)d=t[v],m=t[v+1],d<l&&(l=d),m<c&&(c=m),d>p&&(p=d),m>h&&(h=m);y=Math.max(p-l,h-c)}return a(s,u,n,l,c,y),u}function o(t,e,n,r,o){var i,a;if(o===R(t,e,n,r)>0)for(i=e;i<n;i+=r)a=k(i,t[i],t[i+1],a);else for(i=n-r;i>=e;i-=r)a=k(i,t[i],t[i+1],a);return a&&w(a,a.next)&&(P(a),a=a.next),a}function i(t,e){if(!t)return t;e||(e=t);var n,r=t;do if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(P(r),r=e=r.prev,r===r.next)return null;n=!0}while(n||r!==e);return e}function a(t,e,n,r,o,f,p){if(t){!p&&f&&m(t,r,o,f);for(var h,d,y=t;t.prev!==t.next;)if(h=t.prev,d=t.next,f?u(t,r,o,f):s(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),P(t),t=d.next,y=d.next;else if(t=d,t===y){p?1===p?(t=l(t,e,n),a(t,e,n,r,o,f,2)):2===p&&c(t,e,n,r,o,f):a(i(t),e,n,r,o,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(_(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&x(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function u(t,e,n,r){var o=t.prev,i=t,a=t.next;if(x(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,u=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,l=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,f=v(s,u,e,n,r),p=v(l,c,e,n,r),h=t.nextZ;h&&h.z<=p;){if(h!==t.prev&&h!==t.next&&_(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=f;){if(h!==t.prev&&h!==t.next&&_(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function l(t,e,n){var r=t;do{var o=r.prev,i=r.next.next;!w(o,i)&&E(o,r,r.next,i)&&M(o,i)&&M(i,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(i.i/n),P(r),P(r.next),r=t=i),r=r.next}while(r!==t);return r}function c(t,e,n,r,o,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var c=C(u,l);return u=i(u,u.next),c=i(c,c.next),a(u,e,n,r,o,s),void a(c,e,n,r,o,s)}l=l.next}u=u.next}while(u!==t)}function f(t,e,n,r){var a,s,u,l,c,f=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,c=o(t,u,l,r,!1),c===c.next&&(c.steiner=!0),f.push(g(c));for(f.sort(p),a=0;a<f.length;a++)h(f[a],n),n=i(n,n.next);return n}function p(t,e){return t.x-e.x}function h(t,e){if(e=d(t,e)){var n=C(e,t);i(n,n.next)}}function d(t,e){var n,r=e,o=t.x,i=t.y,a=-(1/0);do{if(i<=r.y&&i>=r.next.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===a)return n.prev;var u,l=n,c=n.x,f=n.y,p=1/0;for(r=n.next;r!==l;)o>=r.x&&r.x>=c&&_(i<f?o:a,i,c,f,i<f?a:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),(u<p||u===p&&r.x>n.x)&&M(r,t)&&(n=r,p=u)),r=r.next;return n}function m(t,e,n,r){var o=t;do null===o.z&&(o.z=v(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,y(o)}function y(t){var e,n,r,o,i,a,s,u,l=1;do{for(n=t,t=null,i=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0===s?(o=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,l*=2}while(a>1);return t}function v(t,e,n,r,o){return t=32767*(t-n)/o,e=32767*(e-r)/o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,n=t;do e.x<n.x&&(n=e),e=e.next;while(e!==t);return n}function _(t,e,n,r,o,i,a,s){return(o-a)*(e-s)-(t-a)*(i-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&M(t,e)&&M(e,t)&&T(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function S(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&E(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function M(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function T(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do n.y>i!=n.next.y>i&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function C(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function k(t,e,n,r){var o=new A(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(t,e,n,r){for(var o=0,i=e,a=n-r;i<n;i+=r)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}e.exports=r,r.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,a=Math.abs(R(t,0,i,n));if(o)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(R(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[p]-t[d])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[d+1]-t[p+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)n.vertices.push(t[o][i][a]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},{}],137:[function(t,e,n){function r(t){var e,n,o,l,c,f;switch(typeof t){case"object":if(null===t)return null;if(i(t)){for(o="[",n=t.length-1,e=0;e<n;e++)o+=r(t[e])+",";return n>-1&&(o+=r(t[e])),o+"]"}for(l=a(t).sort(),n=l.length,o="{",c=l[e=0],f=n>0&&void 0!==t[c];e<n;)f?(o+='"'+c.replace(s,u)+'":'+r(t[c]),c=l[++e],f=e<n&&void 0!==t[c],f&&(o+=",")):(c=l[++e],f=e<n&&void 0!==t[c]);return o+"}";case"undefined":return null;case"string":return'"'+t.replace(s,u)+'"';default:return t}}var o={}.toString,i=Array.isArray||function(t){return"[object Array]"===o.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},s=/[\u0000-\u001f"\\]/g,u=function(t){var e=t.charCodeAt(0);switch(e){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return e>15?"\\u00"+e.toString(16):"\\u000"+e.toString(16)}};e.exports=function(t){if(void 0!==t)return""+r(t)},e.exports.stringSearch=s,e.exports.stringReplace=u},{}],138:[function(t,e,n){"use strict";function r(t){return new Function("f","var p = (f && f.properties || {}); return "+o(t))}function o(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var n="=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?s(t.slice(1),"||"):"all"===e?s(t.slice(1),"&&"):"none"===e?c(s(t.slice(1),"||")):"in"===e?u(t[1],t.slice(2)):"!in"===e?c(u(t[1],t.slice(2))):"has"===e?l(t[1]):"!has"===e?c(l([t[1]])):"true";return"("+n+")"}function i(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function a(t,e,n,r){var o=i(t),a="$type"===t?p.indexOf(e):JSON.stringify(e);return(r?"typeof "+o+"=== typeof "+a+"&&":"")+o+n+a}function s(t,e){return t.map(o).join(e)}function u(t,e){"$type"===t&&(e=e.map(function(t){return p.indexOf(t)}));var n=JSON.stringify(e.sort(f)),r=i(t);return e.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(e.length-1)+")"}function l(t){return JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function f(t,e){return t<e?-1:t>e?1:0}e.exports=r;var p=["Unknown","Point","LineString","Polygon"]},{}],139:[function(t,e,n){function r(t){if("Polygon"===t.type)return o(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=o(t.coordinates[n]);return e}return null}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(i(t[n]))}return e}function i(t){var e=0;if(t.length>2){for(var n,r,o=0;o<t.length-1;o++)n=t[o],r=t[o+1],e+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=i},{wgs84:214}],140:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(o(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return i(t,e);default:return t}}function o(t,e){return function(n){return t(n,e)}}function i(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(o(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],!e);for(var n=1;n<t.length;n++)t[n]=s(t[n],e);return t}function s(t,e){return u(t)===e?t:t.reverse()}function u(t){return l.ring(t)>=0}var l=t("geojson-area");e.exports=r},{"geojson-area":139}],141:[function(t,e,n){"use strict";function r(t,e,n,r,a,u,l,c){if(n/=e,r/=e,l>=n&&c<=r)return t;if(l>r||c<n)return null;for(var f=[],p=0;p<t.length;p++){var h,d,m=t[p],y=m.geometry,v=m.type;if(h=m.min[a],d=m.max[a],h>=n&&d<=r)f.push(m);else if(!(h>r||d<n)){var g=1===v?o(y,n,r,a):i(y,n,r,a,u,3===v);g.length&&f.push(s(m.tags,v,g,m.id))}}return f.length?f:null}function o(t,e,n,r){for(var o=[],i=0;i<t.length;i++){var a=t[i],s=a[r];s>=e&&s<=n&&o.push(a)}return o}function i(t,e,n,r,o,i){for(var s=[],u=0;u<t.length;u++){var l,c,f,p=0,h=0,d=null,m=t[u],y=m.area,v=m.dist,g=m.outer,_=m.length,b=[];for(c=0;c<_-1;c++)l=d||m[c],d=m[c+1],p=h||l[r],h=d[r],p<e?h>n?(b.push(o(l,d,e),o(l,d,n)),i||(b=a(s,b,y,v,g))):h>=e&&b.push(o(l,d,e)):p>n?h<e?(b.push(o(l,d,n),o(l,d,e)),i||(b=a(s,b,y,v,g))):h<=n&&b.push(o(l,d,n)):(b.push(l),h<e?(b.push(o(l,d,e)),i||(b=a(s,b,y,v,g))):h>n&&(b.push(o(l,d,n)),i||(b=a(s,b,y,v,g))));l=m[_-1],p=l[r],p>=e&&p<=n&&b.push(l),f=b[b.length-1],i&&f&&(b[0][0]!==f[0]||b[0][1]!==f[1])&&b.push(b[0]),a(s,b,y,v,g)}return s}function a(t,e,n,r,o){return e.length&&(e.area=n,e.dist=r,void 0!==o&&(e.outer=o),t.push(e)),[]}e.exports=r;var s=t("./feature")},{"./feature":143}],142:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)o(n,t.features[r],e);else"Feature"===t.type?o(n,t,e):o(n,{geometry:t},e);return n}function o(t,e,n){if(null!==e.geometry){var r,s,u,c,f=e.geometry,p=f.type,h=f.coordinates,d=e.properties,m=e.id;if("Point"===p)t.push(l(d,1,[a(h)],m));else if("MultiPoint"===p)t.push(l(d,1,i(h),m));else if("LineString"===p)t.push(l(d,2,[i(h,n)],m));else if("MultiLineString"===p||"Polygon"===p){for(u=[],r=0;r<h.length;r++)c=i(h[r],n),"Polygon"===p&&(c.outer=0===r),u.push(c);t.push(l(d,"Polygon"===p?3:2,u,m))}else if("MultiPolygon"===p){for(u=[],r=0;r<h.length;r++)for(s=0;s<h[r].length;s++)c=i(h[r][s],n),c.outer=0===s,u.push(c);t.push(l(d,3,u,m))}else{if("GeometryCollection"!==p)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)o(t,{geometry:f.geometries[r],properties:d},n)}}}function i(t,e){for(var n=[],r=0;r<t.length;r++)n.push(a(t[r]));return e&&(u(n,e),s(n)),n}function a(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(t){for(var e,n,r=0,o=0,i=0;i<t.length-1;i++)e=n||t[i],n=t[i+1],r+=e[0]*n[1]-n[0]*e[1],o+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=o}e.exports=r;var u=t("./simplify"),l=t("./feature")},{"./feature":143,"./simplify":145}],143:[function(t,e,n){"use strict";function r(t,e,n,r){var i={id:r||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return o(i),i}function o(t){var e=t.geometry,n=t.min,r=t.max;if(1===t.type)i(n,r,e);else for(var o=0;o<e.length;o++)i(n,r,e[o]);return t}function i(t,e,n){for(var r,o=0;o<n.length;o++)r=n[o],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r},{}],144:[function(t,e,n){"use strict";function r(t,e){return new o(t,e)}function o(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var r=1<<e.maxZoom,o=c(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=h(o,e.buffer/e.extent,a),o.length&&this.splitTile(o,0,0,0),n&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var r=t.source;if(1!==r.length)return!1;var o=r[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=f.point(o.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=r;var c=t("./convert"),f=t("./transform"),p=t("./clip"),h=t("./wrap"),d=t("./tile");o.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},o.prototype.splitTile=function(t,e,n,r,o,u,c){for(var f=[t,e,n,r],h=this.options,m=h.debug,y=null;f.length;){r=f.pop(),n=f.pop(),e=f.pop(),t=f.pop();var v=1<<e,g=i(e,n,r),_=this.tiles[g],b=e===h.maxZoom?0:h.tolerance/(v*h.extent);if(!_&&(m>1&&console.time("creation"),_=this.tiles[g]=d(t,v,n,r,b,e===h.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,_.numFeatures,_.numPoints,_.numSimplified),console.timeEnd("creation"));var x="z"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(_.source=t,o){if(e===h.maxZoom||e===o)continue;var w=1<<o-e;if(n!==Math.floor(u/w)||r!==Math.floor(c/w))continue}else if(e===h.indexMaxZoom||_.numPoints<=h.indexMaxPoints)continue;if(h.solidChildren||!l(_,h.extent,h.buffer)){_.source=null,m>1&&console.time("clipping");var E,S,M,T,C,k,P=.5*h.buffer/h.extent,A=.5-P,R=.5+P,O=1+P;E=S=M=T=null,C=p(t,v,n-P,n+R,0,a,_.min[0],_.max[0]),k=p(t,v,n+A,n+O,0,a,_.min[0],_.max[0]),C&&(E=p(C,v,r-P,r+R,1,s,_.min[1],_.max[1]),S=p(C,v,r+A,r+O,1,s,_.min[1],_.max[1])),k&&(M=p(k,v,r-P,r+R,1,s,_.min[1],_.max[1]),T=p(k,v,r+A,r+O,1,s,_.min[1],_.max[1])),m>1&&console.timeEnd("clipping"),t.length&&(f.push(E||[],e+1,2*n,2*r),f.push(S||[],e+1,2*n,2*r+1),f.push(M||[],e+1,2*n+1,2*r),f.push(T||[],e+1,2*n+1,2*r+1))}else o&&(y=e)}return y},o.prototype.getTile=function(t,e,n){var r=this.options,o=r.extent,a=r.debug,s=1<<t;e=(e%s+s)%s;var u=i(t,e,n);if(this.tiles[u])return f.tile(this.tiles[u],o);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,p=t,h=e,d=n;!c&&p>0;)p--,h=Math.floor(h/2),d=Math.floor(d/2),c=this.tiles[i(p,h,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",p,h,d),l(c,o,r.buffer))return f.tile(c,o);a>1&&console.time("drilling down");var m=this.splitTile(c.source,p,h,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var y=1<<t-m;u=i(m,Math.floor(e/y),Math.floor(n/y))}return this.tiles[u]?f.tile(this.tiles[u],o):null}},{"./clip":141,"./convert":142,"./tile":146,"./transform":147,"./wrap":148}],145:[function(t,e,n){"use strict";function r(t,e){var n,r,i,a,s=e*e,u=t.length,l=0,c=u-1,f=[];for(t[l][2]=1,t[c][2]=1;c;){for(r=0,n=l+1;n<c;n++)i=o(t[n],t[l],t[c]),i>r&&(a=n,r=i);r>s?(t[a][2]=r,f.push(l),f.push(a),l=a):(c=f.pop(),l=f.pop())}}function o(t,e,n){var r=e[0],o=e[1],i=n[0],a=n[1],s=t[0],u=t[1],l=i-r,c=a-o;if(0!==l||0!==c){var f=((s-r)*l+(u-o)*c)/(l*l+c*c);f>1?(r=i,o=a):f>0&&(r+=l*f,o+=c*f)}return l=s-r,c=u-o,l*l+c*c}e.exports=r},{}],146:[function(t,e,n){"use strict";function r(t,e,n,r,i,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,o(s,t[u],i,a);var l=t[u].min,c=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function o(t,e,n,r){var o,a,s,u,l=e.geometry,c=e.type,f=[],p=n*n;if(1===c)for(o=0;o<l.length;o++)f.push(l[o]),t.numPoints++,t.numSimplified++;else for(o=0;o<l.length;o++)if(s=l[o],r||!(2===c&&s.dist<n||3===c&&s.area<p)){var h=[];for(a=0;a<s.length;a++)u=s[a],(r||u[2]>p)&&(h.push(u),t.numSimplified++),t.numPoints++;3===c&&i(h,s.outer),f.push(h)}else t.numPoints+=s.length;if(f.length){var d={geometry:f,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function i(t,e){var n=a(t);n<0===e&&t.reverse()}function a(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}e.exports=r},{}],147:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,i,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry,f=l.type;if(1===f)for(r=0;r<c.length;r++)c[r]=o(c[r],e,a,s,u);else for(r=0;r<c.length;r++){var p=c[r];for(i=0;i<p.length;i++)p[i]=o(p[i],e,a,s,u)}}return t.transformed=!0,t}function o(t,e,n,r,o){var i=Math.round(e*(t[0]*n-r)),a=Math.round(e*(t[1]*n-o));return[i,a]}n.tile=r,n.point=o},{}],148:[function(t,e,n){"use strict";function r(t,e,n){var r=t,i=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(i||s)&&(r=a(t,1,-e,1+e,0,n,-1,2)||[],i&&(r=o(i,1).concat(r)),s&&(r=r.concat(o(s,-1)))),r}function o(t,e){for(var n=[],r=0;r<t.length;r++){var o,a=t[r],u=a.type;if(1===u)o=i(a.geometry,e);else{o=[];for(var l=0;l<a.geometry.length;l++)o.push(i(a.geometry[l],e))}n.push(s(a.tags,u,o,a.id))}return n}function i(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var r=0;r<t.length;r++)n.push([t[r][0]+e,t[r][1],t[r][2]]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":141,"./feature":143}],149:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=i[o+a],u=i[o+a+1];r.push(s===u?null:i.subarray(s,u))}var l=i[o+r.length],c=i[o+r.length+1];this.keys=i.subarray(l,c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var p=n/e*t;this.min=-p,this.max=t+p}e.exports=r;var o=3;r.prototype.insert=function(t,e,n,r,o){this._forEachCell(e,n,r,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,o,i){this.cells[o].push(i)},r.prototype.query=function(t,e,n,r){var o=this.min,i=this.max;if(t<=o&&e<=o&&i<=n&&i<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,o,i,a){var s=this.cells[o];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var p=4*f;t<=l[p+2]&&e<=l[p+3]&&n>=l[p+0]&&r>=l[p+1]?(a[f]=!0,i.push(u[f])):a[f]=!1}}},r.prototype._forEachCell=function(t,e,n,r,o,i,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var p=u;p<=c;p++){var h=this.d*p+f;if(o.call(this,t,e,n,r,h,i,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=o+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var u=t[s];i[o+s]=a,i.set(u,a),a+=u.length}return i[o+t.length]=a,i.set(this.keys,a),a+=this.keys.length,i[o+t.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}},{}],150:[function(t,e,n){n.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=d,a/=256,l-=8);t[n+h-d]|=128*m}},{}],151:[function(t,e,n){"use strict";function r(t,e,n,r,i){return new o(t,e,n,r,i)}function o(t,e,n,r,o){e=e||i,n=n||a,o=o||Array,this.nodeSize=r||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=e(t[u]),this.coords[2*u+1]=n(t[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),u=t("./range"),l=t("./within");e.exports=r,o.prototype={range:function(t,e,n,r){return u(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return l(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":152,"./sort":153,"./within":154}],152:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),h=l.pop();if(p-h<=a)for(var d=h;d<=p;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=o&&u>=r&&u<=i&&c.push(t[d]);else{var m=Math.floor((h+p)/2);s=e[2*m],u=e[2*m+1],s>=n&&s<=o&&u>=r&&u<=i&&c.push(t[m]);var y=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(h),l.push(m-1),l.push(y)),(0===f?o>=s:i>=u)&&(l.push(m+1),l.push(p),l.push(y))}}return c}e.exports=r},{}],153:[function(t,e,n){"use strict";function r(t,e,n,i,a,s){if(!(a-i<=n)){var u=Math.floor((i+a)/2);o(t,e,u,i,a,s%2),r(t,e,n,i,u-1,s+1),r(t,e,n,u+1,a,s+1)}}function o(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var u=a-r+1,l=n-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(r,Math.floor(n-l*f/u+p)),d=Math.min(a,Math.floor(n+(u-l)*f/u+p));o(t,e,n,h,d,s)}var m=e[2*n+s],y=r,v=a;for(i(t,e,r,n),e[2*a+s]>m&&i(t,e,r,a);y<v;){for(i(t,e,y,v),y++,v--;e[2*y+s]<m;)y++;for(;e[2*v+s]>m;)v--}e[2*r+s]===m?i(t,e,r,v):(v++,i(t,e,v,a)),v<=n&&(r=v+1),n<=v&&(a=v-1)}}function i(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],154:[function(t,e,n){"use strict";function r(t,e,n,r,i,a){for(var s=[0,t.length-1,0],u=[],l=i*i;s.length;){var c=s.pop(),f=s.pop(),p=s.pop();if(f-p<=a)for(var h=p;h<=f;h++)o(e[2*h],e[2*h+1],n,r)<=l&&u.push(t[h]);else{var d=Math.floor((p+f)/2),m=e[2*d],y=e[2*d+1];o(m,y,n,r)<=l&&u.push(t[d]);var v=(c+1)%2;(0===c?n-i<=m:r-i<=y)&&(s.push(p),s.push(d-1),s.push(v)),(0===c?n+i>=m:r+i>=y)&&(s.push(d+1),s.push(f),s.push(v))}}return u}function o(t,e,n,r){var o=t-n,i=e-r;return o*o+i*i}e.exports=r},{}],155:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function i(t,e,n,o,s,u){return t===e||(null==t||null==e||!c(t)&&!r(e)?t!==t&&e!==e:a(t,e,i,n,o,s,u))}function a(t,e,n,r,o,i,a){var c=f(t),h=f(e),y=m,v=m;c||(y=M.call(t),y==d?y=b:y!=b&&(c=p(t))),h||(v=M.call(e),v==d?v=b:v!=b&&(h=p(e)));var g=y==b,_=v==b,x=y==v;if(x&&!c&&!g)return u(t,e,y);if(!o){var w=g&&S.call(t,"__wrapped__"),E=_&&S.call(e,"__wrapped__");if(w||E)return n(w?t.value():t,E?e.value():e,r,o,i,a)}if(!x)return!1;i||(i=[]),a||(a=[]);for(var T=i.length;T--;)if(i[T]==t)return a[T]==e;i.push(t),a.push(e);var C=(c?s:l)(t,e,n,r,o,i,a);return i.pop(),a.pop(),C}function s(t,e,n,r,i,a,s){var u=-1,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;for(;++u<l;){var f=t[u],p=e[u],h=r?r(i?p:f,i?f:p,u):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!o(e,function(t){return f===t||n(f,t,r,i,a,s)}))return!1}else if(f!==p&&!n(f,p,r,i,a,s))return!1}return!0}function u(t,e,n){switch(n){case y:case v:return+t==+e;case g:return t.name==e.name&&t.message==e.message;case _:return t!=+t?e!=+e:t==+e;case x:case w:return t==e+""}return!1}function l(t,e,n,r,o,i,a){var s=h(t),u=s.length,l=h(e),c=l.length;if(u!=c&&!o)return!1;for(var f=u;f--;){var p=s[f];if(!(o?p in e:S.call(e,p)))return!1}for(var d=o;++f<u;){p=s[f];var m=t[p],y=e[p],v=r?r(o?y:m,o?m:y,p):void 0;if(!(void 0===v?n(m,y,r,o,i,a):v))return!1;d||(d="constructor"==p)}if(!d){var g=t.constructor,_=e.constructor;if(g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _))return!1}return!0}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=t("lodash.isarray"),p=t("lodash.istypedarray"),h=t("lodash.keys"),d="[object Arguments]",m="[object Array]",y="[object Boolean]",v="[object Date]",g="[object Error]",_="[object Number]",b="[object Object]",x="[object RegExp]",w="[object String]",E=Object.prototype,S=E.hasOwnProperty,M=E.toString;e.exports=i},{"lodash.isarray":159,"lodash.istypedarray":161,"lodash.keys":162}],156:[function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function o(t){return t}e.exports=r},{}],157:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function i(t){return a(t)&&h.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(i(t)?d.test(f.call(t)):r(t)&&l.test(t))}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,p=c.hasOwnProperty,h=c.toString,d=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");
e.exports=o},{}],158:[function(t,e,n){function r(t){return i(t)&&m.call(t,"callee")&&(!v.call(t,"callee")||y.call(t)==f)}function o(t){return null!=t&&s(t.length)&&!a(t)}function i(t){return l(t)&&o(t)}function a(t){var e=u(t)?y.call(t):"";return e==p||e==h}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return!!t&&"object"==typeof t}var c=9007199254740991,f="[object Arguments]",p="[object Function]",h="[object GeneratorFunction]",d=Object.prototype,m=d.hasOwnProperty,y=d.toString,v=d.propertyIsEnumerable;e.exports=r},{}],159:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function a(t){return s(t)&&m.call(t)==c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null!=t&&(a(t)?y.test(h.call(t)):r(t)&&f.test(t))}var l="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,p=Object.prototype,h=Function.prototype.toString,d=p.hasOwnProperty,m=p.toString,y=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=o(Array,"isArray"),g=9007199254740991,_=v||function(t){return r(t)&&i(t.length)&&m.call(t)==l};e.exports=_},{}],160:[function(t,e,n){function r(t,e,n,r){n="function"==typeof n?i(n,r,3):void 0;var a=n?n(t,e):void 0;return void 0===a?o(t,e,n):!!a}var o=t("lodash._baseisequal"),i=t("lodash._bindcallback");e.exports=r},{"lodash._baseisequal":155,"lodash._bindcallback":156}],161:[function(t,e,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function o(t){return!!t&&"object"==typeof t}function i(t){return o(t)&&r(t.length)&&!!R[I.call(t)]}var a=9007199254740991,s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",p="[object Function]",h="[object Map]",d="[object Number]",m="[object Object]",y="[object RegExp]",v="[object Set]",g="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",R={};R[w]=R[E]=R[S]=R[M]=R[T]=R[C]=R[k]=R[P]=R[A]=!0,R[s]=R[u]=R[b]=R[l]=R[x]=R[c]=R[f]=R[p]=R[h]=R[d]=R[m]=R[y]=R[v]=R[g]=R[_]=!1;var O=Object.prototype,I=O.toString;e.exports=i},{}],162:[function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&a(g(t))}function i(t,e){return t="number"==typeof t||h.test(t)?+t:-1,e=null==e?v:e,t>-1&&t%1==0&&t<e}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function s(t){for(var e=l(t),n=e.length,r=n&&t.length,o=!!r&&a(r)&&(p(t)||f(t)),s=-1,u=[];++s<n;){var c=e[s];(o&&i(c,r)||m.call(t,c))&&u.push(c)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(p(t)||f(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,s=Array(e),l=e>0;++r<e;)s[r]=r+"";for(var c in t)l&&i(c,e)||"constructor"==c&&(o||!m.call(t,c))||s.push(c);return s}var c=t("lodash._getnative"),f=t("lodash.isarguments"),p=t("lodash.isarray"),h=/^\d+$/,d=Object.prototype,m=d.hasOwnProperty,y=c(Object,"keys"),v=9007199254740991,g=r("length"),_=y?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?s(t):u(t)?y(t):[]}:s;e.exports=_},{"lodash._getnative":157,"lodash.isarguments":158,"lodash.isarray":159}],163:[function(t,e,n){function r(t){return t>v?Math.pow(t,1/3):t/y+d}function o(t){return t>m?t*t*t:y*(t-d)}function i(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t[0]),n=a(t[1]),o=a(t[2]),i=r((.4124564*e+.3575761*n+.1804375*o)/f),s=r((.2126729*e+.7151522*n+.072175*o)/p),u=r((.0193339*e+.119192*n+.9503041*o)/h);return[116*s-16,500*(i-s),200*(s-u),t[3]]}function u(t){var e=(t[0]+16)/116,n=isNaN(t[1])?e:e+t[1]/500,r=isNaN(t[2])?e:e-t[2]/200;return e=p*o(e),n=f*o(n),r=h*o(r),[i(3.2404542*n-1.5371385*e-.4985314*r),i(-.969266*n+1.8760108*e+.041556*r),i(.0556434*n-.2040259*e+1.0572252*r),t[3]]}function l(t){var e=s(t),n=e[0],r=e[1],o=e[2],i=Math.atan2(o,r)*_;return[i<0?i+360:i,Math.sqrt(r*r+o*o),n,t[3]]}function c(t){var e=t[0]*g,n=t[1],r=t[2];return u([r,Math.cos(e)*n,Math.sin(e)*n,t[3]])}var f=.95047,p=1,h=1.08883,d=4/29,m=6/29,y=3*m*m,v=m*m*m,g=Math.PI/180,_=180/Math.PI;e.exports={lab:{forward:s,reverse:u},hcl:{forward:l,reverse:c}}},{}],164:[function(t,e,n){"use strict";function r(t){return t}function o(t,e){var n;if(p(t)){var l,c=t.stops&&"object"==typeof t.stops[0][0],f=c||void 0!==t.property,d=c||!f,m=t.stops&&typeof(c?t.stops[0][0].property:t.stops[0][0]),y=t.type||e||("string"===m?"categorical":"exponential");if("exponential"===y)l=s;else if("interval"===y)l=a;else if("categorical"===y)l=i;else{if("identity"!==y)throw new Error('Unknown function type "'+y+'"');l=u}var v;if(t.colorSpace&&"rgb"!==t.colorSpace){if(!h[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var g=h[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var _=0;_<t.stops.length;_++)t.stops[_]=[t.stops[_][0],g.forward(t.stops[_][1])];v=g.reverse}else v=r;if(c){var b={},x=[];for(_=0;_<t.stops.length;_++){var w=t.stops[_];void 0===b[w[0].zoom]&&(b[w[0].zoom]={zoom:w[0].zoom,type:t.type,property:t.property,stops:[]}),b[w[0].zoom].stops.push([w[0].value,w[1]])}for(var E in b)x.push([b[E].zoom,o(b[E])]);n=function(e,n){return v(s({stops:x,base:t.base},e)(e,n))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else d?(n=function(e){return v(l(t,e))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(e,n){return v(l(t,n[t.property]))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else n=function(){return t},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function i(t,e){for(var n=0;n<t.stops.length;n++)if(e===t.stops[n][0])return t.stops[n][1];return t.stops[0][1]}function a(t,e){for(var n=0;n<t.stops.length&&!(e<t.stops[n][0]);n++);return t.stops[Math.max(n-1,0)][1]}function s(t,e){for(var n=void 0!==t.base?t.base:1,r=0;!(r>=t.stops.length)&&!(e<=t.stops[r][0]);)r++;return 0===r?t.stops[r][1]:r===t.stops.length?t.stops[r-1][1]:l(e,n,t.stops[r-1][0],t.stops[r][0],t.stops[r-1][1],t.stops[r][1])}function u(t,e){return e}function l(t,e,n,r,o,i){return"function"==typeof o?function(){var a=o.apply(void 0,arguments),s=i.apply(void 0,arguments);return l(t,e,n,r,a,s)}:o.length?f(t,e,n,r,o,i):c(t,e,n,r,o,i)}function c(t,e,n,r,o,i){var a,s=r-n,u=t-n;return a=1===e?u/s:(Math.pow(e,u)-1)/(Math.pow(e,s)-1),o*(1-a)+i*a}function f(t,e,n,r,o,i){for(var a=[],s=0;s<o.length;s++)a[s]=c(t,e,n,r,o[s],i[s]);return a}function p(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}var h=t("./color_spaces");e.exports.isFunctionDefinition=p,e.exports.interpolated=function(t){return o(t,"exponential")},e.exports["piecewise-constant"]=function(t){return o(t,"interval")}},{"./color_spaces":163}],165:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return i.forEach(function(t){t in e&&(n[t]=e[t])}),n}function o(t){t=t.slice();var e,n=Object.create(null);for(e=0;e<t.length;e++)n[t[e].id]=t[e];for(e=0;e<t.length;e++)"ref"in t[e]&&(t[e]=r(t[e],n[t[e].ref]));return t}var i=t("./util/ref_properties");e.exports=o},{"./util/ref_properties":171}],166:[function(t,e,n){"use strict";function r(t,e,n,r){t=t||{},e=e||{};var o;for(o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)||(n.push({command:c.removeSource,args:[o]}),r[o]=!0));for(o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)?l(t[o],e[o])||(n.push({command:c.removeSource,args:[o]}),n.push({command:c.addSource,args:[o,e[o]]}),r[o]=!0):n.push({command:c.addSource,args:[o,e[o]]}))}function o(t,e,n,r,o,i){t=t||{},e=e||{};var a;for(a in t)t.hasOwnProperty(a)&&(l(t[a],e[a])||n.push({command:i,args:[r,a,e[a],o]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(l(t[a],e[a])||n.push({command:i,args:[r,a,e[a],o]}))}function i(t){return t.id}function a(t,e){return t[e.id]=e,t}function s(t,e,n){t=t||[],e=e||[];var r,s,u,f,p,h,d,m=t.map(i),y=e.map(i),v=t.reduce(a,{}),g=e.reduce(a,{}),_=m.slice(),b=Object.create(null);for(r=0,s=0;r<m.length;r++)u=m[r],g.hasOwnProperty(u)?s++:(n.push({command:c.removeLayer,args:[u]}),_.splice(_.indexOf(u,s),1));for(r=0,s=0;r<y.length;r++)u=y[y.length-1-r],_[_.length-1-r]!==u&&(v.hasOwnProperty(u)?(n.push({command:c.removeLayer,args:[u]}),_.splice(_.lastIndexOf(u,_.length-s),1)):s++,h=_[_.length-r],n.push({command:c.addLayer,args:[g[u],h]}),_.splice(_.length-r,0,u),b[u]=!0);for(r=0;r<y.length;r++)if(u=y[r],f=v[u],p=g[u],!b[u]&&!l(f,p))if(l(f.source,p.source)&&l(f["source-layer"],p["source-layer"])&&l(f.type,p.type)){o(f.layout,p.layout,n,u,null,c.setLayoutProperty),o(f.paint,p.paint,n,u,null,c.setPaintProperty),l(f.filter,p.filter)||n.push({command:c.setFilter,args:[u,p.filter]}),l(f.minzoom,p.minzoom)&&l(f.maxzoom,p.maxzoom)||n.push({command:c.setLayerZoomRange,args:[u,p.minzoom,p.maxzoom]});for(d in f)f.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?o(f[d],p[d],n,u,d.slice(6),c.setPaintProperty):l(f[d],p[d])||n.push({command:c.setLayerProperty,args:[u,d,p[d]]}));for(d in p)p.hasOwnProperty(d)&&!f.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?o(f[d],p[d],n,u,d.slice(6),c.setPaintProperty):l(f[d],p[d])||n.push({command:c.setLayerProperty,args:[u,d,p[d]]}))}else n.push({command:c.removeLayer,args:[u]}),h=_[_.lastIndexOf(u)+1],n.push({command:c.addLayer,args:[p,h]})}function u(t,e){if(!t)return[{command:c.setStyle,args:[e]}];var n=[];try{if(!l(t.version,e.version))return[{command:c.setStyle,args:[e]}];l(t.center,e.center)||n.push({command:c.setCenter,args:[e.center]}),l(t.zoom,e.zoom)||n.push({command:c.setZoom,args:[e.zoom]}),l(t.bearing,e.bearing)||n.push({command:c.setBearing,args:[e.bearing]}),l(t.pitch,e.pitch)||n.push({command:c.setPitch,args:[e.pitch]}),l(t.sprite,e.sprite)||n.push({command:c.setSprite,args:[e.sprite]}),l(t.glyphs,e.glyphs)||n.push({command:c.setGlyphs,args:[e.glyphs]}),l(t.transition,e.transition)||n.push({command:c.setTransition,args:[e.transition]}),l(t.light,e.light)||n.push({command:c.setLight,args:[e.light]});var o={},i=[];r(t.sources,e.sources,i,o);var a=[];t.layers&&t.layers.forEach(function(t){o[t.source]?n.push({command:c.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(i),s(a,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:c.setStyle,args:[e]}]}return n}var l=t("lodash.isequal"),c={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=u,e.exports.operations=c},{"lodash.isequal":160}],167:[function(t,e,n){"use strict";function r(t,e){this.message=(t?t+": ":"")+o.apply(o,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var o=t("util").format;e.exports=r},{util:205}],168:[function(t,e,n){"use strict";function r(t){return a(i.map(function(e){return t[e]}))}function o(t){var e,n,o={};for(e=0;e<t.length;e++){n=r(t[e]);var i=o[n];i||(i=o[n]=[]),i.push(t[e])}var a=[];for(n in o)a.push(o[n]);return a}var i=t("./util/ref_properties"),a=t("fast-stable-stringify");e.exports=o},{"./util/ref_properties":171,"fast-stable-stringify":137}],169:[function(t,e,n){"use strict";e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}},{}],170:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],171:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],172:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],173:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("../util/extend");e.exports=function(e){var n=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},u=e.value,l=e.valueSpec,c=e.key,f=e.styleSpec,p=e.style;if("string"===o(u)&&"@"===u[0]){if(f.$version>7)return[new r(c,u,"constants have been deprecated as of v8")];if(!(u in p.constants))return[new r(c,u,'constant "%s" not found',u)];e=i({},e,{value:p.constants[u]})}return l.function&&"object"===o(u)?n(e):l.type&&s[l.type]?s[l.type](e):a(i({},e,{valueSpec:l.type?f[l.type]:l}))}},{"../error/validation_error":167,"../util/extend":169,"../util/get_type":170,"./validate_array":174,"./validate_boolean":175,"./validate_color":176,"./validate_constants":177,"./validate_enum":178,"./validate_filter":179,"./validate_function":180,"./validate_layer":182,"./validate_light":184,"./validate_number":185,"./validate_object":186,"./validate_source":188,"./validate_string":189}],174:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("./validate"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,l=t.arrayElementValidator||o;if("array"!==r(e))return[new i(u,e,"array expected, %s found",r(e))];if(n.length&&e.length!==n.length)return[new i(u,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new i(u,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var f=[],p=0;p<e.length;p++)f=f.concat(l({array:e,arrayIndex:p,value:e[p],valueSpec:c,style:a,styleSpec:s,key:u+"["+p+"]"}));return f}},{"../error/validation_error":167,"../util/get_type":170,"./validate":173}],175:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,i=r(e);return"boolean"!==i?[new o(n,e,"boolean expected, %s found",i)]:[]}},{"../error/validation_error":167,"../util/get_type":170}],176:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=o(n);return"string"!==a?[new r(e,n,"color expected, %s found",a)]:null===i(n)?[new r(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":167,"../util/get_type":170,csscolorparser:135}],177:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t){var e=t.key,n=t.value,i=t.styleSpec;if(i.$version>7)return n?[new r(e,n,"constants have been deprecated as of v8")]:[];var a=o(n);if("object"!==a)return[new r(e,n,"object expected, %s found",a)];var s=[];for(var u in n)"@"!==u[0]&&s.push(new r(e+"."+u,n[u],'constants must start with "@"'));return s}},{"../error/validation_error":167,"../util/get_type":170}],178:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,i=t.valueSpec,a=[];return Array.isArray(i.values)?i.values.indexOf(o(n))===-1&&a.push(new r(e,n,"expected one of [%s], %s found",i.values.join(", "),n)):Object.keys(i.values).indexOf(o(n))===-1&&a.push(new r(e,n,"expected one of [%s], %s found",Object.keys(i.values).join(", "),n)),a}},{"../error/validation_error":167,"../util/unbundle_jsonlint":172}],179:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("./validate_enum"),i=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function t(e){var n,s=e.value,u=e.key,l=e.styleSpec,c=[];if("array"!==i(s))return[new r(u,s,"array expected, %s found",i(s))];if(s.length<1)return[new r(u,s,"filter array must have at least 1 element")];switch(c=c.concat(o({key:u+"[0]",value:s[0],valueSpec:l.filter_operator,style:e.style,styleSpec:e.styleSpec})),a(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"==s[1]&&c.push(new r(u,s,'"$type" cannot be use with operator "%s"',s[0]));case"==":case"!=":3!=s.length&&c.push(new r(u,s,'filter array for operator "%s" must have 3 elements',s[0]));case"in":case"!in":s.length>=2&&(n=i(s[1]),"string"!==n?c.push(new r(u+"[1]",s[1],"string expected, %s found",n)):"@"===s[1][0]&&c.push(new r(u+"[1]",s[1],"filter key cannot be a constant")));for(var f=2;f<s.length;f++)n=i(s[f]),"$type"==s[1]?c=c.concat(o({key:u+"["+f+"]",value:s[f],valueSpec:l.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"===n&&"@"===s[f][0]?c.push(new r(u+"["+f+"]",s[f],"filter value cannot be a constant")):"string"!==n&&"number"!==n&&"boolean"!==n&&c.push(new r(u+"["+f+"]",s[f],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(f=1;f<s.length;f++)c=c.concat(t({key:u+"["+f+"]",value:s[f],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=i(s[1]),2!==s.length?c.push(new r(u,s,'filter array for "%s" operator must have 2 elements',s[0])):"string"!==n?c.push(new r(u+"[1]",s[1],"string expected, %s found",n)):"@"===s[1][0]&&c.push(new r(u+"[1]",s[1],"filter key cannot be a constant"))}return c}},{"../error/validation_error":167,"../util/get_type":170,"../util/unbundle_jsonlint":172,"./validate_enum":178}],180:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),u=t("./validate_number"),l=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new r(t.key,t.value,'identity function may not have a "stops" property')];var e=[],i=t.value;return e=e.concat(s({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===o(i)&&0===i.length&&e.push(new r(t.key,i,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==o(n))return[new r(s,n,"array expected, %s found",o(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];if(_){if("object"!==o(n[0]))return[new r(s,n,"object expected, %s found",o(n[0]))];if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];if(h&&h>l(n[0].zoom))return[new r(s,n[0].zoom,"stop zoom values must appear in ascending order")];l(n[0].zoom)!==h&&(h=l(n[0].zoom),p=void 0),e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:c}}))}else e=e.concat(c({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e=e.concat(i({key:s+"[1]",value:n[1],valueSpec:d,style:t.style,styleSpec:t.styleSpec})),"number"===o(n[0])&&"piecewise-constant"===d.function&&n[0]%1!==0&&e.push(new r(s+"[0]",n[0],"zoom level for piecewise-constant functions must be an integer")),e}function c(t){var e=o(t.value),n=l(t.value);if(f){if(e!==f)return[new r(t.key,t.value,"%s stop domain type must match previous stop domain type %s",e,f)]}else f=e,m||"string"!==e||(m="categorical");return"number"!==e&&"string"!==e?[new r(t.key,t.value,"property value must be a number or string")]:"number"!==e&&"categorical"!==m?[new r(t.key,t.value,"number expected, %s found",e)]:"categorical"!==m||"number"!==e||isFinite(n)&&Math.floor(n)===n?"number"===e&&void 0!==p&&n<p?[new r(t.key,t.value,"stop domain values must appear in ascending order")]:(p=n,"categorical"===m&&n in y?[new r(t.key,t.value,"stop domain values must be unique")]:(y[n]=!0,[])):[new r(t.key,t.value,"integer expected, found %s",n)]}var f,p,h,d=t.valueSpec,m=l(t.value.type),y={},v="categorical"!==m&&void 0===t.value.property,g=!v,_="array"===o(t.value.stops)&&"array"===o(t.value.stops[0])&&"object"===o(t.value.stops[0][0]),b=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e}});return"identity"===m||t.value.stops||b.push(new r(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec.function&&b.push(new r(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(g&&!t.valueSpec["property-function"]?b.push(new r(t.key,t.value,"property functions not supported")):v&&!t.valueSpec["zoom-function"]&&b.push(new r(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!_||void 0!==t.value.property||b.push(new r(t.key,t.value,'"property" property is required')),b}},{"../error/validation_error":167,"../util/get_type":170,"../util/unbundle_jsonlint":172,"./validate":173,"./validate_array":174,"./validate_number":185,"./validate_object":186}],181:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,i=o(t);return i.length?i:(e.indexOf("{fontstack}")===-1&&i.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&i.push(new r(n,e,'"glyphs" url must include a "{range}" token')),i)}},{"../error/validation_error":167,"./validate_string":189}],182:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),u=t("./validate_layout_property"),l=t("../util/extend");e.exports=function(t){var e=[],n=t.value,c=t.key,f=t.style,p=t.styleSpec;n.type||n.ref||e.push(new r(c,n,'either "type" or "ref" is required'));var h=o(n.type),d=o(n.ref);if(n.id)for(var m=0;m<t.arrayIndex;m++){var y=f.layers[m];o(y.id)===o(n.id)&&e.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,y.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(c,n[t],'"%s" is prohibited for ref layers',t))});var v;f.layers.forEach(function(t){t.id==d&&(v=t)}),v?v.ref?e.push(new r(c,n.ref,"ref cannot reference another ref layer")):h=o(v.type):e.push(new r(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==h)if(n.source){var g=f.sources&&f.sources[n.source];g?"vector"==g.type&&"raster"==h?e.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"==g.type&&"raster"!=h?e.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!=g.type||n["source-layer"]||e.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new r(c,n.source,'source "%s" not found',n.source))}else e.push(new r(c,n,'missing required property "source"'));return e=e.concat(i({key:c,value:n,valueSpec:p.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:a,layout:function(t){return i({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(l({layerType:h},t))}}})},paint:function(t){return i({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(l({layerType:h},t))}}})}}}))}},{"../error/validation_error":167,"../util/extend":169,"../util/unbundle_jsonlint":172,"./validate_filter":179,"./validate_layout_property":183,"./validate_object":186,"./validate_paint_property":187}],183:[function(t,e,n){"use strict";var r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.style,i=t.styleSpec,a=t.value,s=t.objectKey,u=i["layout_"+t.layerType];if(!u)return[];if(t.valueSpec||u[s]){var l=[];return"symbol"===t.layerType&&("icon-image"===s&&n&&!n.sprite?l.push(new o(e,a,'use of "icon-image" requires a style "sprite" property')):"text-field"===s&&n&&!n.glyphs&&l.push(new o(e,a,'use of "text-field" requires a style "glyphs" property'))),l.concat(r({key:t.key,value:a,valueSpec:t.valueSpec||u[s],style:n,styleSpec:i}))}return[new o(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":167,"./validate":173}],184:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,u=[],l=o(e);if(void 0===e)return u;if("object"!==l)return u=u.concat([new r("light",e,"object expected, %s found",l)]);for(var c in e){var f=c.match(/^(.*)-transition$/);u=f&&a[f[1]]&&a[f[1]].transition?u.concat(i({key:c,value:e[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?u.concat(i({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:n})):u.concat([new r(c,e[c],'unknown property "%s"',c)])}return u}},{"../error/validation_error":167,"../util/get_type":170,"./validate":173}],185:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,i=t.valueSpec,a=r(n);return"number"!==a?[new o(e,n,"number expected, %s found",a)]:"minimum"in i&&n<i.minimum?[new o(e,n,"%s is less than the minimum value %s",n,i.minimum)]:"maximum"in i&&n>i.maximum?[new o(e,n,"%s is greater than the maximum value %s",n,i.maximum)]:[]}},{"../error/validation_error":167,"../util/get_type":170}],186:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/get_type"),i=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},u=t.style,l=t.styleSpec,c=[],f=o(n);if("object"!==f)return[new r(e,n,"object expected, %s found",f)];for(var p in n){var h,d=p.split(".")[0],m=a[d]||a["*"];if(s[d])h=s[d];else if(a[d])h=i;else if(s["*"])h=s["*"];else{if(!a["*"]){c.push(new r(e,n[p],'unknown property "%s"',p));continue}h=i}c=c.concat(h({key:(e?e+".":e)+p,value:n[p],valueSpec:m,style:u,styleSpec:l,object:n,objectKey:p}))}for(d in a)a[d].required&&void 0===a[d].default&&void 0===n[d]&&c.push(new r(e,n,'missing required property "%s"',d));return c}},{"../error/validation_error":167,"../util/get_type":170,"./validate":173}],187:[function(t,e,n){"use strict";var r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.style,i=t.styleSpec,a=t.value,s=t.objectKey,u=i["paint_"+t.layerType];if(!u)return[];var l=s.match(/^(.*)-transition$/);return l&&u[l[1]]&&u[l[1]].transition?r({key:e,value:a,valueSpec:i.transition,style:n,styleSpec:i}):t.valueSpec||u[s]?r({key:t.key,value:a,valueSpec:t.valueSpec||u[s],style:n,styleSpec:i}):[new o(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":167,"./validate":173}],188:[function(t,e,n){"use strict";var r=t("../error/validation_error"),o=t("../util/unbundle_jsonlint"),i=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var l=o(e.type);switch(l){case"vector":case"raster":var c=[];if(c=c.concat(i({key:n,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var f in e)["type","url","tileSize"].indexOf(f)<0&&c.push(new r(n+"."+f,e[f],'a source with a "url" property may not include a "%s" property',f));return c;case"geojson":return i({key:n,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return i({key:n,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return i({key:n,value:e,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return i({key:n,value:e,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},{"../error/validation_error":167,"../util/unbundle_jsonlint":172,"./validate_enum":178,"./validate_object":186}],189:[function(t,e,n){"use strict";var r=t("../util/get_type"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,i=r(e);return"string"!==i?[new o(n,e,"string expected, %s found",i)]:[]}},{"../error/validation_error":167,"../util/get_type":170}],190:[function(t,e,n){"use strict";function r(t,e){e=e||u;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),e.$version>7&&t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),o(n)}function o(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function i(t){return function(){return o(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),u=t("../reference/latest.min"),l=t("./validate/validate_glyphs_url");r.source=i(t("./validate/validate_source")),r.light=i(t("./validate/validate_light")),r.layer=i(t("./validate/validate_layer")),r.filter=i(t("./validate/validate_filter")),r.paintProperty=i(t("./validate/validate_paint_property")),r.layoutProperty=i(t("./validate/validate_layout_property")),e.exports=r},{"../reference/latest.min":191,"./validate/validate":173,"./validate/validate_constants":177,"./validate/validate_filter":179,"./validate/validate_glyphs_url":181,"./validate/validate_layer":182,"./validate/validate_layout_property":183,"./validate/validate_light":184,"./validate/validate_paint_property":187,"./validate/validate_source":188}],191:[function(t,e,n){e.exports=t("./v8.min.json")},{"./v8.min.json":192}],192:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:!0,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}
}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],193:[function(t,e,n){"use strict";function r(t){return!!(o()&&i()&&a()&&s()&&u()&&l()&&c()&&f(t&&t.failIfMajorPerformanceCaveat))}function o(){return"undefined"!=typeof window&&"undefined"!=typeof document}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(t){return void 0===h[t]&&(h[t]=p(t)),h[t]}function p(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var h={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],194:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(t){var o=n.isAbsolute(t),i="/"===a(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var o=r(t.split("/")),i=r(e.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var l=[],u=s;u<o.length;u++)l.push("..");return l=l.concat(i.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:198}],195:[function(t,e,n){"use strict";function r(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=i.readUInt32LE,n.writeUInt32LE=i.writeUInt32LE,n.readInt32LE=i.readInt32LE,n.writeInt32LE=i.writeInt32LE,n.readFloatLE=i.readFloatLE,n.writeFloatLE=i.writeFloatLE,n.readDoubleLE=i.readDoubleLE,n.writeDoubleLE=i.writeDoubleLE,n.toString=i.toString,n.write=i.write,n.slice=i.slice,n.copy=i.copy,n._isBuffer=!0,n}function o(t){for(var e,n,r=t.length,o=[],i=0;i<r;i++){if(e=t.charCodeAt(i),e>55295&&e<57344){if(!n){e>56319||i+1===r?o.push(239,191,189):n=e;continue}if(e<56320){o.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(o.push(239,191,189),n=null);e<128?o.push(e):e<2048?o.push(e>>6|192,63&e|128):e<65536?o.push(e>>12|224,e>>6&63|128,63&e|128):o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return o}e.exports=r;var i,a,s,u=t("ieee754");i={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return u.read(this,t,!0,23,4)},readDoubleLE:function(t){return u.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return u.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return u.write(this,t,e,!0,52,8)},toString:function(t,e,n){var r="",o="";e=e||0,n=Math.min(this.length,n||this.length);for(var i=e;i<n;i++){var a=this[i];a<=127?(r+=decodeURIComponent(o)+String.fromCharCode(a),o=""):o+="%"+a.toString(16)}return r+=decodeURIComponent(o)},write:function(t,e){for(var n=t===a?s:o(t),r=0;r<n.length;r++)this[e+r]=n[r]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},i.writeInt32LE=i.writeUInt32LE,r.byteLength=function(t){return a=t,s=o(t),s.length},r.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:150}],196:[function(t,e,r){(function(n){"use strict";function r(t){this.buf=y.isBuffer(t)?t:new y(t||0),this.pos=0,this.length=this.buf.length}function o(t,e){var n,r=e.buf;if(n=r[e.pos++],t+=268435456*(127&n),n<128)return t;if(n=r[e.pos++],t+=34359738368*(127&n),n<128)return t;if(n=r[e.pos++],t+=4398046511104*(127&n),n<128)return t;if(n=r[e.pos++],t+=562949953421312*(127&n),n<128)return t;if(n=r[e.pos++],t+=72057594037927940*(127&n),n<128)return t;if(n=r[e.pos++],t+=0x8000000000000000*(127&n),n<128)return t;throw new Error("Expected varint not more than 10 bytes")}function i(t,e){e.realloc(10);for(var n=e.pos+10;t>=1;){if(e.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&t;e.buf[e.pos++]=r|(t>=128?128:0),t/=128}}function a(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=t;o--)n.buf[o+r]=n.buf[o]}function s(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}e.exports=r;var y=n.Buffer||t("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var v=4294967296,g=1/v,_=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),o=r>>3,i=this.pos;t(o,e,this),this.pos===i&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*v;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*v;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n=this.buf;return e=n[this.pos++],t=127&e,e<128?t:(e=n[this.pos++],t|=(127&e)<<7,e<128?t:(e=n[this.pos++],t|=(127&e)<<14,e<128?t:(e=n[this.pos++],t|=(127&e)<<21,e<128?t:o(t,this))))},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<_)return e;for(var n=this.pos-2;255===this.buf[n];)n--;n<t&&(n=t),e=0;for(var r=0;r<n-t+1;r++){var o=127&~this.buf[t+r];e+=r<4?o<<7*r:o*Math.pow(2,7*r)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new y(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void i(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=y.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){this.writeMessage(t,f,e)},writePackedFloat:function(t,e){this.writeMessage(t,l,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,m,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":195}],197:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,o=n*this.x+e*this.y;return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],198:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined");
}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){y&&d&&(y=!1,d.length?m=d.concat(m):v=-1,m.length&&u())}function u(){if(!y){var t=i(s);y=!0;for(var e=m.length;e;){for(d=m,m=[];++v<e;)d&&d[v].run();v=-1,e=m.length}d=null,y=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f,p,h=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var d,m=[],y=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new l(t,e)),1!==m.length||y||i(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],199:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||i;a>n;){if(a-n>600){var u=a-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(e-l*f/u+p)),d=Math.min(a,Math.floor(e+(u-l)*f/u+p));r(t,e,h,d,s)}var m=t[e],y=n,v=a;for(o(t,n,e),s(t[a],m)>0&&o(t,n,a);y<v;){for(o(t,y,v),y++,v--;s(t[y],m)<0;)y++;for(;s(t[v],m)>0;)v--}0===s(t[n],m)?o(t,n,v):(v++,o(t,v,a)),v<=e&&(n=v+1),e<=v&&(a=v-1)}}function o(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],200:[function(e,n,r){!function(e,o){"object"==typeof r&&"undefined"!=typeof n?n.exports=o():"function"==typeof t&&t.amd?t(o):e.ShelfPack=o()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.stats={},this.count=function(t){this.stats[t]=(0|this.stats[t])+1}}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,o,i=[],a=0;a<t.length;a++)if(n=t[a].w||t[a].width,r=t[a].h||t[a].height,n&&r){if(o=this.packOne(n,r),!o)continue;e.inPlace&&(t[a].x=o.x,t[a].y=o.y),i.push(o)}if(this.shelves.length>0){for(var s=0,u=0,l=0;l<this.shelves.length;l++){var c=this.shelves[l];u+=c.h,s=Math.max(c.w-c.free,s)}this.resize(s,u)}return i},t.prototype.packOne=function(t,n){for(var r,o,i=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(r=this.shelves[s],i+=r.h,n===r.h&&t<=r.free)return this.count(n),r.alloc(t,n);n>r.h||t>r.free||n<r.h&&t<=r.free&&(o=r.h-n,o<a.waste&&(a.waste=o,a.shelf=s))}if(a.shelf!==-1)return r=this.shelves[a.shelf],this.count(n),r.alloc(t,n);if(n<=this.h-i&&t<=this.w)return r=new e(i,this.w,n),this.shelves.push(r),this.count(n),r.alloc(t,n);if(this.autoResize){var u,l,c,f;return u=l=this.h,c=f=this.w,(c<=u||t>c)&&(f=2*Math.max(t,c)),(u<c||n>u)&&(l=2*Math.max(n,u)),this.resize(f,l),this.packOne(t,n)}return null},t.prototype.clear=function(){this.shelves=[],this.stats={}},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e){if(t>this.free||e>this.h)return null;var n=this.x;return this.x+=t,this.free-=t,{x:n,y:this.y,w:t,h:e,width:t,height:e}},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],201:[function(t,e,n){"use strict";function r(t){return new o(t)}function o(t){this.options=h(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function i(t,e,n,r){return{x:t,y:e,zoom:1/0,id:r,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return i(l(n[0]),c(n[1]),1,e)}function s(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[f(t.x),p(t.y)]}}}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:n}}function l(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f(t){return 360*(t-.5)}function p(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function h(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function m(t){return t.y}var y=t("kdbush");e.exports=r,o.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var i=+Date.now();this.trees[o+1]=y(r,d,m,this.options.nodeSize,Float32Array),r=this._cluster(r,o),e&&console.log("z%d: %d clusters in %dms",o,r.length,+Date.now()-i)}return this.trees[this.options.minZoom]=y(r,d,m,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(l(t[0]),c(t[3]),l(t[2]),c(t[1])),o=[],i=0;i<r.length;i++){var a=n.points[r[i]];o.push(a.id!==-1?this.points[a.id]:s(a))}return o},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],o=Math.pow(2,t),i=this.options.extent,a=this.options.radius,s=a/i,u=(n-s)/o,l=(n+1+s)/o,c={features:[]};return this._addTileFeatures(r.range((e-s)/o,u,(e+1+s)/o,l),r.points,e,n,o,c),0===e&&this._addTileFeatures(r.range(1-s/o,u,1,l),r.points,o,n,o,c),e===o-1&&this._addTileFeatures(r.range(0,u,s/o,l),r.points,-1,n,o,c),c.features.length?c:null},_addTileFeatures:function(t,e,n,r,o,i){for(var a=0;a<t.length;a++){var s=e[t[a]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*o-n)),Math.round(this.options.extent*(s.y*o-r))]],tags:s.id!==-1?this.points[s.id].properties:u(s)})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var a=t[o];if(!(a.zoom<=e)){a.zoom=e;for(var s=this.trees[e+1],u=s.within(a.x,a.y,r),l=!1,c=a.numPoints,f=a.x*c,p=a.y*c,h=0;h<u.length;h++){var d=s.points[u[h]];e<d.zoom&&(l=!0,d.zoom=e,f+=d.x*d.numPoints,p+=d.y*d.numPoints,c+=d.numPoints)}n.push(l?i(f/c,p/c,c,-1):a)}}return n}}},{kdbush:151}],202:[function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,t)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function o(t,e){return t<e?-1:t>e?1:0}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),t},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare;t>0;){var r=Math.floor((t-1)/2);if(!(n(e[t],e[r])<0))break;i(e,r,t),t=r}},_down:function(t){for(var e=this.data,n=this.compare,r=this.length;;){var o=2*t+1,a=o+1,s=t;if(o<r&&n(e[o],e[s])<0&&(s=o),a<r&&n(e[a],e[s])<0&&(s=a),s===t)return;i(e,s,t),t=s}}}},{}],203:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],204:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],205:[function(t,e,r){(function(e,n){function o(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(e)?n.showHidden=e:e&&r._extend(n,e),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),u(n,t,n.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(n,t);return _(o)||(o=u(t,o,n)),o}var i=l(t,e);if(i)return i;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),M(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(T(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return t.stylize(Date.prototype.toString.call(e),"date");if(M(e))return c(e)}var v="",g=!1,b=["{","}"];if(d(e)&&(g=!0,b=["[","]"]),T(e)){var x=e.name?": "+e.name:"";v=" [Function"+x+"]"}if(w(e)&&(v=" "+RegExp.prototype.toString.call(e)),S(e)&&(v=" "+Date.prototype.toUTCString.call(e)),M(e)&&(v=" "+c(e)),0===a.length&&(!g||0==e.length))return b[0]+v+b[1];if(n<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=g?f(t,e,n,m,a):a.map(function(r){return p(t,e,n,m,r,g)}),t.seen.pop(),h(E,v,b)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)R(e,String(a))?i.push(p(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}function p(t,e,n,r,o,i){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),R(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(l.value)<0?(s=y(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return null==t}function g(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===k(t)}function E(t){return"object"==typeof t&&null!==t}function S(t){return E(t)&&"[object Date]"===k(t)}function M(t){return E(t)&&("[object Error]"===k(t)||t instanceof Error)}function T(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function P(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var O=/%[sdj%]/g;r.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(t).replace(O,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])a+=y(s)||!E(s)?" "+s:" "+o(s);return a},r.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(x(n.process))return function(){return r.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return i};var I,L={};r.debuglog=function(t){if(x(I)&&(I=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(I)){var n=e.pid;L[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else L[t]=function(){};return L[t]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=m,r.isNull=y,r.isNullOrUndefined=v,r.isNumber=g,r.isString=_,r.isSymbol=b,r.isUndefined=x,r.isRegExp=w,r.isObject=E,r.isDate=S,r.isError=M,r.isFunction=T,r.isPrimitive=C,r.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",A(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":204,_process:198,inherits:203}],206:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":207,"./lib/vectortilefeature.js":208,"./lib/vectortilelayer.js":209}],207:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(o,{},e)}function o(t,e,n){if(3===t){var r=new i(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var i=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":209}],208:[function(t,e,n){"use strict";function r(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(o,this,e)}function o(t,e,n){1==t?e.id=n.readVarint():2==t?i(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function i(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[r]=o}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,o=[],i=0;i<e;i++){var a=s(t[i]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&o.push(n),n=[t[i]]):n.push(t[i]))}return n&&o.push(n),o}function s(t){for(var e,n,r=0,o=0,i=t.length,a=i-1;o<i;a=o++)e=t[o],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var u=t("point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,i=0,a=0,s=[];t.pos<n;){if(!o){var l=t.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)i+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new u(i,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,o=0,i=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)o+=t.readSVarint(),i+=t.readSVarint(),o<a&&(a=o),o>s&&(s=o),i<u&&(u=i),i>l&&(l=i);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(t,e,n){function o(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+c)/u;t[e]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var i,s,u=this.extent*Math.pow(2,n),l=this.extent*t,c=this.extent*e,f=this.loadGeometry(),p=r.types[this.type];switch(this.type){case 1:var h=[];for(i=0;i<f.length;i++)h[i]=f[i][0];f=h,o(f);break;case 2:for(i=0;i<f.length;i++)o(f[i]);break;case 3:for(f=a(f),i=0;i<f.length;i++)for(s=0;s<f[i].length;s++)o(f[i][s])}1===f.length?f=f[0]:p="Multi"+p;var d={type:"Feature",geometry:{type:p,coordinates:f},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":197}],209:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(i(n))}function i(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":208}],210:[function(t,e,n){function r(t){var e=[];for(var n in t.layers)e.push(i(t.layers[n]));var r=new c;return f.tile.write({layers:e},r),r.finish()}function o(t){var e={};for(var n in t)e[n]=new p(t[n].features),e[n].name=n;return r({layers:e})}function i(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},n={},r={},o=0;o<t.length;o++){var i=t.feature(o);i.geometry=u(i.loadGeometry());var a=[];for(var s in i.properties){var c=n[s];"undefined"==typeof c&&(e.keys.push(s),c=e.keys.length-1,n[s]=c);var f=l(i.properties[s]),p=r[f.key];"undefined"==typeof p&&(e.values.push(f),p=e.values.length-1,r[f.key]=p),a.push(c),a.push(p)}i.tags=a,e.features.push(i)}return e}function a(t,e){return(e<<3)+(7&t)}function s(t){return t<<1^t>>31}function u(t){for(var e=[],n=0,r=0,o=t.length,i=0;i<o;i++){var u=t[i];e.push(a(1,1));for(var l=0;l<u.length;l++){1===l&&e.push(a(2,u.length-1));var c=u[l].x-n,f=u[l].y-r;e.push(s(c),s(f)),n+=c,r+=f}}return e}function l(t){var e,n=typeof t;return"string"===n?e={string_value:t}:"boolean"===n?e={bool_value:t}:"number"===n?e=t%1!==0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=n+":"+t,e}var c=t("pbf"),f=t("./vector-tile-pb"),p=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=o,e.exports.GeoJSONWrapper=p},{"./lib/geojson_wrapper":211,"./vector-tile-pb":212,pbf:196}],211:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function o(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var i=t("point-geometry"),a=t("vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],o=0;o<n.length;o++)r.push(new i(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,o=-(1/0),i=0;i<t.length;i++)for(var a=t[i],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),o=Math.max(o,u.y)}return[e,r,n,o]},o.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":197,"vector-tile":206}],212:[function(t,e,n){"use strict";function r(t,e){return t.readFields(o,{layers:[]},e)}function o(t,e,n){3===t&&e.layers.push(p(n,n.readVarint()+n.pos))}function i(t,e){var n;if(void 0!==t.layers)for(n=0;n<t.layers.length;n++)e.writeMessage(3,d,t.layers[n])}function a(t,e){return t.readFields(s,{},e)}function s(t,e,n){1===t?e.string_value=n.readString():2===t?e.float_value=n.readFloat():3===t?e.double_value=n.readDouble():4===t?e.int_value=n.readVarint():5===t?e.uint_value=n.readVarint():6===t?e.sint_value=n.readSVarint():7===t&&(e.bool_value=n.readBoolean())}function u(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function l(t,e){var n=t.readFields(c,{},e);return void 0===n.type&&(n.type="Unknown"),n}function c(t,e,n){1===t?e.id=n.readVarint():2===t?e.tags=n.readPackedVarint():3===t?e.type=n.readVarint():4===t&&(e.geometry=n.readPackedVarint())}function f(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function p(t,e){return t.readFields(h,{features:[],keys:[],values:[]},e)}function h(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():2===t?e.features.push(l(n,n.readVarint()+n.pos)):3===t?e.keys.push(n.readString()):4===t?e.values.push(a(n,n.readVarint()+n.pos)):5===t&&(e.extent=n.readVarint())}function d(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var n;if(void 0!==t.features)for(n=0;n<t.features.length;n++)e.writeMessage(2,f,t.features[n]);if(void 0!==t.keys)for(n=0;n<t.keys.length;n++)e.writeStringField(3,t.keys[n]);if(void 0!==t.values)for(n=0;n<t.values.length;n++)e.writeMessage(4,u,t.values[n]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var m=n.tile={read:r,write:i};m.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},m.value={read:a,write:u},m.feature={read:l,write:f},m.layer={read:p,write:d}},{}],213:[function(t,e,n){var r=arguments[3],o=arguments[4],i=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){y[t]=!0;for(var e in o[t][1]){var r=o[t][1][e];y[r]||n(r)}}for(var s,u=Object.keys(i),l=0,c=u.length;l<c;l++){var f=u[l],p=i[f].exports;if(p===t||p&&p.default===t){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},l=0,c=u.length;l<c;l++){var f=u[l];h[f]=f}o[s]=[Function(["require","module","exports"],"("+t+")(self)"),h]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,o[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),m];var y={};n(d);var v="("+r+")({"+Object.keys(y).map(function(t){return a(t)+":["+o[t][0]+","+a(o[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return _;var b=g.createObjectURL(_),x=new Worker(b);return x.objectURL=b,x}},{}],214:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],215:[function(e,n,r){!function(e,o){"object"==typeof r&&"undefined"!=typeof n?o(r):"function"==typeof t&&t.amd?t(["exports"],o):o(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,r,o,i,a){a=a||{};var s=t+"?"+["bbox="+n(r,o,i),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&");return s}function n(t,e,n){e=Math.pow(2,n)-e-1;var o=r(256*t,256*e,n),i=r(256*(t+1),256*(e+1),n);return o[0]+","+o[1]+","+i[0]+","+i[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),o=t*r-2*Math.PI*6378137/2,i=e*r-2*Math.PI*6378137/2;return[o,i]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],216:[function(t,e,n){e.exports={version:"0.32.1"}},{}]},{},[24])(24)})}).call(e,n(147).Buffer,function(){return this}())},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(n(this,t),!e||"string"!=typeof e)throw new Error("A string non-empty key is required");this._key=e,this._assignEntity=r.assignEntity;var o=r.idAttribute||"id";this._getId="function"==typeof o?o:function(t){return t[o]},this._idAttribute=o,this._meta=r.meta,this._defaults=r.defaults}return r(t,[{key:"getAssignEntity",value:function(){return this._assignEntity}},{key:"getKey",value:function(){return this._key}},{key:"getId",value:function(t){return this._getId(t)}},{key:"getIdAttribute",value:function(){return this._idAttribute}},{key:"getMeta",value:function(t){if(!t||"string"!=typeof t)throw new Error("A string non-empty property name is required");return this._meta&&this._meta[t]}},{key:"getDefaults",value:function(){return this._defaults}},{key:"define",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(33),s=r(a),u=n(107),l=r(u),c=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(o(this,t),!(0,s.default)(e))throw new Error("ArraySchema requires item schema to be an object.");if(n.schemaAttribute){var r=n.schemaAttribute;this._itemSchema=new l.default(e,{schemaAttribute:r})}else this._itemSchema=e}return i(t,[{key:"getItemSchema",value:function(){return this._itemSchema}}]),t}();e.default=c},function(t,e,n){var r=n(32),o=n(17),i=r(o,"DataView");t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(221),i=n(222),a=n(223),s=n(224),u=n(225);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(32),o=n(17),i=r(o,"Promise");t.exports=i},function(t,e,n){var r=n(32),o=n(17),i=r(o,"Set");t.exports=i},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new o;++e<n;)this.add(t[e])}var o=n(109),i=n(245),a=n(246);r.prototype.add=r.prototype.push=i,r.prototype.has=a,t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new o(t);this.size=e.size}var o=n(52),i=n(248),a=n(249),s=n(250),u=n(251),l=n(252);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=l,t.exports=r},function(t,e,n){var r=n(17),o=r.Uint8Array;t.exports=o},function(t,e,n){var r=n(32),o=n(17),i=r(o,"WeakMap");t.exports=i},function(t,e,n){function r(t,e){var n=a(t),r=!n&&i(t),c=!n&&!r&&s(t),p=!n&&!r&&!c&&l(t),h=n||r||c||p,d=h?o(t.length,String):[],m=d.length;for(var y in t)!e&&!f.call(t,y)||h&&("length"==y||c&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||d.push(y);return d}var o=n(212),i=n(253),a=n(114),s=n(115),u=n(226),l=n(118),c=Object.prototype,f=c.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t){return i(t)&&o(t)==a}var o=n(54),i=n(57),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t,e,n,s,u){return t===e||(null==t||null==e||!i(t)&&!a(e)?t!==t&&e!==e:o(t,e,r,n,s,u))}var o=n(208),i=n(33),a=n(57);t.exports=r},function(t,e,n){function r(t,e,n,r,y,g){var _=l(t),b=l(e),x=d,w=d;_||(x=u(t),x=x==h?m:x),b||(w=u(e),w=w==h?m:w);var E=x==m,S=w==m,M=x==w;if(M&&c(t)){if(!c(e))return!1;_=!0,E=!1}if(M&&!E)return g||(g=new o),_||f(t)?i(t,e,n,r,y,g):a(t,e,x,n,r,y,g);if(!(y&p)){var T=E&&v.call(t,"__wrapped__"),C=S&&v.call(e,"__wrapped__");if(T||C){var k=T?t.value():t,P=C?e.value():e;return g||(g=new o),n(k,P,r,y,g)}}return!!M&&(g||(g=new o),s(t,e,n,r,y,g))}var o=n(201),i=n(110),a=n(216),s=n(217),u=n(219),l=n(114),c=n(115),f=n(118),p=2,h="[object Arguments]",d="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t))return!1;var e=o(t)?d:l;return e.test(s(t))}var o=n(116),i=n(228),a=n(33),s=n(112),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,p=c.toString,h=f.hasOwnProperty,d=RegExp("^"+p.call(h).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return a(t)&&i(t.length)&&!!R[o(t)]}var o=n(54),i=n(117),a=n(57),s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",p="[object Function]",h="[object Map]",d="[object Number]",m="[object Object]",y="[object RegExp]",v="[object Set]",g="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",R={};R[w]=R[E]=R[S]=R[M]=R[T]=R[C]=R[k]=R[P]=R[A]=!0,R[s]=R[u]=R[b]=R[l]=R[x]=R[c]=R[f]=R[p]=R[h]=R[d]=R[m]=R[y]=R[v]=R[g]=R[_]=!1,t.exports=r},function(t,e,n){function r(t){if(!o(t))return i(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(229),i=n(241),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){var r=n(17),o=r["__core-js_shared__"];t.exports=o},function(t,e,n){function r(t,e,n,r,o,E,M){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!r(new i(t),new i(e)));case p:case h:case y:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case _:return t==e+"";case m:var T=u;case g:var C=E&f;if(T||(T=l),t.size!=e.size&&!C)return!1;var k=M.get(t);if(k)return k==e;E|=c,M.set(t,e);var P=s(T(t),T(e),r,o,E,M);return M.delete(t),P;case b:if(S)return S.call(t)==S.call(e)}return!1}var o=n(69),i=n(202),a=n(113),s=n(110),u=n(240),l=n(247),c=1,f=2,p="[object Boolean]",h="[object Date]",d="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",_="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",E=o?o.prototype:void 0,S=E?E.valueOf:void 0;
t.exports=r},function(t,e,n){function r(t,e,n,r,a,u){var l=a&i,c=o(t),f=c.length,p=o(e),h=p.length;if(f!=h&&!l)return!1;for(var d=f;d--;){var m=c[d];if(!(l?m in e:s.call(e,m)))return!1}var y=u.get(t);if(y&&u.get(e))return y==e;var v=!0;u.set(t,e),u.set(e,t);for(var g=l;++d<f;){m=c[d];var _=t[m],b=e[m];if(r)var x=l?r(b,_,m,e,t,u):r(_,b,m,t,e,u);if(!(void 0===x?_===b||n(_,b,r,a,u):x)){v=!1;break}g||(g="constructor"==m)}if(v&&!g){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(v=!1)}return u.delete(t),u.delete(e),v}var o=n(256),i=2,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},[455,69],function(t,e,n){var r=n(196),o=n(68),i=n(198),a=n(199),s=n(203),u=n(54),l=n(112),c="[object Map]",f="[object Object]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",m="[object DataView]",y=l(r),v=l(o),g=l(i),_=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=m||o&&x(new o)!=c||i&&x(i.resolve())!=p||a&&x(new a)!=h||s&&x(new s)!=d)&&(x=function(t){var e=u(t),n=e==f?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case y:return m;case v:return c;case g:return p;case _:return h;case b:return d}return e}),t.exports=x},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(56);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return s.call(e,t)?e[t]:void 0}var o=n(56),i="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return o?void 0!==e[t]:a.call(e,t)}var o=n(56),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?i:e,this}var o=n(56),i="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!i&&i in t}var o=n(215),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),--this.size,!0}var o=n(53),i=Array.prototype,a=i.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(53);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(53);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(53);t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(197),i=n(52),a=n(68);t.exports=r},function(t,e,n){function r(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}var o=n(55);t.exports=r},function(t,e,n){function r(t){return o(this,t).get(t)}var o=n(55);t.exports=r},function(t,e,n){function r(t){return o(this,t).has(t)}var o=n(55);t.exports=r},function(t,e,n){function r(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var o=n(55);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){var r=n(244),o=r(Object.keys,Object);t.exports=o},function(t,e,n){(function(t){var r=n(111),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o,s=a&&r.process,u=function(){try{return s&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(78)(t))},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(){this.__data__=new o,this.size=0}var o=n(52);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var o=n(52),i=n(68),a=n(109),s=200;t.exports=r},function(t,e,n){var r=n(206),o=n(57),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(116),i=n(117);t.exports=r},function(t,e,n){function r(t,e){return o(t,e)}var o=n(207);t.exports=r},function(t,e,n){function r(t){return a(t)?o(t):i(t)}var o=n(204),i=n(211),a=n(254);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e){t.exports.modifierCodes={"":16,shift:16,"":17,ctrl:17,"":18,alt:18,option:18,"":91,meta:91,cmd:91,super:91,win:91},t.exports.modifierProperties={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"};for(var n={"":8,backspace:8,"":9,"":9,tab:9,"":13,return:13,enter:13,"":13,pause:19,"pause-break":19,"":20,caps:20,"caps-lock":20,"":27,escape:27,esc:27,space:32,"":33,pgup:33,"page-up":33,"":34,pgdown:34,"page-down":34,"":35,end:35,"":36,home:36,ins:45,insert:45,"":46,del:46,delete:46,"":37,left:37,"arrow-left":37,"":38,up:38,"arrow-up":38,"":39,right:39,"arrow-right":39,"":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostrophe:222},r=95,o=0;++r<106;)n["num-"+o]=r,++o;for(r=47,o=0;++r<58;)n[o]=r,++o;for(r=111,o=1;++r<136;)n["f"+o]=r,++o;for(r=63;++r<91;)n[String.fromCharCode(r).toLowerCase()]=r;var i=[["~","`"],["!","1"],["@","2"],["#","3"],["$","4"],["%","5"],["^","6"],["&","7"],["*","8"],["(","9"],[")","0"],["_","-"],["+","="],[":",";"],['"',"'"],["<",","],[">","."],["?","/"]];t.exports.unshiftedKeys=i.reduce(function(t,e){return t[n[e[1]]]=e[0],t},{}),t.exports.shiftedKeys=i.reduce(function(t,e){return t[e[0]]=n[e[1]],t},{}),t.exports.keyCodes=n},function(t,e){var n={INPUT:!0,SELECT:!0,TEXTAREA:!0};t.exports=function(t){return n[t.target.tagName]}},function(t,e){t.exports=function(t,e){for(var n in t)if(e[n]!=t[n])return!1;return!0}},function(t,e,n){var r=n(258);t.exports=function(t){for(var e=t.toLowerCase().match(/(?:(?:[^+])+|[]|\+\+|^\+$)/g),n={keyCode:null,shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},o=0;o<e.length;o++)"++"===e[o]&&(e[o]="+"),e[o]in r.modifierCodes?n[r.modifierProperties[r.modifierCodes[e[o]]]]=!0:e[o]in r.shiftedKeys?(n.keyCode=r.shiftedKeys[e[o]],n.shiftKey=!0):e[o]in r.keyCodes&&(n.keyCode=r.keyCodes[e[o]]);return n}},function(t,e,n){var r=n(261);t.exports=function(t,e){var n=[];for(var o in t){var i=r(o);n.push({expectation:i,action:t[o]}),e&&(i.metaKey?!i.ctrlKey:i.ctrlKey)&&n.push({expectation:{keyCode:i.keyCode,shiftKey:i.shiftKey,ctrlKey:!i.ctrlKey,altKey:i.altKey,metaKey:!i.metaKey},action:t[o]})}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.default=void 0;var s=n(1),u=n(120),l=r(u),c=n(121),f=(r(c),function(t){function e(n,r){o(this,e);var a=i(this,t.call(this,n,r));return a.store=n.store,a}return a(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return s.Children.only(t)},e}(s.Component));e.default=f,f.propTypes={store:l.default.isRequired,children:s.PropTypes.element.isRequired},f.childContextTypes={store:l.default.isRequired}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.displayName||t.name||"Component"}function u(t,e){try{return t.apply(e)}catch(n){return C.value=n,C}}function l(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],l=Boolean(t),p=t||S,d=void 0;d="function"==typeof e?e:e?(0,v.default)(e):M;var y=n||T,g=r.pure,_=void 0===g||g,b=r.withRef,w=void 0!==b&&b,P=_&&y!==T,A=k++;return function(t){function e(t,e,n){var r=y(t,e,n);return r}var n="Connect("+s(t)+")",r=function(r){function s(t,e){o(this,s);var a=i(this,r.call(this,t,e));a.version=A,a.store=t.store||e.store,(0,E.default)(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!_||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var n=t.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,e):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(t,e){var n=p(t.getState(),e),r="function"==typeof n;return this.finalMapStateToProps=r?n:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(t,e):n},s.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var n=t.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,e):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(t,e){var n=d(t.dispatch,e),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(t,e):n},s.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,m.default)(t,this.stateProps))&&(this.stateProps=t,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,m.default)(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var t=e(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&P&&(0,m.default)(t,this.mergedProps))&&(this.mergedProps=t,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(t){_&&(0,m.default)(t,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!_||e!==t){if(_&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===C&&(this.statePropsPrecalculationError=C.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},s.prototype.getWrappedInstance=function(){return(0,E.default)(w,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,s=!0;_&&i&&(a=n||e&&this.doStatePropsDependOnOwnProps,s=e&&this.doDispatchPropsDependOnOwnProps);var u=!1,l=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(l=this.updateDispatchPropsIfNeeded());var p=!0;return p=!!(u||l||e)&&this.updateMergedPropsIfNeeded(),!p&&i?i:(w?this.renderedElement=(0,f.createElement)(t,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(t,this.mergedProps),this.renderedElement)},s}(f.Component);return r.displayName=n,r.WrappedComponent=t,r.contextTypes={store:h.default},r.propTypes={store:h.default},(0,x.default)(r,t)}}var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.__esModule=!0,e.default=l;var f=n(1),p=n(120),h=r(p),d=n(265),m=r(d),y=n(266),v=r(y),g=n(121),_=(r(g),n(277)),b=(r(_),n(267)),x=r(b),w=n(268),E=r(w),S=function(t){return{}},M=function(t){return{dispatch:t}},T=function(t,e,n){return c({},n,t,e)},C={value:null},k=0},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return function(e){return(0,o.bindActionCreators)(t,e)}}e.__esModule=!0,e.default=r;var o=n(104)},function(t,e){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,i){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);o&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||i&&i[a[s]]))try{t[a[s]]=e[a[s]]}catch(u){}}return t}},9,[454,122,272,273],111,[457,274],[455,122],243,244,[456,270],57,[458,269,271,276],function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1),a=r(i),s=n(123),u=r(s),l=a.default.createClass({displayName:"IndexLink",render:function(){return a.default.createElement(u.default,o({},this.props,{onlyActiveOnIndex:!0}))}});e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(1),i=r(o),a=n(36),s=(r(a),n(9)),u=r(s),l=n(125),c=r(l),f=n(41),p=i.default.PropTypes,h=p.string,d=p.object,m=i.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(t,e){e&&(e.indexRoute=c.default.createRouteFromReactElement(t))}},propTypes:{to:h.isRequired,query:d,state:d,onEnter:f.falsy,children:f.falsy},render:function(){(0,u.default)(!1)}});e.default=m,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(1),i=r(o),a=n(36),s=(r(a),n(9)),u=r(s),l=n(22),c=n(41),f=i.default.PropTypes.func,p=i.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(t,e){e&&(e.indexRoute=(0,l.createRouteFromReactElement)(t))}},propTypes:{path:c.falsy,component:c.component,components:c.components,getComponent:f,getComponents:f},render:function(){(0,u.default)(!1)}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(1),i=r(o),a=n(9),s=r(a),u=n(22),l=n(41),c=i.default.PropTypes,f=c.string,p=c.func,h=i.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:f,component:l.component,components:l.components,getComponent:p,getComponents:p},render:function(){(0,s.default)(!1)}});e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(9),s=r(a),u=n(1),l=r(u),c=n(129),f=r(c),p=n(41),h=n(73),d=r(h),m=n(22),y=n(126),v=n(36),g=(r(v),l.default.PropTypes),_=g.func,b=g.object,x=l.default.createClass({displayName:"Router",propTypes:{history:b,children:p.routes,routes:p.routes,render:_,createElement:_,onError:_,onUpdate:_,matchContext:b},getDefaultProps:function(){return{render:function(t){return l.default.createElement(d.default,t)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(t){if(!this.props.onError)throw t;this.props.onError.call(this,t)},createRouterObject:function(t){var e=this.props.matchContext;if(e)return e.router;var n=this.props.history;return(0,y.createRouterObject)(n,this.transitionManager,t)},createTransitionManager:function(){var t=this.props.matchContext;if(t)return t.transitionManager;var e=this.props.history,n=this.props,r=n.routes,o=n.children;return e.getCurrentLocation?void 0:(0,s.default)(!1),(0,f.default)(e,(0,m.createRoutes)(r||o))},componentWillMount:function(){var t=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(e,n){e?t.handleError(e):((0,y.assignRouterState)(t.router,n),t.setState(n,t.props.onUpdate))})},componentWillReceiveProps:function(t){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function t(){var e=this.state,n=e.location,r=e.routes,a=e.params,s=e.components,u=this.props,l=u.createElement,t=u.render,c=o(u,["createElement","render"]);return null==n?null:(Object.keys(x.propTypes).forEach(function(t){return delete c[t]}),t(i({},c,{router:this.router,location:n,routes:r,params:a,components:s,createElement:l})))}});e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n,r){var o=t.length<n,i=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(t.apply(e,r),o){var a=r[r.length-1];a()}};return r.add(i),i}function i(t){return t.reduce(function(t,e){return e.onEnter&&t.push(o(e.onEnter,e,3,h)),t},[])}function a(t){return t.reduce(function(t,e){return e.onChange&&t.push(o(e.onChange,e,4,d)),t},[])}function s(t,e,n){function r(t){o=t}if(!t)return void n();var o=void 0;(0,f.loopAsync)(t,function(t,n,i){e(t,r,function(t){t||o?i(t,o):n()})},n)}function u(t,e,n){h.clear();var r=i(t);return s(r.length,function(t,n,o){var i=function(){h.has(r[t])&&(o(),h.remove(r[t]))};r[t](e,n,i)},n)}function l(t,e,n,r){d.clear();var o=a(t);return s(o.length,function(t,r,i){var a=function(){d.has(o[t])&&(i(),d.remove(o[t]))};o[t](e,n,r,a)},r)}function c(t,e){for(var n=0,r=t.length;n<r;++n)t[n].onLeave&&t[n].onLeave.call(t[n],e)}e.__esModule=!0,e.runEnterHooks=u,e.runChangeHooks=l,e.runLeaveHooks=c;var f=n(70),p=function t(){var e=this;r(this,t),this.hooks=[],this.add=function(t){return e.hooks.push(t)},this.remove=function(t){return e.hooks=e.hooks.filter(function(e){return e!==t})},this.has=function(t){return e.hooks.indexOf(t)!==-1},this.clear=function(){return e.hooks=[]}},h=new p,d=new p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1),a=r(i),s=n(73),u=r(s),l=n(36);r(l);e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.renderRouterContext}).filter(Boolean),s=e.map(function(t){return t.renderRouteComponent}).filter(Boolean),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.createElement;return function(e,n){return s.reduceRight(function(t,e){return e(t,n)},t(e,n))}};return function(t){return r.reduceRight(function(e,n){return n(e,t)},a.default.createElement(u.default,o({},t,{createElement:l(t.createElement)})))}},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(297),i=r(o),a=n(128),s=r(a);e.default=(0,s.default)(i.default),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){if(!t.path)return!1;var r=(0,i.getParamNames)(t.path);return r.some(function(t){return e.params[t]!==n.params[t]})}function o(t,e){var n=t&&t.routes,o=e.routes,i=void 0,a=void 0,s=void 0;return n?!function(){var u=!1;i=n.filter(function(n){if(u)return!0;var i=o.indexOf(n)===-1||r(n,t,e);return i&&(u=!0),i}),i.reverse(),s=[],a=[],o.forEach(function(t){var e=n.indexOf(t)===-1,r=i.indexOf(t)!==-1;e||r?s.push(t):a.push(t)})}():(i=[],a=[],s=o),{leaveRoutes:i,changeRoutes:a,enterRoutes:s}}e.__esModule=!0;var i=n(34);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){if(e.component||e.components)return void n(null,e.component||e.components);var r=e.getComponent||e.getComponents;if(r){var o=r.call(e,t,n);(0,a.isPromise)(o)&&o.then(function(t){return n(null,t)},n)}else n()}function o(t,e){(0,i.mapAsync)(t.routes,function(e,n,o){r(t,e,o)},e)}e.__esModule=!0;var i=n(70),a=n(124);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n={};return t.path?((0,o.getParamNames)(t.path).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n):n}e.__esModule=!0;var o=n(34);e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(298),i=r(o),a=n(128),s=r(a);e.default=(0,s.default)(i.default),t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(t==e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});if("object"===("undefined"==typeof t?"undefined":u(t))){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(void 0===t[n]){if(void 0!==e[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(e,n))return!1;if(!r(t[n],e[n]))return!1}return!0}return String(t)===String(e)}function o(t,e){return"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(t.length-1)&&(t+="/"),"/"!==e.charAt(e.length-1)&&(e+="/"),e===t}function i(t,e,n){for(var r=t,o=[],i=[],a=0,s=e.length;a<s;++a){var u=e[a],c=u.path||"";if("/"===c.charAt(0)&&(r=t,o=[],i=[]),null!==r&&c){var f=(0,l.matchPattern)(c,r);if(f?(r=f.remainingPathname,o=[].concat(o,f.paramNames),i=[].concat(i,f.paramValues)):r=null,""===r)return o.every(function(t,e){return String(i[e])===String(n[t])})}}return!1}function a(t,e){return null==e?null==t:null==t||r(t,e)}function s(t,e,n,r,s){var u=t.pathname,l=t.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(o(u,n.pathname)||!e&&i(u,r,s))&&a(l,n.query))}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=s;var l=n(34);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){var n=t.history,r=t.routes,i=t.location,u=o(t,["history","routes","location"]);n||i?void 0:(0,l.default)(!1),n=n?n:(0,f.default)(u);var c=(0,h.default)(n,(0,d.createRoutes)(r));i=i?n.createLocation(i):n.getCurrentLocation(),c.match(i,function(t,r,o){var i=void 0;if(o){var u=(0,m.createRouterObject)(n,c,o);i=a({},o,{router:u,matchContext:{transitionManager:c,router:u}})}e(t,r&&n.createLocation(r,s.REPLACE),i)})}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(59),u=n(9),l=r(u),c=n(127),f=r(c),p=n(129),h=r(p),d=n(22),m=n(126);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,r,o){if(t.childRoutes)return[null,t.childRoutes];if(!t.getChildRoutes)return[];var i=!0,a=void 0,u={location:e,params:s(n,r)},l=t.getChildRoutes(u,function(t,e){return e=!t&&(0,y.createRoutes)(e),i?void(a=[t,e]):void o(t,e)});return(0,h.isPromise)(l)&&l.then(function(t){return o(null,(0,y.createRoutes)(t))},o),i=!1,a}function i(t,e,n,r,o){if(t.indexRoute)o(null,t.indexRoute);else if(t.getIndexRoute){var a={location:e,params:s(n,r)},u=t.getIndexRoute(a,function(t,e){o(t,!t&&(0,y.createRoutes)(e)[0])});(0,h.isPromise)(u)&&u.then(function(t){return o(null,(0,y.createRoutes)(t)[0])},o)}else t.childRoutes?!function(){var a=t.childRoutes.filter(function(t){return!t.path});(0,p.loopAsync)(a.length,function(t,o,s){i(a[t],e,n,r,function(e,n){if(e||n){var r=[a[t]].concat(Array.isArray(n)?n:[n]);s(e,r)}else o()})},function(t,e){o(null,e)})}():o()}function a(t,e,n){return e.reduce(function(t,e,r){var o=n&&n[r];return Array.isArray(t[e])?t[e].push(o):e in t?t[e]=[t[e],o]:t[e]=o,t},t)}function s(t,e){return a({},t,e)}function u(t,e,n,r,a,u){var c=t.path||"";if("/"===c.charAt(0)&&(n=e.pathname,r=[],a=[]),null!==n&&c){try{var p=(0,d.matchPattern)(c,n);p?(n=p.remainingPathname,r=[].concat(r,p.paramNames),a=[].concat(a,p.paramValues)):n=null}catch(h){u(h)}if(""===n){var m=function(){var n={routes:[t],params:s(r,a)};return i(t,e,r,a,function(t,e){if(t)u(t);else{if(Array.isArray(e)){var r;(r=n.routes).push.apply(r,e)}else e&&n.routes.push(e);u(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof m?"undefined":f(m)))return m.v}}if(null!=n||t.childRoutes){var y=function(o,i){o?u(o):i?l(i,e,function(e,n){e?u(e):n?(n.routes.unshift(t),u(null,n)):u()},n,r,a):u()},v=o(t,e,r,a,y);v&&y.apply(void 0,v)}else u()}function l(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==e.pathname.charAt(0)&&(e=c({},e,{pathname:"/"+e.pathname})),r=e.pathname),(0,p.loopAsync)(t.length,function(n,a,s){u(t[n],e,r,o,i,function(t,e){t||e?s(t,e):a()})},n)}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=l;var p=n(70),h=n(124),d=n(34),m=n(36),y=(r(m),n(22));t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.displayName||t.name||"Component"}function i(t,e){var n=e&&e.withRef,r=c.default.createClass({displayName:"WithRouter",mixins:[(0,h.ContextSubscriber)("router")],contextTypes:{router:d.routerShape},propTypes:{router:d.routerShape},getWrappedInstance:function(){return n?void 0:(0,u.default)(!1),this.wrappedInstance},render:function(){var e=this,r=this.props.router||this.context.router,o=r.params,i=r.location,s=r.routes,u=a({},this.props,{router:r,params:o,location:i,routes:s});return n&&(u.ref=function(t){e.wrappedInstance=t}),c.default.createElement(t,u)}});return r.displayName="withRouter("+o(t)+")",r.WrappedComponent=t,(0,p.default)(r,t)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var s=n(9),u=r(s),l=n(1),c=r(l),f=n(303),p=r(f),h=n(71),d=n(72);t.exports=e.default},function(t,e){"use strict";e.__esModule=!0;e.loopAsync=function(t,e,n){var r=0,o=!1,i=!1,a=!1,s=void 0,u=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o=!0,i?void(s=e):void n.apply(void 0,e)},l=function l(){if(!o&&(a=!0,!i)){for(i=!0;!o&&r<t&&a;)a=!1,e(r++,l,u);return i=!1,o?void n.apply(void 0,s):void(r>=t&&a&&(o=!0,n()))}};l()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.replaceLocation=e.pushLocation=e.startListener=e.getCurrentLocation=e.go=e.getUserConfirmation=void 0;var o=n(74);Object.defineProperty(e,"getUserConfirmation",{enumerable:!0,get:function(){return o.getUserConfirmation}}),Object.defineProperty(e,"go",{enumerable:!0,get:function(){return o.go}});var i=n(24),a=(r(i),n(37)),s=n(60),u=n(131),l=n(23),c="hashchange",f=function(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)},p=function(t){return window.location.hash=t},h=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},d=e.getCurrentLocation=function(t,e){var n=t.decodePath(f()),r=(0,l.getQueryStringValueFromPath)(n,e),o=void 0;r&&(n=(0,l.stripQueryStringValueFromPath)(n,e),o=(0,u.readState)(r));var i=(0,l.parsePath)(n);return i.state=o,(0,a.createLocation)(i,void 0,r)},m=void 0,y=(e.startListener=function(t,e,n){var r=function(){var r=f(),o=e.encodePath(r);if(r!==o)h(o);else{var i=d(e,n);if(m&&i.key&&m.key===i.key)return;m=i,t(i)}},o=f(),i=e.encodePath(o);
return o!==i&&h(i),(0,s.addEventListener)(window,c,r),function(){return(0,s.removeEventListener)(window,c,r)}},function(t,e,n,r){var o=t.state,i=t.key,a=e.encodePath((0,l.createPath)(t));void 0!==o&&(a=(0,l.addQueryStringValueToPath)(a,n,i),(0,u.saveState)(i,o)),m=t,r(a)});e.pushLocation=function(t,e,n){return y(t,e,n,function(t){f()!==t&&p(t)})},e.replaceLocation=function(t,e,n){return y(t,e,n,function(t){f()!==t&&h(t)})}},function(t,e,n){"use strict";e.__esModule=!0,e.replaceLocation=e.pushLocation=e.getCurrentLocation=e.go=e.getUserConfirmation=void 0;var r=n(74);Object.defineProperty(e,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(e,"go",{enumerable:!0,get:function(){return r.go}});var o=n(37),i=n(23);e.getCurrentLocation=function(){return(0,o.createLocation)(window.location)},e.pushLocation=function(t){return window.location.href=(0,i.createPath)(t),!1},e.replaceLocation=function(t){return window.location.replace((0,i.createPath)(t)),!1}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(9),s=o(a),u=n(75),l=n(74),c=r(l),f=n(296),p=r(f),h=n(60),d=n(76),m=o(d),y=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u.canUseDOM?void 0:(0,s.default)(!1);var e=t.forceRefresh||!(0,h.supportsHistory)(),n=e?p:c,r=n.getUserConfirmation,o=n.getCurrentLocation,a=n.pushLocation,l=n.replaceLocation,f=n.go,d=(0,m.default)(i({getUserConfirmation:r},t,{getCurrentLocation:o,pushLocation:a,replaceLocation:l,go:f})),y=0,v=void 0,g=function(t,e){1===++y&&(v=c.startListener(d.transitionTo));var n=e?d.listenBefore(t):d.listen(t);return function(){n(),0===--y&&v()}},_=function(t){return g(t,!0)},b=function(t){return g(t,!1)};return i({},d,{listenBefore:_,listen:b})};e.default=y},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(24),s=(o(a),n(9)),u=o(s),l=n(75),c=n(60),f=n(295),p=r(f),h=n(76),d=o(h),m="_k",y=function(t){return"/"===t.charAt(0)?t:"/"+t},v={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!"+t},decodePath:function(t){return"!"===t.charAt(0)?t.substring(1):t}},noslash:{encodePath:function(t){return"/"===t.charAt(0)?t.substring(1):t},decodePath:y},slash:{encodePath:y,decodePath:y}},g=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.canUseDOM?void 0:(0,u.default)(!1);var e=t.queryKey,n=t.hashType;"string"!=typeof e&&(e=m),null==n&&(n="slash"),n in v||(n="slash");var r=v[n],o=p.getUserConfirmation,a=function(){return p.getCurrentLocation(r,e)},s=function(t){return p.pushLocation(t,r,e)},f=function(t){return p.replaceLocation(t,r,e)},h=(0,d.default)(i({getUserConfirmation:o},t,{getCurrentLocation:a,pushLocation:s,replaceLocation:f,go:p.go})),y=0,g=void 0,_=function(t,n){1===++y&&(g=p.startListener(h.transitionTo,r,e));var o=n?h.listenBefore(t):h.listen(t);return function(){o(),0===--y&&g()}},b=function(t){return _(t,!0)},x=function(t){return _(t,!1)},w=((0,c.supportsGoWithoutReloadUsingHash)(),function(t){h.go(t)}),E=function(t){return"#"+r.encodePath(h.createHref(t))};return i({},h,{listenBefore:b,listen:x,go:w,createHref:E})};e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(24),a=(r(i),n(9)),s=r(a),u=n(37),l=n(23),c=n(76),f=r(c),p=n(59),h=function(t){return t.filter(function(t){return t.state}).reduce(function(t,e){return t[e.key]=e.state,t},{})},d=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(t)?t={entries:t}:"string"==typeof t&&(t={entries:[t]});var e=function(){var t=m[y],e=(0,l.createPath)(t),n=void 0,r=void 0;t.key&&(n=t.key,r=_(n));var i=(0,l.parsePath)(e);return(0,u.createLocation)(o({},i,{state:r}),void 0,n)},n=function(t){var e=y+t;return e>=0&&e<m.length},r=function(t){if(t&&n(t)){y+=t;var r=e();c.transitionTo(o({},r,{action:p.POP}))}},i=function(t){y+=1,y<m.length&&m.splice(y),m.push(t),g(t.key,t.state)},a=function(t){m[y]=t,g(t.key,t.state)},c=(0,f.default)(o({},t,{getCurrentLocation:e,pushLocation:i,replaceLocation:a,go:r})),d=t,m=d.entries,y=d.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(t){return(0,u.createLocation)(t)}),null==y?y=m.length-1:y>=0&&y<m.length?void 0:(0,s.default)(!1);var v=h(m),g=function(t,e){return v[t]=e},_=function(t){return v[t]};return o({},c,{canGo:n})};e.default=d},function(t,e,n){"use strict";function r(t,e){return e.encode?e.strict?o(t):encodeURIComponent(t):t}var o=n(302),i=n(301);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){var e=Object.create(null);return"string"!=typeof t?e:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]}),e):e},e.stringify=function(t,e){var n={encode:!0,strict:!0};return e=i(n,e),t?Object.keys(t).sort().map(function(n){var o=t[n];if(void 0===o)return"";if(null===o)return r(n,e);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(t){void 0!==t&&(null===t?i.push(r(n,e)):i.push(r(n,e)+"="+r(t,e)))}),i.join("&")}return r(n,e)+"="+r(o,e)}).filter(function(t){return t.length>0}).join("&"):""}},5,function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},267,function(t,e,n){"undefined"==typeof Promise&&(n(352).enable(),window.Promise=n(351)),n(183),Object.assign=n(350)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(21),p=r(f),h=n(42),d=n(18),m=r(d),y=n(331),v=r(y),g=n(329),_=r(g),b=function(t){return{currentTaskId:m.default.getCurrentTaskId(t),currentTask:m.default.getCurrentTask(t),currentTaskExtent:m.default.getCurrentTaskExtent(t),activity:v.default.getData(t)}},x={fetchRecentActivity:_.default.fetchRecentActivity},w=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={loadCount:10},a=n,i(r,a)}return a(e,t),s(e,[{key:"resetLoadCount",value:function(){this.setState({loadCount:10})}},{key:"loadMore",value:function(){this.setState({loadCount:this.state.loadCount+10})}},{key:"fetchData",value:function(){var t=this,e=this.props,n=e.currentTaskId,r=e.fetchRecentActivity;r({taskId:n}).then(function(){return t.resetLoadCount()})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(t){t.currentTaskId!==this.props.currentTaskId&&this.fetchData()}},{key:"renderActivityList",value:function(){var t=this.props.activity,e=this.state.loadCount;return 0===t.length?l.default.createElement("strong",{className:"quiet"},"No recent activity found."):t.slice(0,e).map(function(t,e){var n=t.time,r=t.key,o=t.action,i=t.editor,a=t.user,s="key-"+r,u=h.USER_PROFILE_URL+"/"+a,c=p.default.time.format("%B %-d"),f=p.default.time.format("%-I:%-M%p"),d=c(new Date(1e3*n)),m=f(new Date(1e3*n)),y={edit:"Edited",fixed:"Fixed",skip:"Skipped",noterror:"Not an error"};return l.default.createElement("div",{id:s,key:e,className:"col12 clearfix fill-darken1 dark mobile-cols"},l.default.createElement("div",{className:"fl strong pad1 fill-darken1 editor-key"},l.default.createElement("span",null,y[o])),l.default.createElement("div",{className:"pad1 fl space"},l.default.createElement("a",{href:u,target:"_blank",className:"icon account"},a),l.default.createElement("strong",{className:"fill-navy inline micro pad0x uppercase"},i)),l.default.createElement("div",{className:"pad1 space fr"},l.default.createElement("span",{className:"quiet"},d),m))})}},{key:"renderLoadMoreButton",value:function(){var t=this,e=this.props.activity,n=this.state.loadCount;return 0===e.length?null:n>=e.length?l.default.createElement("button",{className:"button col12 quiet disabled round-bottom"},"Loaded 100 recent activities."):l.default.createElement("button",{onClick:function(){return t.loadMore()},className:"col12 button round-bottom"},"Load more")}},{key:"render",value:function(){var t=this.props,e=t.currentTask,n=t.currentTaskExtent,r=n.fromDate,o=(n.toDate,e.value.name),i=this.renderActivityList(),a=this.renderLoadMoreButton();return l.default.createElement("div",{className:"col12 clearfix scroll-styled"},l.default.createElement("div",{className:"col10 pad2 dark"},l.default.createElement("div",{className:"space-bottom1 col12 clearfix"},l.default.createElement("h2",null,o),l.default.createElement("h4",{className:"space col12 clearfix"},"Task last updated on "+r+".")),l.default.createElement("div",{className:"rows"},i,a)))}}]),e}(u.Component);w.propTypes={currentTaskId:u.PropTypes.string.isRequired,currentTask:u.PropTypes.object.isRequired,currentTaskExtent:u.PropTypes.object.isRequired,activity:u.PropTypes.array.isRequired,fetchRecentActivity:u.PropTypes.func.isRequired},w=(0,c.connect)(b,x)(w),e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(106),p=r(f),h=n(8),d=n(25),m=r(d),y=n(11),v=r(y),g=function(t){return{token:m.default.getToken(t)}},_={openSuccessModal:v.default.openSuccessModal},b=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={name:"",description:"",changesetComment:"",file:{}},r.handleNameChange=function(t){var e=t.target.value;r.setState({name:e})},r.handleDescriptionChange=function(t){var e=t.target.value;r.setState({description:e})},r.handleChangesetCommentChange=function(t){var e=t.target.value;r.setState({changesetComment:e})},r.handleFileInputChange=function(t){var e=t.target.files[0];r.setState({file:e})},r.handleSubmit=function(t){t.preventDefault();var e=r.props,n=e.onSubmit,o=e.token,i=r.getFormData();n({token:o,payload:i}).then(function(t){t.status===h.AsyncStatus.SUCCESS&&r.props.openSuccessModal("Task updated succesfully")})},r.getFormData=function(){var t=r.props.task,e=r.state,n=e.name,o=e.description,i=e.changesetComment,a=e.file,s=new window.FormData;return s.append("idtask",t.idtask),s.append("name",n),s.append("description",o),s.append("changesetComment",i),s.append("isCompleted",!1),s.append("file",a),s},r.setInitialState=function(){var t=r.props.task;r.setState({name:t.value.name,description:t.value.description,changesetComment:t.value.changesetComment})},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.setInitialState()}},{key:"shouldComponentUpdate",value:function(t){return t.task.idtask!==this.props.idtask}},{key:"componentDidUpdate",value:function(t){t.task.idtask!==this.props.task.idtask&&this.setInitialState()}},{key:"render",value:function(){var t=this,e=this.state,n=e.name,r=e.description,o=e.changesetComment,i=e.file,a=this.props.onCancel;return l.default.createElement("form",{className:"dark",onSubmit:this.handleSubmit},l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("label",null,"Task name"),l.default.createElement("input",{className:"col12 block clean",type:"text",value:n,onChange:this.handleNameChange})),l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("label",null,"Description"),l.default.createElement("textarea",{type:"text",className:"col12 block clean resize",value:r,required:!0,onChange:this.handleDescriptionChange})),l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("label",null,"Changeset comment"),l.default.createElement("textarea",{type:"text",className:"col12 block clean resize",value:o,required:!0,onChange:this.handleChangesetCommentChange})),l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("input",{type:"file",className:"hidden",ref:"fileInput",accept:".geojson",value:"",onChange:this.handleFileInputChange}),l.default.createElement("a",{className:"button pad2x quiet",onClick:function(){return t.refs.fileInput.click()}},"Choose GeoJSON"),i.name&&l.default.createElement("span",{className:"pad1x quiet"},i.name+" ("+(0,p.default)(i.size).human()+")")),l.default.createElement("div",{className:"pad2x pad4y col12 clearfix"},l.default.createElement("input",{type:"submit",className:"col3 button",value:"Update task"}),l.default.createElement("button",{className:"col3 space-left0 button quiet",onClick:a},"Cancel")))}}]),e}(u.Component);b.propTypes={task:u.PropTypes.object.isRequired,onSubmit:u.PropTypes.func.isRequired,onCancel:u.PropTypes.func.isRequired,openSuccessModal:u.PropTypes.func.isRequired},b=(0,c.connect)(g,_)(b),e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(30),p=n(18),h=r(p),d=n(25),m=r(d),y=n(61),v=r(y),g=n(308),_=r(g),b=n(306),x=r(b),w=function(t){return{currentTaskId:h.default.getCurrentTaskId(t),currentTask:h.default.getCurrentTask(t),currentTaskExtent:h.default.getCurrentTaskExtent(t),isAuthenticated:m.default.getIsAuthenticated(t),role:m.default.getRole(t),userId:m.default.getOsmId(t)}},E={updateTask:v.default.updateTask},S=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={taskWindow:"show"},r.setTaskWindow=function(t){r.setState({taskWindow:t})},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidUpdate",value:function(t){t.currentTaskId!==this.props.currentTaskId&&this.setTaskWindow("show")}},{key:"render",value:function(){var t=this,e=this.state.taskWindow,n=this.props,r=n.currentTask,o=n.updateTask,i=n.currentTaskExtent,a=n.role,s=n.isAuthenticated,u=n.userId,c=r.value.name,p=i.fromDate;if(!s)return l.default.createElement("div",{className:"col12 pad2 clearfix scroll-styled"},l.default.createElement("h2",{className:"dark"},"Please login to access the admin section."));if(a===f.ROLES.EDITOR)return l.default.createElement("div",{className:"col12 pad2 clearfix scroll-styled"},l.default.createElement("h2",{className:"dark"},"You need admin privileges to see this section."));var h=a===f.ROLES.SUPERADMIN||a===f.ROLES.ADMIN&&r.iduser===u;return l.default.createElement("div",{className:"col12 clearfix scroll-styled"},l.default.createElement("div",{className:"col12 pad2 dark"},l.default.createElement("h2",null,c),l.default.createElement("h4",{className:"col12 clearfix"},"Task last updated on "+p+".")),l.default.createElement("div",{className:"col8 dark"},"show"===e?l.default.createElement(_.default,{task:r,canEdit:h,onEdit:function(){return t.setTaskWindow("edit")}}):null,"edit"===e?l.default.createElement(x.default,{task:r,onCancel:function(){return t.setTaskWindow("show")},onSubmit:o}):null))}}]),e}(u.Component);S.propTypes={currentTaskId:u.PropTypes.string.isRequired,currentTask:u.PropTypes.object.isRequired,currentTaskExtent:u.PropTypes.object.isRequired,isAuthenticated:u.PropTypes.bool.isRequired,role:u.PropTypes.string,userId:u.PropTypes.string,updateTask:u.PropTypes.func.isRequired},S=(0,c.connect)(w,E)(S),e.default=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(21),s=r(a),u=function(t){var e=t.task,n=t.canEdit,r=t.onEdit,o=s.default.time.format("%B %-d"),a=s.default.time.format("%-I:%-M%p"),u=o(new Date(1e3*e.value.updated)),l=a(new Date(1e3*e.value.updated)),c=e.isCompleted?"Completed.":"Items remaining to be done.",f=n?"":"disabled";return i.default.createElement("div",{className:"rows pad2"},i.default.createElement("div",{className:"clearfix fill-darken1 dark mobile-cols"},i.default.createElement("div",{className:"col3 fl strong pad1 fill-darken1 editor-key"},i.default.createElement("span",{className:"capitalize"},"Title")),i.default.createElement("div",{className:"col9 pad1 fl space"},e.value.name)),i.default.createElement("div",{className:"clearfix fill-darken1 dark mobile-cols"},i.default.createElement("div",{className:"col3 fl strong pad1 fill-darken1 editor-key"},i.default.createElement("span",{className:"capitalize"},"Task ID")),i.default.createElement("div",{className:"col9 pad1 fl space"},e.idtask)),i.default.createElement("div",{className:"clearfix fill-darken1 dark mobile-cols"},i.default.createElement("div",{className:"col3 fl strong pad1 fill-darken1 editor-key"},i.default.createElement("span",{className:"capitalize"},"Description")),i.default.createElement("div",{className:"col9 pad1 fl space"},e.value.description)),i.default.createElement("div",{className:"clearfix fill-darken1 dark mobile-cols"},i.default.createElement("div",{className:"col3 fl strong pad1 fill-darken1 editor-key"},i.default.createElement("span",{className:"capitalize"},"Changeset comment")),i.default.createElement("div",{className:"col9 pad1 fl space"},e.value.changesetComment)),i.default.createElement("div",{className:"clearfix fill-darken1 dark mobile-cols"},i.default.createElement("div",{className:"col3 fl strong pad1 fill-darken1 editor-key"},i.default.createElement("span",{className:"capitalize"},"Updated")),i.default.createElement("div",{className:"col9 pad1 fl space"},u," ",i.default.createElement("span",{className:"quiet"},l))),i.default.createElement("div",{className:"clearfix fill-darken1 dark mobile-cols"},i.default.createElement("div",{className:"col3 fl strong pad1 fill-darken1 editor-key"},i.default.createElement("span",{className:"capitalize"},"Status")),i.default.createElement("div",{className:"col9 pad1 fl space"},c)),i.default.createElement("div",{className:"pad4y space-top1"},i.default.createElement("button",{className:"col3 button "+f,onClick:function(t){n&&r(t)}},"Edit task")))};u.propTypes={task:o.PropTypes.object.isRequired,onEdit:o.PropTypes.func.isRequired},e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(35),f=n(7),p=n(144),h=r(p),d=n(45),m=r(d),y=n(18),v=r(y),g=n(314),_=r(g),b=function(t){return{currentTaskId:v.default.getCurrentTaskId(t),sidebar:m.default.getSidebarSetting(t)}},x={toggleSidebar:h.default.toggleSidebar},w=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.toggleSidebar=function(t){t.preventDefault(),r.props.toggleSidebar()},a=n,i(r,a)}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.currentTaskId,n=t.sidebar,r=n?"active":"",o="sidebar-toggle quiet block fl keyline-right animate pad1 row-60 "+r;return l.default.createElement("header",{className:"fill-light keyline-bottom row-60 col12 clearfix mobile-cols"},l.default.createElement("nav",{className:"col4 truncate"},l.default.createElement("a",{href:"#",onClick:this.toggleSidebar,className:o},l.default.createElement("span",{className:"icon big menu"})),l.default.createElement("a",{href:"/to-fix/",className:"pad2x"},l.default.createElement("h1",{className:"inline fancy title"},"to-fix"))),l.default.createElement("div",{className:"col8 truncate text-right pad1"},l.default.createElement("nav",{className:"inline space pad0y keyline-right"},l.default.createElement(c.Link,{className:"icon pencil short button",activeClassName:"active",to:"task/"+e},"Review"),l.default.createElement(c.Link,{className:"icon bolt short button",activeClassName:"active",to:"activity/"+e},"Activity"),l.default.createElement(c.Link,{className:"icon graph short button",activeClassName:"active",to:"stats/"+e},"Statistics")),l.default.createElement("div",{className:"fr inline truncate"},l.default.createElement(_.default,null))))}}]),e}(u.Component);w.propTypes={currentTaskId:u.PropTypes.string.isRequired,sidebar:u.PropTypes.bool.isRequired,toggleSidebar:u.PropTypes.func.isRequired},w=(0,f.connect)(b,x)(w),e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(35),f=n(7),p=n(30),h=n(25),d=r(h),m=n(18),y=r(m),v=n(45),g=r(v),_=n(11),b=r(_),x=function(t,e){var n=e.routes;return{topLevelRoute:n[1].name,role:d.default.getRole(t),userId:d.default.getOsmId(t),sidebar:g.default.getSidebarSetting(t),activeTasks:y.default.getActiveTasks(t),completedTasks:y.default.getCompletedTasks(t)}},w={openCreateTaskModal:b.default.openCreateTaskModal},E=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"renderCreateTaskBtn",value:function(){var t=this.props,e=t.role,n=t.topLevelRoute,r=t.openCreateTaskModal;return e!==p.ROLES.ADMIN&&e!==p.ROLES.SUPERADMIN||"admin"!==n?null:l.default.createElement("div",{className:"pad1x space-bottom1"},l.default.createElement("button",{className:"button icon plus truncate col12 animate",onClick:r},"Create a new task"))}},{key:"renderTaskList",value:function(t){var e=this.props,n=e.role,r=e.userId,o=e.topLevelRoute;return 0===t.length?l.default.createElement("p",{className:"quiet strong small block pad1x"},"No tasks."):t.map(function(t,e){var i="";return"admin"===o&&(i=n===p.ROLES.SUPERADMIN||n===p.ROLES.ADMIN&&t.iduser===r?"icon pencil":"icon lock"),l.default.createElement(c.Link,{to:o+"/"+t.idtask,key:e,className:"block strong pad1x pad0y truncate "+i,title:t.value.name,activeClassName:"active"},t.value.name)})}},{key:"render",value:function(){var t=this.props,e=t.sidebar,n=t.activeTasks,r=t.completedTasks,o=e?"active":"",i="sidebar pin-bottomleft clip col2 animate offcanvas-left fill-navy space-top6 "+o,a=this.renderCreateTaskBtn(),s=this.renderTaskList(n),u=this.renderTaskList(r);return l.default.createElement("div",{className:i},l.default.createElement("div",{className:"scroll-styled pad2y"},a,l.default.createElement("h4",{className:"dark block pad1x space-bottom1"},"Current Tasks"),l.default.createElement("nav",{className:"dark space-bottom2"},s),l.default.createElement("h4",{className:"dark block pad1x space-bottom1"},"Completed Tasks"),l.default.createElement("nav",{className:"dark space-bottom2"},u)))}}]),e}(u.Component);E.propTypes={topLevelRoute:u.PropTypes.string.isRequired,role:u.PropTypes.string,userId:u.PropTypes.string,sidebar:u.PropTypes.bool.isRequired,activeTasks:u.PropTypes.array.isRequired,completedTasks:u.PropTypes.array.isRequired,openCreateTaskModal:u.PropTypes.func.isRequired},E=(0,c.withRouter)((0,f.connect)(x,w)(E)),e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(35),p=n(8),h=n(61),d=r(h),m=n(18),y=r(m),v=n(338),g=r(v),_=n(309),b=r(_),x=n(310),w=r(x),E=n(316),S=r(E),M=n(317),T=r(M),C=n(313),k=r(C),P=n(312),A=r(P),R=n(315),O=r(R),I=function(t){return{currentTaskId:y.default.getCurrentTaskId(t),latestTaskId:y.default.getLatestTaskId(t),currentTask:y.default.getCurrentTask(t),isLoading:g.default.getIsLoading(t)}},L={fetchAllTasks:d.default.fetchAllTasks},N=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={appLoading:!1,errorMessage:""},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this,e=this.props.fetchAllTasks;this.setState({appLoading:!0}),e().then(function(e){t.setState({appLoading:!1}),e.status===p.AsyncStatus.FAILURE&&t.setState({errorMessage:e.error.message||"Something went wrong."})})}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.currentTaskId,n=t.latestTaskId,r=t.router;!e&&n&&r.push("/task/"+n)}},{key:"render",value:function(){var t=this.props,e=t.currentTask,n=t.isLoading,r=this.state,o=r.appLoading,i=r.errorMessage,a=o?"loading":"",s=n?"loading":"";return l.default.createElement("div",{className:""+a},i&&l.default.createElement("div",{className:"col12 pad2 clearfix scroll-styled"},l.default.createElement("h2",{className:"dark"},i)),e&&l.default.createElement("div",null,l.default.createElement(b.default,null),l.default.createElement(w.default,null),l.default.createElement("div",{className:"main clip fill-navy-dark col12 pin-bottom space-top6 animate "+s},this.props.children),l.default.createElement(T.default,null),l.default.createElement(k.default,null),l.default.createElement(S.default,null),l.default.createElement(A.default,null),l.default.createElement(O.default,null)))}}]),e}(u.Component);N.propTypes={router:u.PropTypes.object.isRequired,currentTaskId:u.PropTypes.string,latestTaskId:u.PropTypes.string,currentTask:u.PropTypes.object,isLoading:u.PropTypes.bool.isRequired,fetchAllTasks:u.PropTypes.func.isRequired},N=(0,f.withRouter)((0,c.connect)(I,L)(N)),e.default=N},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(106),p=r(f),h=n(8),d=n(25),m=r(d),y=n(44),v=r(y),g=n(11),_=r(g),b=n(61),x=r(b),w=function(t){
return{token:m.default.getToken(t),showCreateTaskModal:v.default.getShowCreateTaskModal(t)}},E={closeCreateTaskModal:_.default.closeCreateTaskModal,createTask:x.default.createTask},S=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.initialState={name:"",description:"",changesetComment:"",file:{},isLoading:!1,isSuccess:!1,isFailure:!1,errorMessage:""},r.state=r.initialState,r.resetFormState=function(){r.setState({name:"",description:"",changesetComment:"",file:{}})},r.resetAsyncState=function(){r.setState({isLoading:!1,isSuccess:!1,isFailure:!1,errorMessage:""})},r.handleNameChange=function(t){var e=t.target.value;r.setState({name:e})},r.handleDescriptionChange=function(t){var e=t.target.value;r.setState({description:e})},r.handleChangesetCommentChange=function(t){var e=t.target.value;r.setState({changesetComment:e})},r.handleFileInputChange=function(t){var e=t.target.files[0];r.setState({file:e})},r.handleSubmit=function(t){t.preventDefault();var e=r.props,n=e.createTask,o=e.token,i=r.getFormData();r.resetAsyncState(),r.setState({isLoading:!0}),n({token:o,payload:i}).then(function(t){r.setState({isLoading:!1}),t.status===h.AsyncStatus.SUCCESS?(r.resetFormState(),r.setState({isSuccess:!0})):r.setState({isFailure:!0,errorMessage:t.error})})},r.getFormData=function(){var t=r.state,e=t.name,n=t.description,o=t.changesetComment,i=t.file,a=new window.FormData;return a.append("name",e),a.append("description",n),a.append("changesetComment",o),a.append("file",i),a},r.stopProp=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},r.renderNotice=function(){var t=r.state,e=t.isSuccess,n=t.isFailure,o=t.errorMessage;return e?l.default.createElement("div",{className:"pad2 note contain"},l.default.createElement("h3",null,"Success"),l.default.createElement("p",null,"Task created successfully.")):n?l.default.createElement("div",{className:"pad2 note error contain truncate"},l.default.createElement("h3",null,"Error"),l.default.createElement("p",null,o||"Something went wrong.")):null},r.renderForm=function(){var t=r.state,e=t.name,n=t.description,o=t.changesetComment,i=t.file;return l.default.createElement("form",{className:"pad2 space-bottom2 dark",onSubmit:r.handleSubmit},l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("label",null,"Task name"),l.default.createElement("input",{type:"text",className:"col12 block clean",placeholder:"Task name",value:e,required:!0,onChange:r.handleNameChange})),l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("label",null,"Description"),l.default.createElement("textarea",{type:"text",className:"col12 block clean resize",placeholder:"Task description",value:n,required:!0,onChange:r.handleDescriptionChange})),l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("label",null,"Changeset comment"),l.default.createElement("textarea",{type:"text",className:"col12 block clean resize",placeholder:"Changeset comment for this task",value:o,required:!0,onChange:r.handleChangesetCommentChange})),l.default.createElement("fieldset",{className:"pad2x"},l.default.createElement("input",{type:"file",className:"hidden",ref:"fileInput",accept:".geojson",value:"",onChange:r.handleFileInputChange}),l.default.createElement("a",{className:"button pad2x quiet",onClick:function(){return r.refs.fileInput.click()}},"Choose GeoJSON"),i.name&&l.default.createElement("span",{className:"pad1x quiet"},i.name+" ("+(0,p.default)(i.size).human()+")")),l.default.createElement("div",{className:"pad2x pad1y round-bottom col12 clearfix"},l.default.createElement("input",{type:"submit",className:"col6 margin3 button quiet",value:"Create task"})))},a=n,i(r,a)}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.showCreateTaskModal,n=t.closeCreateTaskModal,r=this.renderNotice(),o=this.renderForm();if(e){var i=this.state.isLoading?"loading":"",a="animate modal modal-content active "+i;return l.default.createElement("div",{className:a,onClick:n},l.default.createElement("div",{className:"col4 modal-body fill-purple contain",onClick:this.stopProp},l.default.createElement("button",{onClick:n,className:"unround pad1 icon fr close button quiet"}),l.default.createElement("div",{className:"pad2"},l.default.createElement("h2",{className:"dark"},"Create a new task")),r,o))}return null}}]),e}(u.Component);S.propTypes={token:u.PropTypes.string,showCreateTaskModal:u.PropTypes.bool.isRequired,closeCreateTaskModal:u.PropTypes.func.isRequired,createTask:u.PropTypes.func.isRequired},S=(0,c.connect)(w,E)(S),e.default=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(58),s=r(a),u=n(7),l=n(11),c=r(l),f=n(44),p=r(f),h=function(t){return{showErrorModal:p.default.getShowErrorModal(t),errorMessage:p.default.getErrorMessage(t)}},d={closeErrorModal:c.default.closeErrorModal},m=i.default.createClass({displayName:"ErrorModal",propTypes:{showErrorModal:o.PropTypes.bool.isRequired,errorMessage:o.PropTypes.string,closeErrorModal:o.PropTypes.func.isRequired},mixins:[s.default],keybindings:{esc:function(t){this.props.closeErrorModal()}},render:function(){var t=this.props,e=t.showErrorModal,n=t.errorMessage,r=t.closeErrorModal,o=e?"active":"",a="animate modal modal-content "+o;return i.default.createElement("div",{className:a},i.default.createElement("div",{className:"col4 modal-body fill-pink contain"},i.default.createElement("button",{className:"unround pad1 icon fr close button quiet",onClick:r}),i.default.createElement("div",{className:"pad2 dark"},i.default.createElement("h2",{className:"space-bottom0"},"Error"),i.default.createElement("strong",null,n),i.default.createElement("p",{className:"space-top0"},"Please report any issues at"," ",i.default.createElement("a",{href:"https://github.com/osmlab/to-fix/issues/new",target:"_blank"},i.default.createElement("code",null,"github.com/osmlab/to-fix"),".")))))}});m=(0,u.connect)(h,d)(m),e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),c=r(l),f=n(35),p=n(7),h=n(30),d=n(31),m=n(345),y=r(m),v=n(25),g=r(v),_=n(11),b=r(_),x=n(18),w=r(x),E=function(t){return{isAuthenticated:g.default.getIsAuthenticated(t),username:g.default.getUsername(t),osmid:g.default.getOsmId(t),avatar:g.default.getAvatar(t),token:g.default.getToken(t),role:g.default.getRole(t),currentTaskId:w.default.getCurrentTaskId(t)}},S={login:y.default.login,logout:y.default.logout,fetchUserDetails:y.default.fetchUserDetails,openSettingsModal:b.default.openSettingsModal,openManageUsersModal:b.default.openManageUsersModal},M=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={showUserMenu:!1},r.onLoginClick=function(){var t=r.props.login,e=r.createPopup(600,550,"oauth_popup");e.location=d.server.loginURL,window.authComplete=function(e){var n=e.split("?")[1],o=r.parseQueryString(n);t(o),delete window.authComplete}},r.openUserMenu=function(t){t.preventDefault(),r.toggleUserMenu()},r.openSettingsModal=function(t){t.preventDefault(),r.toggleUserMenu(),r.props.openSettingsModal()},r.openManageUsersModal=function(t){t.preventDefault(),r.toggleUserMenu(),r.props.openManageUsersModal()},r.logout=function(t){t.preventDefault(),r.toggleUserMenu();var e=r.props.token;r.props.logout({token:e})},r.toggleUserMenu=function(t){r.setState({showUserMenu:!r.state.showUserMenu})},a=n,i(r,a)}return a(e,t),u(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.token,n=t.fetchUserDetails;e&&n({token:e})}},{key:"createPopup",value:function(t,e,n){var r=[["width",t],["height",e],["left",screen.width/2-t/2],["top",screen.height/2-e/2]].map(function(t){return t.join("=")}).join(","),o=window.open("about:blank",n,r);return o}},{key:"parseQueryString",value:function(t){var e={};return t.split("&").forEach(function(t){var n=t.split("="),r=s(n,2),o=r[0],i=r[1];e[decodeURIComponent(o)]=decodeURIComponent(i)||null}),e}},{key:"renderLoginState",value:function(){var t=this.props,e=t.isAuthenticated,n=t.username,r=t.avatar,o=t.role,i=t.currentTaskId,a="user-menu "+(this.state.showUserMenu?"visible":"hidden");return e?c.default.createElement("div",{style:{width:"130px"},className:"unfloat inline align-top center"},c.default.createElement("div",{className:"clearfix round inline align-top stroke avatar-wrap clip"},c.default.createElement("a",{href:"#",className:"align-top clearfix fill-darken0 inline pad2x pad1y",onClick:this.openUserMenu},c.default.createElement("img",{className:"fl dot align-top avatar",src:r,role:"presentation"}),c.default.createElement("div",{style:{maxWidth:"80px"},title:n,className:"fl truncate"},n))),c.default.createElement("ul",{className:a},c.default.createElement("li",null,c.default.createElement("a",{href:"#",className:"block pad0y pad1x icon sprocket",onClick:this.openSettingsModal},"Settings")),o===h.ROLES.ADMIN||o===h.ROLES.SUPERADMIN?c.default.createElement("li",null,c.default.createElement(f.Link,{className:"block pad0y pad1x icon pencil",onClick:this.toggleUserMenu,to:"admin/"+i},"Manage tasks")):null,o===h.ROLES.SUPERADMIN?c.default.createElement("li",null,c.default.createElement("a",{href:"#",className:"block pad0y pad1x icon lock",onClick:this.openManageUsersModal},"Manage users")):null,c.default.createElement("li",null,c.default.createElement("a",{href:"#",className:"block pad0y pad1x icon logout",onClick:this.logout},"Logout")))):c.default.createElement("div",{className:"pad0y"},c.default.createElement("button",{onClick:this.onLoginClick,className:"col12 button icon osm short animate truncate"},"Login with OSM"))}},{key:"render",value:function(){var t=this.renderLoginState();return c.default.createElement("div",{id:"user-stuff",className:"clearfix mobile-cols pad1x"},t)}}]),e}(l.Component);M.propTypes={isAuthenticated:l.PropTypes.bool.isRequired,username:l.PropTypes.string,osmid:l.PropTypes.string,avatar:l.PropTypes.string,token:l.PropTypes.string,role:l.PropTypes.string,login:l.PropTypes.func.isRequired,logout:l.PropTypes.func.isRequired,fetchUserDetails:l.PropTypes.func.isRequired,openSettingsModal:l.PropTypes.func.isRequired,openManageUsersModal:l.PropTypes.func.isRequired,currentTaskId:l.PropTypes.string.isRequired},M=(0,p.connect)(E,S)(M),e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(42),p=n(30),h=n(8),d=n(25),m=r(d),y=n(44),v=r(y),g=n(11),_=r(g),b=n(334),x=r(b),w=n(332),E=r(w),S=function(t){return{showManageUsersModal:v.default.getShowManageUsersModal(t),users:x.default.getUsers(t),token:m.default.getToken(t)}},M={closeManageUsersModal:_.default.closeManageUsersModal,fetchAllUsers:E.default.fetchAllUsers,changeUserRole:E.default.changeUserRole},T=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.initialState={isLoading:!1,isSuccess:!1,isFailure:!1,errorMessage:""},r.state=r.initialState,r.resetAsyncState=function(){r.setState(r.initialState)},r.stopProp=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},r.handleChange=function(t,e){t.preventDefault();var n=r.props,o=n.changeUserRole,i=n.token;r.resetAsyncState(),r.setState({isLoading:!0}),o({token:i,payload:{iduser:e,role:t.target.value}}).then(function(t){r.setState({isLoading:!1}),t.status===h.AsyncStatus.SUCCESS?r.setState({isSuccess:!0}):r.setState({isFailure:!0,errorMessage:t.error})})},r.renderNotice=function(){var t=r.state,e=t.isSuccess,n=t.isFailure,o=t.errorMessage;return e?l.default.createElement("div",{className:"pad2 note contain"},l.default.createElement("h3",null,"Success"),l.default.createElement("p",null,"User role changed successfully.")):n?l.default.createElement("div",{className:"pad2 note error contain truncate"},l.default.createElement("h3",null,"Error"),l.default.createElement("p",null,o||"Something went wrong.")):null},r.renderUser=function(t,e){var n=t.user,o=(t.img,t.role),i=t.id;return l.default.createElement("div",{key:e,className:"col12 clearfix pad4x"},l.default.createElement("div",{className:"col4"},l.default.createElement("div",{className:"clearfix round align-top stroke avatar-wrap clip dark space-bottom1 inline"},l.default.createElement("a",{href:f.USER_PROFILE_URL+"/"+n,target:"_blank",className:"align-top inline clearfix fill-lighten1 pad2x pad1y strong",onClick:r.openUserMenu},l.default.createElement("span",{title:n,className:"fl truncate"},n)))),l.default.createElement("div",{className:"col4 margin2 select-container"},l.default.createElement("select",{value:o,className:"select fill-lighten0 row1 width24",onChange:function(t){return r.handleChange(t,i)}},l.default.createElement("option",{value:p.ROLES.EDITOR},"Editor"),l.default.createElement("option",{value:p.ROLES.ADMIN},"Admin"),l.default.createElement("option",{value:p.ROLES.SUPERADMIN},"Superadmin"))))},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidUpdate",value:function(){var t=this.props,e=t.showManageUsersModal,n=t.users;if(e&&0===n.length){var r=this.props,o=r.fetchAllUsers,i=r.token;o({token:i})}}},{key:"render",value:function(){var t=this.props,e=t.showManageUsersModal,n=t.closeManageUsersModal,r=t.users;if(e&&0!==r.length){var o=this.state.isLoading?"loading":"",i="animate modal modal-content active "+o,a=this.renderNotice();return l.default.createElement("div",{className:i,onClick:n},l.default.createElement("div",{className:"col4 modal-body fill-purple contain",onClick:this.stopProp},l.default.createElement("button",{onClick:n,className:"unround pad1 icon fr close button quiet"}),l.default.createElement("div",{className:"col12 pad2"},l.default.createElement("h2",{className:"dark"},"Change user roles")),a,l.default.createElement("div",{className:"col12 pad2 scroll-styled",style:{height:"60vh"}},r.map(this.renderUser))))}return null}}]),e}(u.Component);T.propTypes={showManageUsersModal:u.PropTypes.bool.isRequired,users:u.PropTypes.array.isRequired,token:u.PropTypes.string,closeManageUsersModal:u.PropTypes.func.isRequired,fetchAllUsers:u.PropTypes.func.isRequired,changeUserRole:u.PropTypes.func.isRequired},T=(0,c.connect)(S,M)(T),e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(58),s=r(a),u=n(7),l=n(45),c=r(l),f=n(44),p=r(f),h=n(144),d=r(h),m=n(11),y=r(m),v=function(t){return{editor:c.default.getEditorSetting(t),showSettingsModal:p.default.getShowSettingsModal(t)}},g={setEditorPreference:d.default.setEditorPreference,closeSettingsModal:y.default.closeSettingsModal},_=i.default.createClass({displayName:"SettingsModal",propTypes:{editor:o.PropTypes.string.isRequired,showSettingsModal:o.PropTypes.bool.isRequired,setEditorPreference:o.PropTypes.func.isRequired,closeSettingsModal:o.PropTypes.func.isRequired},mixins:[s.default],keybindings:{esc:function(t){this.props.closeSettingsModal()}},setEditor:function(t){var e=t.target.getAttribute("id");this.props.setEditorPreference(e)},stopProp:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},render:function(){var t=this.props,e=t.editor,n=t.showSettingsModal,r=t.closeSettingsModal;return n?i.default.createElement("div",{className:"animate modal modal-content active",onClick:r},i.default.createElement("div",{className:"col4 modal-body fill-purple contain",onClick:this.stopProp},i.default.createElement("button",{onClick:r,className:"unround pad1 icon fr close button quiet"}),i.default.createElement("div",{className:"pad2"},i.default.createElement("h2",{className:"dark"},"Settings")),i.default.createElement("fieldset",{className:"pad2x space-bottom2 dark"},i.default.createElement("label",{className:"quiet block space-bottom0"},"Default editor"),i.default.createElement("form",{onChange:this.setEditor,className:"radio-pill pill clearfix col12"},i.default.createElement("input",{type:"radio",name:"editorpref",id:"id",defaultChecked:"id"===e}),i.default.createElement("label",{htmlFor:"id",className:"col6 button quiet icon check"},"iD editor"),i.default.createElement("input",{type:"radio",name:"editorpref",id:"josm",defaultChecked:"josm"===e}),i.default.createElement("label",{htmlFor:"josm",className:"col6 button quiet icon check"},"JOSM editor*"))),i.default.createElement("div",{className:"pad2x space-bottom2 dark"},"Shortcut keys: ",i.default.createElement("span",{className:"quiet"},i.default.createElement("code",{className:"fill-darken1"},"e")," Edit ",i.default.createElement("code",{className:"fill-darken1"},"s")," Skip ",i.default.createElement("code",{className:"fill-darken1"},"n")," Not an error ",i.default.createElement("code",{className:"fill-darken1"},"f")," Fixed"),i.default.createElement("small",{className:"quiet"},"*JOSM requires ",i.default.createElement("a",{target:"_blank",href:"http://josm.openstreetmap.de/wiki/Help/Preferences/RemoteControl/"},"remote control")," to be set in preferences.")))):null}});_=(0,u.connect)(v,g)(_),e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(58),s=r(a),u=n(7),l=n(11),c=r(l),f=n(44),p=r(f),h=function(t){return{showSuccessModal:p.default.getShowSuccessModal(t),successMessage:p.default.getSuccessMessage(t)}},d={closeSuccessModal:c.default.closeSuccessModal},m=i.default.createClass({displayName:"SuccessModal",propTypes:{showSuccessModal:o.PropTypes.bool.isRequired,successMessage:o.PropTypes.string,closeSuccessModal:o.PropTypes.func.isRequired},mixins:[s.default],keybindings:{esc:function(t){this.props.closeSuccessModal()}},render:function(){var t=this.props,e=t.showSuccessModal,n=t.successMessage,r=t.closeSuccessModal,o=e?"active":"",a="animate modal modal-content "+o;return i.default.createElement("div",{className:a},i.default.createElement("div",{className:"col4 modal-body fill-green contain"},i.default.createElement("button",{className:"unround pad1 icon fr close button quiet",onClick:r}),i.default.createElement("div",{className:"pad2 dark"},i.default.createElement("h2",null,"Success"),i.default.createElement("strong",null,n))))}});m=(0,u.connect)(h,d)(m),e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(7),f=n(21),p=r(f),h=n(18),d=r(h),m=n(341),y=r(m),v=n(343),g=r(v),_=n(320),b=r(_),x=n(319),w=r(x),E=n(321),S=r(E),M=function(t){return{currentTaskId:d.default.getCurrentTaskId(t),currentTask:d.default.getCurrentTask(t),currentTaskSummary:d.default.getCurrentTaskSummary(t),currentTaskExtent:d.default.getCurrentTaskExtent(t),statsFrom:g.default.getFromDate(t),statsTo:g.default.getToDate(t),statsByUser:g.default.getByUser(t),statsByDate:g.default.getByDate(t)}},T={fetchAllStats:y.default.fetchAllStats},C=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.fetchStatsByRange=function(t,e){var n=r.props,o=n.fetchAllStats,i=n.currentTaskId;o({taskId:i,from:t,to:e})},a=n,i(r,a)}return a(e,t),s(e,[{key:"fetchData",value:function(){var t=p.default.time.format("%Y-%m-%d"),e=new Date,n=new Date(e.getFullYear()-1,e.getMonth(),e.getDate());this.fetchStatsByRange(t(n),t(e))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(t){t.currentTaskId!==this.props.currentTaskId&&this.fetchData()}},{key:"render",value:function(){var t=this.props,e=t.currentTask,n=t.statsFrom,r=t.statsTo,o=t.statsByUser,i=t.statsByDate,a=t.currentTaskSummary,s=t.currentTaskExtent;return l.default.createElement("div",{className:"col12 clearfix scroll-styled"},l.default.createElement("div",{className:"col10 pad2 dark"},l.default.createElement(b.default,{task:e,taskSummary:a,statsFrom:s.fromDate}),l.default.createElement(w.default,{statsFrom:n,statsTo:r,statsByDate:i,fetchStatsByRange:this.fetchStatsByRange}),l.default.createElement(S.default,{statsByUser:o})))}}]),e}(u.Component);C.propTypes={currentTaskId:u.PropTypes.string.isRequired,currentTask:u.PropTypes.object.isRequired,currentTaskSummary:u.PropTypes.object.isRequired,currentTaskExtent:u.PropTypes.object.isRequired,statsFrom:u.PropTypes.string.isRequired,statsTo:u.PropTypes.string.isRequired,statsByUser:u.PropTypes.array.isRequired,statsByDate:u.PropTypes.array.isRequired,fetchAllStats:u.PropTypes.func.isRequired},C=(0,c.connect)(M,T)(C),e.default=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(347),f=r(c),p=function(t){function e(){var t,n,r,a;o(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={filter:"all"},r.filterBy=function(t){var e=t.target.getAttribute("value");r.setState({filter:e})},r.fetchIfChanged=function(t,e){var n=r.props,o=n.statsFrom,i=n.statsTo,a=n.fetchStatsByRange;t===o&&e===i||a(t,e)},r.getGraphState=function(){var t=r.state.filter,e=r.props.statsByDate,n="all"===t?["edit","fixed","skip","noterror"]:[t],o=e.map(function(t){return t.value=n.reduce(function(e,n){return e+t[n]},0),t}).sort(function(t,e){return t.start<e.start});return{data:o}},a=n,i(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){f.default.create(this.brushGraph)}},{key:"componentDidUpdate",value:function(){f.default.update(this.brushGraph,this.getGraphState(),null,this.fetchIfChanged)}},{key:"componentWillUnmount",value:function(){f.default.destroy(this.brushGraph)}},{key:"render",value:function(){var t=this,e=this.state.filter;return l.default.createElement("div",{className:"fill-darken1 pad2 round col12 space-bottom2 contain"},l.default.createElement("div",{className:"pin-topright pad1"},l.default.createElement("form",{onChange:this.filterBy,className:"rounded-toggle short inline"},l.default.createElement("input",{type:"radio",id:"all",name:"filter",value:"all",defaultChecked:"all"===e}),l.default.createElement("label",{htmlFor:"all"},"All"),l.default.createElement("input",{type:"radio",id:"edited",name:"filter",value:"edit",defaultChecked:"edit"===e}),l.default.createElement("label",{htmlFor:"edited"},"Edited"),l.default.createElement("input",{type:"radio",id:"fixed",name:"filter",value:"fixed",defaultChecked:"fixed"===e}),l.default.createElement("label",{htmlFor:"fixed"},"Fixed"),l.default.createElement("input",{type:"radio",id:"skipped",name:"filter",value:"skip",defaultChecked:"skip"===e}),l.default.createElement("label",{htmlFor:"skipped"},"Skipped"),l.default.createElement("input",{type:"radio",id:"noterror",name:"filter",value:"noterror",defaultChecked:"noterror"===e}),l.default.createElement("label",{htmlFor:"noterror"},"Not error"))),l.default.createElement("div",{ref:function(e){return t.brushGraph=e}}))}}]),e}(u.Component);p.propTypes={statsFrom:u.PropTypes.string.isRequired,statsTo:u.PropTypes.string.isRequired,statsByDate:u.PropTypes.array.isRequired,fetchStatsByRange:u.PropTypes.func.isRequired},e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(21),s=r(a),u=function(t){var e=t.items,n=t.fixed,r=t.noterror,o=e,a=n+r,u={width:a/o*100+"%"};return i.default.createElement("div",{className:"col4"},i.default.createElement("h4",{className:"block space-bottom0"},i.default.createElement("strong",null,s.default.format(",")(a))," complete",i.default.createElement("span",{className:"quiet"}," of ",s.default.format(",")(o))),i.default.createElement("div",{className:"progress-bar clip contain fill-darken1 col12"},i.default.createElement("div",{style:u,className:"progress fill-darkgreen pin-left block col12"})))},l=function(t){var e=t.task,n=t.taskSummary,r=t.statsFrom,o=e.value.name,a=u(n);return i.default.createElement("div",{className:"space-bottom2 col12 clearfix"},i.default.createElement("div",{className:"col8"},i.default.createElement("h2",null,o),i.default.createElement("h4",{className:"col12 clearfix"},"Task last updated on "+r+".")),a)};l.propTypes={task:o.PropTypes.object.isRequired,taskSummary:o.PropTypes.object.isRequired,statsFrom:o.PropTypes.string.isRequired},e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(21),s=r(a),u=n(42),l=function(t){return 0===t.length?i.default.createElement("strong",{className:"quiet pad0y block"},"No data"):t.map(function(t,e){var n=t.fixed,r=t.skip,o=t.noterror,a=t.user,l=u.USER_PROFILE_URL+"/"+a,c=s.default.format(","),f=n+o;return i.default.createElement("div",{key:e,className:"col12 clearfix"},i.default.createElement("span",{className:"col4"},i.default.createElement("a",{href:l,target:"_blank",className:"inline strong pad0y"},a)),i.default.createElement("span",{className:"col2 pad0y text-right"},c(n)),i.default.createElement("span",{className:"col2 pad0y text-right quiet"},c(r)),i.default.createElement("span",{className:"col2 pad0y text-right"},c(o)),i.default.createElement("span",{className:"col2 pad0y text-right"},c(f)))})},c=function(t){var e=t.statsByUser,n=l(e);return i.default.createElement("div",{className:"contributions"},i.default.createElement("div",{className:"col12 clearfix"},i.default.createElement("h4",{className:"col4 strong"},"Contributors"),i.default.createElement("h4",{className:"col2 pad0y text-right strong"},"Fixed"),i.default.createElement("h4",{className:"col2 pad0y text-right strong"},"Skipped"),i.default.createElement("h4",{className:"col2 pad0y text-right strong"},"Not Error"),i.default.createElement("h4",{className:"col2 pad0y text-right strong"},"Completed")),n)};c.propTypes={statsByUser:o.PropTypes.array.isRequired},e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=r(u),c=n(119),f=r(c),p=n(21),h=r(p),d="mapboxgl-ctrl-task",m=function(){function t(){a(this,t)}return s(t,[{key:"onAdd",value:function(t){return this._map=t,this._container=this._createContainer(),this._container}},{key:"onRemove",value:function(){this._map=null,f.default.unmountComponentAtNode(this._container),this._container.parentNode.removeChild(this._container)}},{key:"update",value:function(t){f.default.render(l.default.createElement(y,{task:t}),document.getElementById(d))}},{key:"_createContainer",value:function(){var t=document.createElement("div");return t.className="mapboxgl-ctrl",t.id=d,t}}]),t}(),y=function(t){function e(){var t,n,r,i;a(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={showMore:!1},r.toggleShowMore=function(){
r.setState({showMore:!r.state.showMore})},i=n,o(r,i)}return i(e,t),s(e,[{key:"render",value:function(){var t=this.props.task,e=this.state.showMore,n=h.default.time.format("%B %-d"),r=h.default.time.format("%-I:%-M%p"),o=n(new Date(1e3*t.value.updated)),i=r(new Date(1e3*t.value.updated)),a=t.isCompleted?"Completed.":"Items remaining to be done.",s=e?"icon caret-up":"icon caret-down",u=e?"":"hidden";return l.default.createElement("div",{className:"mapboxgl-ctrl-task fill-darken3 dark width40"},l.default.createElement("table",null,l.default.createElement("tbody",{className:"fill-darken1 dark"},l.default.createElement("tr",null,l.default.createElement("td",{className:"strong pad1 no-select",style:{width:"100px"}},l.default.createElement("strong",{className:"capitalize"},"Title")),l.default.createElement("td",{style:{padding:"1px"},onClick:this.toggleShowMore},l.default.createElement("div",{className:"block pad1 space button quiet unround text-left"},t.value.name,l.default.createElement("span",{className:s+" fr"})))),l.default.createElement("tr",{className:""+u},l.default.createElement("td",{className:"strong pad1 no-select"},l.default.createElement("strong",{className:"capitalize"},"Task ID")),l.default.createElement("td",{className:"pad1 space"},t.idtask)),l.default.createElement("tr",{className:""+u},l.default.createElement("td",{className:"strong pad1 no-select"},l.default.createElement("strong",{className:"capitalize"},"Description")),l.default.createElement("td",{className:"pad1 space"},t.value.description)),l.default.createElement("tr",{className:""+u},l.default.createElement("td",{className:"strong pad1 no-select"},l.default.createElement("strong",{className:"capitalize"},"Changeset comment")),l.default.createElement("td",{className:"pad1 space"},t.value.changesetComment)),l.default.createElement("tr",{className:""+u},l.default.createElement("td",{className:"strong pad1 no-select"},l.default.createElement("strong",{className:"capitalize"},"Updated")),l.default.createElement("td",{className:"pad1 space"},o," ",l.default.createElement("span",{className:"quiet"},i))),l.default.createElement("tr",{className:""+u},l.default.createElement("td",{className:"strong pad1"},l.default.createElement("strong",{className:"capitalize"},"Status")),l.default.createElement("td",{className:"pad1 space"},a)))))}}]),e}(u.Component);e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(58),s=r(a),u=n(7),l=n(18),c=r(l),f=n(25),p=r(f),h=n(45),d=r(h),m=n(142),y=r(m),v=n(141),g=r(v),_=n(11),b=r(_),x=function(t){return{currentTaskId:c.default.getCurrentTaskId(t),currentTask:c.default.getCurrentTask(t),currentTaskType:c.default.getCurrentTaskType(t),user:p.default.getUsername(t),isAuthenticated:p.default.getIsAuthenticated(t),editor:d.default.getEditorSetting(t),currentItemId:y.default.getCurrentItemId(t)}},w={updateItem:g.default.updateItem,openSettingsModal:b.default.openSettingsModal},E=i.default.createClass({displayName:"EditBar",propTypes:{currentTaskId:o.PropTypes.string.isRequired,currentTask:o.PropTypes.object.isRequired,currentTaskType:o.PropTypes.string.isRequired,user:o.PropTypes.string,isAuthenticated:o.PropTypes.bool.isRequired,editor:o.PropTypes.string.isRequired,currentItemId:o.PropTypes.string.isRequired,updateItem:o.PropTypes.func.isRequired,onTaskEdit:o.PropTypes.func.isRequired,onUpdate:o.PropTypes.func.isRequired,openSettingsModal:o.PropTypes.func.isRequired},mixins:[s.default],keybindings:{e:function(t){this.props.isAuthenticated&&this.edit()},s:function(t){this.props.isAuthenticated&&this.skip()},f:function(t){this.props.isAuthenticated&&this.fixed()},n:function(t){this.props.isAuthenticated&&this.noterror()}},updateItem:function t(e){var n=this.props,t=n.updateItem,r=n.user,o=n.editor,i=n.currentTaskId,a=n.currentTaskType,s=n.currentItemId,u=n.onUpdate,l={user:r,editor:o,action:e,key:s};t({taskId:i,taskType:a,payload:l}).then(u)},edit:function(){this.props.onTaskEdit()},skip:function(){this.updateItem("skip")},fixed:function(){this.updateItem("fixed")},noterror:function(){this.updateItem("noterror")},render:function(){var t=this.props,e=t.currentTask,n=t.isAuthenticated,r=t.editor,o=t.geolocation,a=t.onUpdate,s=t.onTaskEdit,u=t.openSettingsModal,l=e.value.name,c=i.default.createElement("nav",{className:"tabs col12 clearfix"},i.default.createElement("button",{onClick:a,className:"col12 button animate icon refresh"},"Preview another task"));if(n){var f="josm"===r?"JOSM":"iD";c=i.default.createElement("nav",{className:"tabs col12 clearfix mobile-cols"},i.default.createElement("button",{onClick:s,className:"col3 button animate"},i.default.createElement("span",{className:"underline"},"E"),"dit"," with "+f),i.default.createElement("button",{onClick:u,className:"col1 button icon sprocket animate settings"}),i.default.createElement("button",{onClick:this.skip,className:"col2 button animate"},i.default.createElement("span",{className:"underline"},"S"),"kip"),i.default.createElement("button",{onClick:this.noterror,className:"col3 button animate"},i.default.createElement("span",{className:"underline"},"N"),"ot an error"),i.default.createElement("button",{onClick:this.fixed,className:"col3 button animate"},i.default.createElement("span",{className:"underline"},"F"),"ixed"))}return i.default.createElement("div",{className:"editbar pin-bottomleft col6 pad4 z10000 margin3"},i.default.createElement("div",{className:"round col12"},c,i.default.createElement("div",{className:"fill-lighten3 round-bottom col12 pad2x pad1y center strong inline truncate"},l,o&&i.default.createElement("span",{className:"quiet icon marker",title:o},o))))}});E=(0,u.connect)(x,w)(E),e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),c=r(l),f=n(7),p=n(105),h=n(188),d=r(h),m=n(186),y=r(m),v=n(184),g=r(v),_=n(193),b=r(_);n(349);var x=n(323),w=r(x),E=n(42),S=n(141),M=r(S),T=n(11),C=r(T),k=n(142),P=r(k),A=n(25),R=r(A),O=n(45),I=r(O),L=n(18),N=r(L),D=n(322),j=r(D),z=new j.default,U=function(t){return{currentTask:N.default.getCurrentTask(t),currentTaskId:N.default.getCurrentTaskId(t),currentTaskType:N.default.getCurrentTaskType(t),user:R.default.getUsername(t),editor:I.default.getEditorSetting(t),sidebar:I.default.getSidebarSetting(t),currentItem:P.default.getCurrentItem(t),currentItemId:P.default.getCurrentItemId(t)}},F={fetchRandomItem:M.default.fetchRandomItem,openErrorModal:C.default.openErrorModal};b.default.accessToken=E.MAPBOX_ACCESS_TOKEN;var B=function(t){function e(){var t,n,r,a;o(this,e);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={map:null,geolocation:"",iDEdit:!1,iDEditPath:""},r.editTask=function(){var t=r.state.map,e=r.props.editor;if("josm"===e&&!function(){var t=r.props.currentItem,e=t.properties,n=e._osmType,o=e._osmId,i=""+n.substr(0,1)+o,a={new_layer:!0,objects:i,relation_members:!0},s=Object.keys(a).map(function(t){return t+"="+a[t]}).join("&");fetch(E.JOSM_RC_URL+"/load_object?"+s).catch(function(){return r.props.openErrorModal("Could not connect to JOSM remote control.")})}(),"id"===e){var n=t.getCenter(),o=n.lng,i=n.lat,a=t.getZoom(),s=E.ID_URL+"/#map="+a+"/"+i+"/"+o;r.setState({iDEdit:!0,iDEditPath:s})}},r.reset=function(){r.setState({iDEdit:!1,iDEditPath:"",geolocation:""})},r.fetchNextItem=function(){var t=r.props,e=t.user,n=t.editor,o=t.currentTaskId,i=t.currentTaskType,a=t.fetchRandomItem,s={user:e||"",editor:n};a({taskId:o,taskType:i,payload:s}).then(r.reset)},r.geolocate=function(t){var e=s(t,2),n=e[0],o=e[1],i=/place./;fetch(E.MAPBOX_GEOCODER_URL+"/mapbox.places/"+n+","+o+".json?types=place&access_token="+E.MAPBOX_ACCESS_TOKEN).then(function(t){return t.json()}).then(function(t){return t.features.length&&t.features.find(function(t){return i.test(t.id)}).place_name||""}).then(function(t){return r.setState({geolocation:t})})},a=n,i(r,a)}return a(e,t),u(e,[{key:"addSource",value:function(t){var e=this.state.map;e.addSource(t,{type:"geojson",data:(0,p.featureCollection)([])}),e.addSource(t+"-bbox",{type:"geojson",data:(0,p.featureCollection)([])})}},{key:"updateSource",value:function(t,e){var n=this.state.map,r=this.flattenRelations(e),o=(0,p.featureCollection)(r),i=this.getBoundingBox(o);n.getSource(t).setData(o),n.getSource(t+"-bbox").setData(i)}},{key:"removeSource",value:function(t){var e=this.state.map;e.removeSource(t),e.removeSource(t+"-bbox")}},{key:"flattenRelations",value:function(t){var e=t.properties.relations||[];return[t].concat(e)}},{key:"getBoundingBox",value:function(t){var e=(0,y.default)(t),n=s(e,4),r=n[0],o=n[1],i=n[2],a=n[3],u=Math.max((i-r)/5,1e-4),l=Math.max((a-o)/5,1e-4),c=[r-u,o-l,i+u,a+l],f=(0,g.default)(c);return(0,p.featureCollection)([f])}},{key:"addLayers",value:function(t){var e=this.state.map;e.addLayer({id:t+"-bbox-bg",type:"line",source:t+"-bbox",paint:{"line-width":6,"line-color":"HSL(247, 100%, 100%)","line-opacity":.5}}),e.addLayer({id:t+"-bbox",type:"line",source:t+"-bbox",paint:{"line-width":2,"line-color":"HSL(247, 60%, 50%)","line-opacity":.75}}),e.addLayer({id:t+"-circle",type:"circle",source:t,paint:{"circle-radius":{stops:[[12,4],[16,8]]},"circle-opacity":{stops:[[12,.5],[16,.75]]},"circle-color":"#dc322f"}}),e.addLayer({id:t+"-line",type:"line",source:t,paint:{"line-width":{stops:[[12,2],[16,5]]},"line-opacity":.75,"line-color":"#dc322f"}}),e.addLayer({id:t+"-fill",type:"fill",source:t,paint:{"fill-opacity":0,"fill-outline-color":"#dc322f"}})}},{key:"removeLayers",value:function(t){var e=this.state.map;e.removeLayer(t+"-circle"),e.removeLayer(t+"-line"),e.removeLayer(t+"-fill"),e.removeLayer(t+"-bbox")}},{key:"fitBounds",value:function(t){var e=this.state.map;e.fitBounds(t,{linear:!0,padding:200})}},{key:"resize",value:function(){var t=this.state.map;window.setTimeout(function(){return t.resize()},120)}},{key:"componentDidMount",value:function(){var t=this,e=new b.default.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v9",zoom:18,center:[-74.5,40]});e.addControl(new b.default.NavigationControl),e.addControl(z,"top-left"),e.once("load",function(){t.setState({map:e}),z.update(t.props.currentTask)})}},{key:"shouldComponentUpdate",value:function(t,e){return e.map!==this.state.map||e.geolocation!==this.state.geolocation||e.iDEdit!==this.state.iDEdit||t.currentTaskId!==this.props.currentTaskId||t.currentItemId!==this.props.currentItemId||t.sidebar!==this.props.sidebar}},{key:"componentDidUpdate",value:function(t,e){if(e.map!==this.state.map){var n=this.props.currentTaskId;return this.addSource(n),this.addLayers(n),void this.fetchNextItem()}if(this.state.map&&t.currentTaskId!==this.props.currentTaskId)return this.removeSource(t.currentTaskId),this.removeLayers(t.currentTaskId),this.addSource(this.props.currentTaskId),this.addLayers(this.props.currentTaskId),this.fetchNextItem(),void z.update(this.props.currentTask);if(this.state.map&&t.currentItemId!==this.props.currentItemId){var r=this.props,o=r.currentTaskId,i=r.currentItem;this.updateSource(o,i);var a=(0,d.default)(i).geometry.coordinates;this.geolocate(a);var s=this.state.map.getSource(o+"-bbox")._data.features[0],u=s.geometry.coordinates[0];return void this.fitBounds([u[0],u[2]])}this.state.map&&t.sidebar!==this.props.sidebar&&this.resize()}},{key:"componentWillUnmount",value:function(){var t=this.state.map;t&&t.remove()}},{key:"render",value:function(){var t=this,e=this.state,n=e.geolocation,r=e.iDEdit,o=e.iDEditPath,i=this.props.currentItemId,a=c.default.createElement(w.default,{onTaskEdit:this.editTask,onUpdate:this.fetchNextItem,geolocation:n}),s=r?"":"hidden",u=c.default.createElement("div",{className:s},c.default.createElement("iframe",{src:o,frameBorder:"0",className:"ideditor"}));return c.default.createElement("div",{ref:function(e){return t.mapContainer=e},className:"mode active map fill-navy-dark contain"},i&&a,u)}}]),e}(l.Component);B.propTypes={currentTask:l.PropTypes.object.isRequired,currentTaskId:l.PropTypes.string.isRequired,user:l.PropTypes.string,editor:l.PropTypes.string.isRequired,sidebar:l.PropTypes.bool.isRequired,currentItem:l.PropTypes.object,currentItemId:l.PropTypes.string,fetchRandomItem:l.PropTypes.func.isRequired,openErrorModal:l.PropTypes.func.isRequired},B=(0,f.connect)(U,F)(B),e.default=B},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MAPBOX_ACCESS_TOKEN="pk.eyJ1IjoiYWppdGhyYW5rYSIsImEiOiJjaXA5b20zdXQwMW9xdGNseXJ6M2JpeHZlIn0.FTSj2x9tyD37djfYYWrtAw",e.TASK_SERVER_URL="https://build-to-fix-production.mapbox.com",e.USER_PROFILE_URL="https://www.openstreetmap.org/user",e.MAPBOX_GEOCODER_URL="https://api.mapbox.com/geocoding/v5",e.JOSM_RC_URL="https://localhost:8112",e.ID_URL="http://preview.ideditor.com/release"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n(183);var o=n(1),i=r(o),a=n(119),s=n(7),u=n(35),l=n(327),c=r(l),f=n(145),p=r(f);(0,a.render)(i.default.createElement(s.Provider,{store:p.default},i.default.createElement(u.Router,{history:u.hashHistory,routes:c.default})),document.getElementById("app"))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(35),s=n(311),u=r(s),l=n(324),c=r(l),f=n(318),p=r(f),h=n(307),d=r(h),m=n(305),y=r(m),v=n(145),g=r(v),_=n(61),b=r(_),x=function(t){var e=t.params.task;e&&g.default.dispatch(b.default.selectTask({idtask:e}))},w=function(t,e){var n=t.params.task,r=e.params.task;n!==r&&g.default.dispatch(b.default.selectTask({idtask:r}))};e.default=i.default.createElement(a.Route,{path:"/",component:u.default,onEnter:x,onChange:w},i.default.createElement(a.Route,{name:"task",path:"/task/:task",component:c.default}),i.default.createElement(a.Route,{name:"activity",path:"/activity/:task",component:y.default}),i.default.createElement(a.Route,{name:"stats",path:"/stats/:task",component:p.default}),i.default.createElement(a.Route,{name:"admin",path:"/admin/:task",component:d.default}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchAllStats=e.fetchRecentActivity=e.updateItem=e.fetchRandomItem=e.destroyTask=e.updateTask=e.createTask=e.fetchTaskById=e.fetchAllTasks=e.destroyUser=e.changeUserRole=e.fetchAllUsers=e.logout=e.fetchUserDetails=e.loginURL=e.status=void 0;var r=n(42),o=function(t){return t.json()};e.status=function(){return fetch(""+r.TASK_SERVER_URL).then(o)},e.loginURL=r.TASK_SERVER_URL+"/connect/openstreetmap",e.fetchUserDetails=function(t){var e=t.token;return fetch(r.TASK_SERVER_URL+"/user/details",{headers:{Authorization:e}}).then(o)},e.logout=function(t){var e=t.token;return fetch(r.TASK_SERVER_URL+"/logout",{headers:{Authorization:e}}).then(o)},e.fetchAllUsers=function(t){var e=t.token;return fetch(r.TASK_SERVER_URL+"/users",{headers:{Authorization:e}}).then(o)},e.changeUserRole=function(t){var e=t.token,n=t.payload;return fetch(r.TASK_SERVER_URL+"/users",{method:"PUT",headers:{Authorization:e},body:JSON.stringify(n)}).then(o)},e.destroyUser=function(t){var e=t.token,n=t.payload;return fetch(r.TASK_SERVER_URL+"/users",{method:"DELETE",headers:{Authorization:e},body:JSON.stringify(n)}).then(o)},e.fetchAllTasks=function(){return fetch(r.TASK_SERVER_URL+"/tasks").then(o)},e.fetchTaskById=function(t){var e=t.taskId;return fetch(r.TASK_SERVER_URL+"/tasks/"+e).then(o)},e.createTask=function(t){var e=t.token,n=t.payload;return fetch(r.TASK_SERVER_URL+"/tasks",{method:"POST",headers:{Authorization:e},body:n}).then(o)},e.updateTask=function(t){var e=t.token,n=t.payload;return fetch(r.TASK_SERVER_URL+"/tasks",{method:"PUT",headers:{Authorization:e},body:n}).then(o)},e.destroyTask=function(t){var e=t.token,n=t.payload;return fetch(r.TASK_SERVER_URL+"/tasks",{method:"DELETE",headers:{Authorization:e},body:n}).then(o)},e.fetchRandomItem=function(t){var e=t.taskId,n=t.taskType,i=t.payload;return fetch(r.TASK_SERVER_URL+"/tasks/"+e+"/"+n+"/items",{method:"POST",body:JSON.stringify(i)}).then(o)},e.updateItem=function(t){var e=t.taskId,n=t.taskType,i=t.payload;return fetch(r.TASK_SERVER_URL+"/tasks/"+e+"/"+n+"/items",{method:"PUT",body:JSON.stringify(i)}).then(o)},e.fetchRecentActivity=function(t){var e=t.taskId;return fetch(r.TASK_SERVER_URL+"/tasks/"+e+"/activity").then(o)},e.fetchAllStats=function(t){var e=t.taskId,n=t.from,i=t.to;return fetch(r.TASK_SERVER_URL+"/tasks/"+e+"/track_stats/from:"+n+"/to:"+i).then(o)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i=n(8),a=n(134),s=r(a),u={fetchRecentActivity:(0,i.asyncAction)({type:s.default.ACTIVITY_FETCH_RECENT,asyncCall:o.server.fetchRecentActivity,showLoader:!0})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(134),i=r(o),a=n(43),s=r(a),u=n(8),l={data:[],fromDate:"",toDate:"",updatedOn:null},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments[1];if(e.type===s.default.TASKS_SELECT)return l;switch(e.type){case i.default.ACTIVITY_FETCH_RECENT:if(e.status===u.AsyncStatus.SUCCESS){var n=e.response,r=n.data,o=n.updated,a=e.params,c=a.from,f=a.to;return{data:r,fromDate:c,toDate:f,updatedOn:o}}return t;default:return t}};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=function(t){return t.activity},i={getData:(0,r.createSelector)(o,function(t){return t.data.sort(function(t,e){return e.time-t.time})}),getFromDate:(0,r.createSelector)(o,function(t){return t.fromDate}),getToDate:(0,r.createSelector)(o,function(t){return t.toDate}),getUpdatedOn:(0,r.createSelector)(o,function(t){return t.updatedOn})};e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i=n(8),a=n(135),s=r(a),u={fetchAllUsers:(0,i.asyncAction)({type:s.default.ADMIN_FETCH_ALL_USERS,asyncCall:o.server.fetchAllUsers,showLoader:!0}),changeUserRole:(0,i.asyncAction)({type:s.default.ADMIN_CHANGE_USER_ROLE,asyncCall:o.server.changeUserRole,showLoader:!0,showError:!1})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(135),a=r(i),s=n(30),u=r(s),l=n(8),c={users:[]},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments[1];switch(e.type){case a.default.ADMIN_FETCH_ALL_USERS:return e.status===l.AsyncStatus.SUCCESS?{users:e.response.users}:t;case a.default.ADMIN_CHANGE_USER_ROLE:if(e.status===l.AsyncStatus.SUCCESS){var n=function(){var n=e.params.payload,r=n.iduser,o=n.role,i=t.users.map(function(t){return t.id==r&&(t.role=o),t});return{v:{users:i}}}();if("object"===("undefined"==typeof n?"undefined":o(n)))return n.v}return t;case u.default.USER_LOGOUT:return{users:[]};default:return t}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=function(t){return t.admin},i=function(t){return t.sort(function(t,e){return t.user.toLowerCase()<e.user.toLowerCase()?-1:t.user.toLowerCase()>e.user.toLowerCase()?1:0})},a={getUsers:(0,r.createSelector)(o,function(t){return i(t.users)})};e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(136),i=r(o),a=n(43),s=r(a),u=n(8),l={item:{},itemId:null},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments[1];if(e.type===s.default.TASKS_SELECT)return l;switch(e.type){case i.default.ITEMS_FETCH_RANDOM:if(e.status===u.AsyncStatus.SUCCESS){var n=e.response,r=n.entities.items,o=n.result;return{item:r[o],itemId:o}}return t;default:return t}};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(137),i=r(o),a={startLoading:function(){return{type:i.default.LOADING_START}},stopLoading:function(){return{type:i.default.LOADING_STOP}}};e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(137),i=r(o),a=!1,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments[1];switch(e.type){case i.default.LOADING_START:return!0;case i.default.LOADING_STOP:return!1;default:return t}};e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={getIsLoading:function(t){return t.loading}};e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(138),i=r(o),a={showSettingsModal:!1,showSuccessModal:!1,successMessage:null,showErrorModal:!1,errorMessage:null,showCreateTaskModal:!1,showManageUsersModal:!1},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments[1];switch(e.type){case i.default.MODALS_OPEN_SETTINGS:return Object.assign({},t,{showSettingsModal:!0});case i.default.MODALS_CLOSE_SETTINGS:return Object.assign({},t,{showSettingsModal:!1});case i.default.MODALS_OPEN_SUCCESS:return Object.assign({},t,{showSuccessModal:!0,successMessage:e.successMessage});case i.default.MODALS_CLOSE_SUCCESS:return Object.assign({},t,{showSuccessModal:!1,successMessage:null});case i.default.MODALS_OPEN_ERROR:return Object.assign({},t,{showErrorModal:!0,errorMessage:e.errorMessage});case i.default.MODALS_CLOSE_ERROR:return Object.assign({},t,{showErrorModal:!1,errorMessage:null});case i.default.MODALS_OPEN_CREATE_TASK:return Object.assign({},t,{showCreateTaskModal:!0});case i.default.MODALS_CLOSE_CREATE_TASK:return Object.assign({},t,{showCreateTaskModal:!1});case i.default.MODALS_OPEN_MANAGE_USERS:return Object.assign({},t,{showManageUsersModal:!0});case i.default.MODALS_CLOSE_MANAGE_USERS:return Object.assign({},t,{showManageUsersModal:!1});default:return t}};e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(139),i=r(o),a={sidebar:!0,editor:"id"},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments[1];switch(e.type){case i.default.SETTINGS_TOGGLE_SIDEBAR:return Object.assign({},t,{sidebar:!t.sidebar});case i.default.SETTINGS_SET_EDITOR_PREFERENCE:return Object.assign({},t,{editor:e.editor});default:return t}};e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i=n(8),a=n(140),s=r(a),u={fetchAllStats:(0,i.asyncAction)({type:s.default.STATS_FETCH_ALL,asyncCall:o.server.fetchAllStats,showLoader:!0})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(140),i=r(o),a=n(43),s=r(a),u=n(8),l={byDate:[],fromDate:"",toDate:"",updatedOn:null},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments[1];if(e.type===s.default.TASKS_SELECT)return l;switch(e.type){case i.default.STATS_FETCH_ALL:if(e.status===u.AsyncStatus.SUCCESS){var n=e.response,r=n.stats,o=n.updated,a=e.params,c=a.from,f=a.to;return{byDate:r,fromDate:c,toDate:f,updatedOn:o}}return t;default:return t}};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=n(191),a=r(i),s=n(190),u=r(s),l=function(t){return t.stats},c=function(t){return t.map(function(t){var e=t.edit,n=t.fixed,r=t.skip,o=t.noterror;return t.total=e+n+r+o,t})},f=function(t){return c(t).sort(function(t,e){return e.total-t.total})},p=function(t){var e=["edit","skip","fixed","noterror"],n=t.map(function(t){return(0,u.default)(t,["start"].concat(e))}),r=[];return n.forEach(function(t){Object.keys(t).forEach(function(n){var o=a.default.apply(void 0,[t[n]].concat(e)),i=r.find(function(t){return t.user==n});i?e.forEach(function(t){return i[t]+=o[t]}):r.push(Object.assign({user:n},o))})}),r},h={getByUser:(0,o.createSelector)(l,function(t){return f(p(t.byDate))}),getByDate:(0,o.createSelector)(l,function(t){return t.byDate}),getFromDate:(0,o.createSelector)(l,function(t){return t.fromDate}),getToDate:(0,o.createSelector)(l,function(t){return t.toDate}),getUpdatedOn:(0,o.createSelector)(l,function(t){return t.updatedOn})};e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(104),i=n(192),a=r(i),s=n(43),u=r(s),l=n(8),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case u.default.TASKS_FETCH_ALL:case u.default.TASKS_CREATE:case u.default.TASKS_UPDATE:return e.status===l.AsyncStatus.SUCCESS?Object.assign({},t,e.response.entities.tasks):t;default:return t}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case u.default.TASKS_FETCH_ALL:return e.status===l.AsyncStatus.SUCCESS?(0,a.default)(t,e.response.result.tasks):t;case u.default.TASKS_CREATE:case u.default.TASKS_UPDATE:return e.status===l.AsyncStatus.SUCCESS?(0,a.default)(t,[e.response.result]):t;default:return t}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1];switch(e.type){case u.default.TASKS_SELECT:return e.idtask;default:return t}};e.default=(0,o.combineReducers)({byId:c,allIds:f,currentId:p})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(31),i=n(8),a=n(30),s=r(a),u={login:function(t){return function(e){e({type:s.default.USER_LOGGED_IN,creds:t})}},fetchUserDetails:(0,i.asyncAction)({type:s.default.USER_FETCH_USER_DETAILS,asyncCall:o.server.fetchUserDetails}),logout:(0,i.asyncAction)({type:s.default.USER_LOGOUT,asyncCall:o.server.logout})};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),i=r(o),a=n(8),s={isAuthenticated:!1,osmid:null,username:null,avatar:null,role:null,token:null},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments[1];switch(e.type){case i.default.USER_LOGGED_IN:return{isAuthenticated:!0,osmid:e.creds.id,username:e.creds.user,avatar:e.creds.img,role:e.creds.role,token:e.creds.token};case i.default.USER_FETCH_USER_DETAILS:switch(e.status){case a.AsyncStatus.SUCCESS:return{isAuthenticated:!0,osmid:e.response.id,username:e.response.user,avatar:e.response.img,role:e.response.role,token:e.params.token};case a.AsyncStatus.FAILURE:return{isAuthenticated:!1,token:null};default:return t}case i.default.USER_LOGOUT:return{isAuthenticated:!1,token:null};default:return t}};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o);e.default={create:function(t){t=i.default.select(t);var e=t.append("svg").attr("width",this._getContainerWidth(t)).attr("height",this._getContainerHeight());e.append("g").attr("class","d3-area").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),t.append("strong").style("position","absolute").attr("class","tooltip fill-darken3 hidden round pad1x pad0y small strong z10")},resize:function(t){t=i.default.select(t),t.select("svg").attr("width",this._getContainerWidth(t)),this.x.range([0,this._getWidth(t)])},noData:function(t){t.append("text").text("No data found.").attr("transform","translate(-40,0)")},update:function(t,e,n,r){n=!this._empty(n)&&n,t=i.default.select(t);var o=t.selectAll(".d3-area");if(o.html(""),!e.data.length)return this.noData(o);var a=t.select(".tooltip"),s=e.data.map(function(t){return t.date=new Date(1e3*t.start),t});this.x=i.default.time.scale().range([0,this._getWidth(t)]),this.y=i.default.scale.linear().range([this._getHeight(),0]);var u=i.default.svg.axis().scale(this.x).orient("bottom"),l=i.default.svg.axis().ticks(5).scale(this.y).orient("left"),c=i.default.svg.brush().x(this.x);c.on("brushend",function(){a.classed("hidden",!0);var t=c.extent();this._dateFormat(t[0]),this._dateFormat(t[1]),[this._queryDateFormat(t[0]),this._queryDateFormat(t[1])]}.bind(this)),c.on("brush",function(){a.classed("hidden",!1);var t=c.extent(),e=this._dateFormat(t[0]),n=this._dateFormat(t[1]);a.style("left",this.x(t[1])+75+"px").style("top","20px").text(e+" - "+n)}.bind(this));var f=i.default.svg.area().interpolate("monotone").x(function(t){return this.x(t.date)}.bind(this)).y0(this._getHeight()).y1(function(t){return this.y(t.value)}.bind(this));this.x.domain(i.default.extent(s.map(function(t){return t.date}))),this.y.domain([0,i.default.max(s.map(function(t){return t.value}))]);var p=o.selectAll("path").data([s]);p.enter().append("path").attr("class","area").attr("d",f);var h=o.selectAll("g").data([s]);h.enter().append("g").attr("class","y axis").call(l),h.enter().append("g").attr("class","x axis").attr("transform","translate(0,"+this._getHeight()+")").call(u);var d,m,y=[this._queryDateFormat(s[0].date),this._queryDateFormat(s[s.length-1].date)];if(n&&n.from!==y[0]&&n.to!==y[1]){var v=i.default.time.format.utc("%Y-%m-%d").parse;c.extent([v(n.from),v(n.to)]),d=this._dateFormat(v(n.from)),m=this._dateFormat(v(n.to)),y=[n.from,n.to]}else d=this._dateFormat(s[0].date),m=this._dateFormat(s[s.length-1].date);var g=h.enter().append("g").attr("class","x brush").call(c);g.selectAll("rect").attr("y",-6).attr("height",this._getHeight()+7),p.exit().remove(),h.exit().remove(),n&&g.call(c.event)},destroy:function(t){},_margin:{top:10,right:0,bottom:20,left:40},_getHeight:function(){return 100-(this._margin.top-this._margin.bottom)},_getWidth:function(t){return parseInt(t.style("width"),10)-this._margin.left-this._margin.right},_getContainerWidth:function(t){return this._getWidth(t)+this._margin.left+this._margin.right},_getContainerHeight:function(){return this._getHeight()+this._margin.top+this._margin.bottom},_dateFormat:function(t){return i.default.time.format.utc("%b %e, %Y")(t)},_queryDateFormat:function(t){return i.default.time.format.utc("%Y-%m-%d")(t)},_empty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;
return!0}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){try{var e=localStorage.getItem(t);if(null===e)return;return JSON.parse(e)}catch(n){return void console.error("Could not read from localStorage.")}},r=function(t,e){try{var n=JSON.stringify(e);localStorage.setItem(t,n)}catch(r){console.error("Could not write to localStorage.")}},o=function(t){try{localStorage.removeItem(t)}catch(e){console.error("Could not delete from localStorage.")}},i={get:n,set:r,remove:o};e.default=i},function(t,e){},5,function(t,e,n){"use strict";function r(t){var e=new o(o._61);return e._81=1,e._65=t,e}var o=n(146);t.exports=o;var i=r(!0),a=r(!1),s=r(null),u=r(void 0),l=r(0),c=r("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return s;if(void 0===t)return u;if(t===!0)return i;if(t===!1)return a;if(0===t)return l;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new o(e.bind(t))}catch(n){return new o(function(t,e){e(n)})}return r(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"==typeof u){var l=new o(u.bind(s));return void l.then(function(t){r(a,t)},n)}}e[a]=s,0===--i&&t(e)}if(0===e.length)return t([]);for(var i=e.length,a=0;a<e.length;a++)r(a,e[a])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";function r(){l=!1,s._10=null,s._97=null}function o(t){function e(e){(t.allRejections||a(f[e].error,t.whitelist||u))&&(f[e].displayId=c++,t.onUnhandled?(f[e].logged=!0,t.onUnhandled(f[e].displayId,f[e].error)):(f[e].logged=!0,i(f[e].displayId,f[e].error)))}function n(e){f[e].logged&&(t.onHandled?t.onHandled(f[e].displayId,f[e].error):f[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[e].displayId+".")))}t=t||{},l&&r(),l=!0;var o=0,c=0,f={};s._10=function(t){2===t._81&&f[t._72]&&(f[t._72].logged?n(t._72):clearTimeout(f[t._72].timeout),delete f[t._72])},s._97=function(t,n){0===t._45&&(t._72=o++,f[t._72]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._72),a(n,u)?100:2e3),logged:!1})}}function i(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):");var n=(e&&(e.stack||e))+"";n.split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(146),u=[ReferenceError,TypeError,RangeError],l=!1;e.disable=r,e.enable=o},function(t,e){(function(e){"use strict";function n(t){s.length||(a(),u=!0),s[s.length]=t}function r(){for(;l<s.length;){var t=l;if(l+=1,s[t].call(),l>c){for(var e=0,n=s.length-l;e<n;e++)s[e]=s[e+l];s.length-=l,l=0}}s.length=0,l=0,u=!1}function o(t){var e=1,n=new p(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var a,s=[],u=!1,l=0,c=1024,f="undefined"!=typeof e?e:self,p=f.MutationObserver||f.WebKitMutationObserver;a="function"==typeof p?o(r):i(r),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function o(t){var e,r,o,i,a,s,u=t.length;a=n(t),s=new c(3*u/4-a),o=a>0?u-4:u;var f=0;for(e=0,r=0;e<o;e+=4,r+=3)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=255&i;return 2===a?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,s[f++]=255&i):1===a&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,s[f++]=i>>8&255,s[f++]=255&i),s}function i(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(r));return o.join("")}function s(t){for(var e,n=t.length,r=n%3,o="",i=[],s=16383,l=0,c=n-r;l<c;l+=s)i.push(a(t,l,l+s>c?c:l+s));return 1===r?(e=t[n-1],o+=u[e>>2],o+=u[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=u[e>>10],o+=u[e>>4&63],o+=u[e<<2&63],o+="="),i.push(o),i.join("")}e.byteLength=r,e.toByteArray=o,e.fromByteArray=s;for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=f.length;p<h;++p)u[p]=f[p],l[f.charCodeAt(p)]=p;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,p=n?-1:1,h=t[e+f];for(f+=p,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=d,a/=256,l-=8);t[n+h-d]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(6),o=n(175),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function o(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function i(t){switch(t){case k.topCompositionStart:return P.compositionStart;case k.topCompositionEnd:return P.compositionEnd;case k.topCompositionUpdate:return P.compositionUpdate}}function a(t,e){return t===k.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case k.topKeyUp:return b.indexOf(e.keyCode)!==-1;case k.topKeyDown:return e.keyCode!==x;case k.topKeyPress:case k.topMouseDown:case k.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function l(t,e,n,r){var o,l;if(w?o=i(t):R?s(t,n)&&(o=P.compositionEnd):a(t,n)&&(o=P.compositionStart),!o)return null;M&&(R||o!==P.compositionStart?o===P.compositionEnd&&R&&(l=R.getData()):R=y.getPooled(r));var c=v.getPooled(o,e,n,r);if(l)c.data=l;else{var f=u(n);null!==f&&(c.data=f)}return d.accumulateTwoPhaseDispatches(c),c}function c(t,e){switch(t){case k.topCompositionEnd:return u(e);case k.topKeyPress:var n=e.which;return n!==T?null:(A=!0,C);case k.topTextInput:var r=e.data;return r===C&&A?null:r;default:return null}}function f(t,e){if(R){if(t===k.topCompositionEnd||!w&&s(t,e)){var n=R.getData();return y.release(R),R=null,n}return null}switch(t){case k.topPaste:return null;case k.topKeyPress:return e.which&&!o(e)?String.fromCharCode(e.which):null;case k.topCompositionEnd:return M?null:e.data;default:return null}}function p(t,e,n,r){var o;if(o=S?c(t,n):f(t,n),!o)return null;var i=g.getPooled(P.beforeInput,e,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var h=n(19),d=n(47),m=n(10),y=n(364),v=n(402),g=n(405),_=n(28),b=[9,13,27,32],x=229,w=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var S=m.canUseDOM&&"TextEvent"in window&&!E&&!r(),M=m.canUseDOM&&(!w||E&&E>8&&E<=11),T=32,C=String.fromCharCode(T),k=h.topLevelTypes,P={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[k.topCompositionEnd,k.topKeyPress,k.topTextInput,k.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[k.topBlur,k.topCompositionEnd,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[k.topBlur,k.topCompositionStart,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[k.topBlur,k.topCompositionUpdate,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]}},A=!1,R=null,O={eventTypes:P,extractEvents:function(t,e,n,r){return[l(t,e,n,r),p(t,e,n,r)]}};t.exports=O},function(t,e,n){"use strict";var r=n(148),o=n(10),i=(n(12),n(422),n(412)),a=n(429),s=n(432),u=(n(4),s(function(t){return a(t)})),l=!1,c="cssFloat";if(o.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(p){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(t,e){var n="";for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];null!=o&&(n+=u(r)+":",n+=i(r,o,e)+";")}return n||null},setValueForStyles:function(t,e,n){var o=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=i(a,e[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)o[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var f in u)o[f]="";else o[a]=""}}}};t.exports=h},function(t,e,n){"use strict";function r(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function o(t){var e=S.getPooled(A.change,O,t,M(t));b.accumulateTwoPhaseDispatches(e),E.batchedUpdates(i,e)}function i(t){_.enqueueEvents(t),_.processEventQueue(!1)}function a(t,e){R=t,O=e,R.attachEvent("onchange",o)}function s(){R&&(R.detachEvent("onchange",o),R=null,O=null)}function u(t,e){if(t===P.topChange)return e}function l(t,e,n){t===P.topFocus?(s(),a(e,n)):t===P.topBlur&&s()}function c(t,e){R=t,O=e,I=t.value,L=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(R,"value",j),R.attachEvent?R.attachEvent("onpropertychange",p):R.addEventListener("propertychange",p,!1)}function f(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",p):R.removeEventListener("propertychange",p,!1),R=null,O=null,I=null,L=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==I&&(I=e,o(t))}}function h(t,e){if(t===P.topInput)return e}function d(t,e,n){t===P.topFocus?(f(),c(e,n)):t===P.topBlur&&f()}function m(t,e){if((t===P.topSelectionChange||t===P.topKeyUp||t===P.topKeyDown)&&R&&R.value!==I)return I=R.value,O}function y(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function v(t,e){if(t===P.topClick)return e}var g=n(19),_=n(46),b=n(47),x=n(10),w=n(6),E=n(16),S=n(20),M=n(98),T=n(99),C=n(172),k=n(28),P=g.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:k({onChange:null}),captured:k({onChangeCapture:null})},dependencies:[P.topBlur,P.topChange,P.topClick,P.topFocus,P.topInput,P.topKeyDown,P.topKeyUp,P.topSelectionChange]}},R=null,O=null,I=null,L=null,N=!1;x.canUseDOM&&(N=T("change")&&(!document.documentMode||document.documentMode>8));var D=!1;x.canUseDOM&&(D=T("input")&&(!document.documentMode||document.documentMode>11));var j={get:function(){return L.get.call(this)},set:function(t){I=""+t,L.set.call(this,t)}},z={eventTypes:A,extractEvents:function(t,e,n,o){var i,a,s=e?w.getNodeFromInstance(e):window;if(r(s)?N?i=u:a=l:C(s)?D?i=h:(i=m,a=d):y(s)&&(i=v),i){var c=i(t,e);if(c){var f=S.getPooled(A.change,c,n,o);return f.type="change",b.accumulateTwoPhaseDispatches(f),f}}a&&a(t,s,e)}};t.exports=z},function(t,e,n){"use strict";var r=n(3),o=n(38),i=n(10),a=n(425),s=n(13),u=(n(2),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(i.canUseDOM?void 0:r("56"),e?void 0:r("57"),"HTML"===t.nodeName?r("58"):void 0,"string"==typeof e){var n=a(e,s)[0];t.parentNode.replaceChild(n,t)}else o.replaceChildWithTree(t,e)}});t.exports=u},function(t,e,n){"use strict";var r=n(28),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},function(t,e,n){"use strict";var r=n(19),o=n(47),i=n(6),a=n(64),s=n(28),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(t,e,n,r){if(t===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var f,p;if(t===u.topMouseOut){f=e;var h=n.relatedTarget||n.toElement;p=h?i.getClosestInstanceFromNode(h):null}else f=null,p=e;if(f===p)return null;var d=null==f?s:i.getNodeFromInstance(f),m=null==p?s:i.getNodeFromInstance(p),y=a.getPooled(l.mouseLeave,f,n,r);y.type="mouseleave",y.target=d,y.relatedTarget=m;var v=a.getPooled(l.mouseEnter,p,n,r);return v.type="mouseenter",v.target=m,v.relatedTarget=d,o.accumulateEnterLeaveDispatches(y,v,f,p),[y,v]}};t.exports=c},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var o=n(5),i=n(26),a=n(170);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=o.slice(t,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r=n(39),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=l},function(t,e,n){"use strict";var r=n(5),o=n(151),i=n(86),a=n(392),s=n(152),u=n(375),l=n(15),c=n(162),f=n(163),p=n(418),h=(n(4),l.createElement),d=l.createFactory,m=l.cloneElement,y=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,PureComponent:a,createElement:h,cloneElement:m,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:d,createMixin:function(t){return t},DOM:u,version:f,__spread:y};t.exports=v},function(t,e,n){(function(e){"use strict";function r(t,e,n,r){var o=void 0===t[n];null!=e&&o&&(t[n]=i(e,!0))}var o=n(40),i=n(171),a=(n(84),n(100)),s=n(101),u=(n(4),{instantiateChildren:function(t,e,n,o){if(null==t)return null;var i={};return s(t,r,i),i},updateChildren:function(t,e,n,r,s,u,l,c,f){if(e||t){var p,h;for(p in e)if(e.hasOwnProperty(p)){h=t&&t[p];var d=h&&h._currentElement,m=e[p];if(null!=h&&a(d,m))o.receiveComponent(h,m,s,c),e[p]=h;else{h&&(r[p]=o.getHostNode(h),o.unmountComponent(h,!1));var y=i(m,!0);e[p]=y;var v=o.mountComponent(y,s,u,l,c,f);n.push(v)}}for(p in t)!t.hasOwnProperty(p)||e&&e.hasOwnProperty(p)||(h=t[p],r[p]=o.getHostNode(h),o.unmountComponent(h,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];o.unmountComponent(r,e)}}});t.exports=u}).call(e,n(79))},function(t,e,n){"use strict";var r=n(80),o=n(377),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},function(t,e,n){"use strict";function r(t){}function o(t,e){}function i(t){return!(!t.prototype||!t.prototype.isReactComponent)}function a(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=n(3),u=n(5),l=n(87),c=n(27),f=n(15),p=n(89),h=n(48),d=(n(12),n(161)),m=(n(92),n(40)),y=n(411),v=n(51),g=(n(2),n(103)),_=n(100),b=(n(4),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var t=h.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return o(t,e),e};var x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,u){this._context=u,this._mountOrder=x++,this._hostParent=e,this._hostContainerInfo=n;var l,c=this._currentElement.props,p=this._processContext(u),d=this._currentElement.type,m=t.getUpdateQueue(),y=i(d),g=this._constructComponent(y,c,p,m);y||null!=g&&null!=g.render?a(d)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(l=g,o(d,l),null===g||g===!1||f.isValidElement(g)?void 0:s("105",d.displayName||d.name||"Component"),g=new r(d),this._compositeType=b.StatelessFunctional);g.props=c,g.context=p,g.refs=v,g.updater=m,this._instance=g,h.set(g,this);var _=g.state;void 0===_&&(g.state=_=null),"object"!=typeof _||Array.isArray(_)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var w;return w=g.unstable_handleError?this.performInitialMountWithErrorHandling(l,e,n,t,u):this.performInitialMount(l,e,n,t,u),g.componentDidMount&&t.getReactMountReady().enqueue(g.componentDidMount,g),w},_constructComponent:function(t,e,n,r){return this._constructComponentWithoutOwner(t,e,n,r)},_constructComponentWithoutOwner:function(t,e,n,r){var o=this._currentElement.type;return t?new o(e,n,r):o(e,n,r)},performInitialMountWithErrorHandling:function(t,e,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(t,e,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(t,e,n,r,o)}return i},performInitialMount:function(t,e,n,r,o){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===t&&(t=this._renderValidatedComponent());var s=d.getType(t);this._renderedNodeType=s;var u=this._instantiateReactComponent(t,s!==d.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,r,e,n,this._processChildContext(o),a);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return v;var r={};for(var o in n)r[o]=t[o];return r},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(e=r.getChildContext()),e){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var o in e)o in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",o);return u({},t,e)}return t},_checkContextTypes:function(t,e,n){y(t,e,n,this.getName(),null,this._debugID)},receiveComponent:function(t,e,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(e,r,t,o,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,r,o){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===o?a=i.context:(a=this._processContext(o),u=!0);var l=e.props,c=n.props;e!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var f=this._processPendingState(c,a),p=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?p=i.shouldComponentUpdate(c,f,a):this._compositeType===b.PureClass&&(p=!g(l,c)||!g(i.state,f))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,a,t,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=f,i.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,t,e):s)}return i},_performComponentUpdate:function(t,e,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,r),this._currentElement=t,this._context=i,l.props=e,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent(),i=0;if(_(r,o))m.receiveComponent(n,o,t,this._processChildContext(e));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=d.getType(o);this._renderedNodeType=s;var u=this._instantiateReactComponent(o,s!==d.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),i);this._replaceNodeWithMarkup(a,l,n)}},_replaceNodeWithMarkup:function(t,e,n){l.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t,e=this._instance;return t=e.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==b.StatelessFunctional){c.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||t===!1||f.isValidElement(t)?void 0:s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=e.getPublicInstance(),o=n.refs===v?n.refs={}:n.refs;o[t]=r},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===b.StatelessFunctional?null:t},_instantiateReactComponent:null},E={Mixin:w};t.exports=E},function(t,e,n){"use strict";var r=n(6),o=n(385),i=n(159),a=n(40),s=n(16),u=n(163),l=n(413),c=n(168),f=n(420);n(4);o.inject();var p={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=c(t)),t?r.getNodeFromInstance(t):null}},Mount:i,Reconciler:a});t.exports=p},function(t,e,n){"use strict";var r=n(62),o={getHostProps:r.getHostProps};t.exports=o},function(t,e,n){"use strict";function r(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(t,e){e&&(J[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?m("137",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?m("60"):void 0,"object"==typeof e.dangerouslySetInnerHTML&&W in e.dangerouslySetInnerHTML?void 0:m("61")),null!=e.style&&"object"!=typeof e.style?m("62",r(t)):void 0)}function i(t,e,n,r){if(!(r instanceof N)){var o=t._hostContainerInfo,i=o._node&&o._node.nodeType===K,s=i?o._node:o._ownerDocument;B(e,s),r.getReactMountReady().enqueue(a,{inst:t,registrationName:e,listener:n})}}function a(){var t=this;S.putListener(t.inst,t.registrationName,t.listener)}function s(){var t=this;A.postMountWrapper(t)}function u(){var t=this;I.postMountWrapper(t)}function l(){var t=this;R.postMountWrapper(t)}function c(){var t=this;t._rootNodeID?void 0:m("63");var e=F(t);switch(e?void 0:m("64"),t._tag){case"iframe":case"object":t._wrapperState.listeners=[T.trapBubbledEvent(E.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in Z)Z.hasOwnProperty(n)&&t._wrapperState.listeners.push(T.trapBubbledEvent(E.topLevelTypes[n],Z[n],e));break;case"source":t._wrapperState.listeners=[T.trapBubbledEvent(E.topLevelTypes.topError,"error",e)];break;case"img":t._wrapperState.listeners=[T.trapBubbledEvent(E.topLevelTypes.topError,"error",e),T.trapBubbledEvent(E.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[T.trapBubbledEvent(E.topLevelTypes.topReset,"reset",e),T.trapBubbledEvent(E.topLevelTypes.topSubmit,"submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[T.trapBubbledEvent(E.topLevelTypes.topInvalid,"invalid",e)]}}function f(){O.postUpdateWrapper(this)}function p(t){tt.call(Q,t)||($.test(t)?void 0:m("65",t),Q[t]=!0)}function h(t,e){return t.indexOf("-")>=0||null!=e.is}function d(t){var e=t.type;p(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(3),y=n(5),v=n(357),g=n(359),_=n(38),b=n(81),x=n(39),w=n(150),E=n(19),S=n(46),M=n(82),T=n(63),C=n(371),k=n(153),P=n(6),A=n(378),R=n(379),O=n(154),I=n(382),L=(n(12),n(390)),N=n(395),D=(n(13),n(65)),j=(n(2),n(99),n(28)),z=(n(103),n(102),n(4),k),U=S.deleteListener,F=P.getNodeFromInstance,B=T.listenTo,q=M.registrationNameModules,V={string:!0,number:!0},H=j({style:null}),W=j({__html:null}),G={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},K=11,Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y={listing:!0,pre:!0,textarea:!0},J=y({menuitem:!0},X),$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q={},tt={}.hasOwnProperty,et=1;d.displayName="ReactDOMComponent",d.Mixin={mountComponent:function(t,e,n,r){this._rootNodeID=et++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(c,this);break;case"button":i=C.getHostProps(this,i,e);break;case"input":A.mountWrapper(this,i,e),i=A.getHostProps(this,i),t.getReactMountReady().enqueue(c,this);break;case"option":R.mountWrapper(this,i,e),i=R.getHostProps(this,i);break;case"select":O.mountWrapper(this,i,e),i=O.getHostProps(this,i),t.getReactMountReady().enqueue(c,this);break;case"textarea":I.mountWrapper(this,i,e),i=I.getHostProps(this,i),t.getReactMountReady().enqueue(c,this)}o(this,i);var a,f;null!=e?(a=e._namespaceURI,f=e._tag):n._tag&&(a=n._namespaceURI,f=n._tag),(null==a||a===b.svg&&"foreignobject"===f)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var p;if(t.useCreateElement){var h,d=n._ownerDocument;if(a===b.html)if("script"===this._tag){var m=d.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",h=m.removeChild(m.firstChild)}else h=i.is?d.createElement(this._currentElement.type,i.is):d.createElement(this._currentElement.type);else h=d.createElementNS(a,this._currentElement.type);P.precacheNode(this,h),this._flags|=z.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(h),this._updateDOMProperties(null,i,t);var g=_(h);this._createInitialChildren(t,i,r,g),p=g}else{var x=this._createOpenTagMarkupAndPutListeners(t,i),E=this._createContentMarkup(t,i,r);p=!E&&X[this._tag]?x+"/>":x+">"+E+"</"+this._currentElement.type+">";
}switch(this._tag){case"input":t.getReactMountReady().enqueue(s,this),i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":t.getReactMountReady().enqueue(u,this),i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":i.autoFocus&&t.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(l,this)}return p},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o)if(q.hasOwnProperty(r))o&&i(this,r,o,t);else{r===H&&(o&&(o=this._previousStyleCopy=y({},e.style)),o=g.createMarkupForStyles(o,this));var a=null;null!=this._tag&&h(this._tag,e)?G.hasOwnProperty(r)||(a=w.createMarkupForCustomAttribute(r,o)):a=w.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var r="",o=e.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=V[typeof e.children]?e.children:null,a=null!=i?null:e.children;if(null!=i)r=D(i);else if(null!=a){var s=this.mountChildren(a,t,n);r=s.join("")}}return Y[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(t,e,n,r){var o=e.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&_.queueHTML(r,o.__html);else{var i=V[typeof e.children]?e.children:null,a=null!=i?null:e.children;if(null!=i)_.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,t,n),u=0;u<s.length;u++)_.queueChild(r,s[u])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,r){var i=e.props,a=this._currentElement.props;switch(this._tag){case"button":i=C.getHostProps(this,i),a=C.getHostProps(this,a);break;case"input":i=A.getHostProps(this,i),a=A.getHostProps(this,a);break;case"option":i=R.getHostProps(this,i),a=R.getHostProps(this,a);break;case"select":i=O.getHostProps(this,i),a=O.getHostProps(this,a);break;case"textarea":i=I.getHostProps(this,i),a=I.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,t),this._updateDOMChildren(i,a,t,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":I.updateWrapper(this);break;case"select":t.getReactMountReady().enqueue(f,this)}},_updateDOMProperties:function(t,e,n){var r,o,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&null!=t[r])if(r===H){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else q.hasOwnProperty(r)?t[r]&&U(this,r):h(this._tag,t)?G.hasOwnProperty(r)||w.deleteValueForAttribute(F(this),r):(x.properties[r]||x.isCustomAttribute(r))&&w.deleteValueForProperty(F(this),r);for(r in e){var u=e[r],l=r===H?this._previousStyleCopy:null!=t?t[r]:void 0;if(e.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===H)if(u?u=this._previousStyleCopy=y({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(q.hasOwnProperty(r))u?i(this,r,u,n):l&&U(this,r);else if(h(this._tag,e))G.hasOwnProperty(r)||w.setValueForAttribute(F(this),r,u);else if(x.properties[r]||x.isCustomAttribute(r)){var c=F(this);null!=u?w.setValueForProperty(c,r,u):w.deleteValueForProperty(c,r)}}a&&g.setValueForStyles(F(this),a,this)},_updateDOMChildren:function(t,e,n,r){var o=V[typeof t.children]?t.children:null,i=V[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=null!=o?null:t.children,l=null!=i?null:e.children,c=null!=o||null!=a,f=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return F(this)},unmountComponent:function(t){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(t),P.uncacheNode(this),S.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return F(this)}},y(d.prototype,d.Mixin,L.Mixin),t.exports=d},function(t,e,n){"use strict";function r(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===o?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null};return n}var o=(n(102),9);t.exports=r},function(t,e,n){"use strict";var r=n(5),o=n(38),i=n(6),a=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(t,e,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=e,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(t.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return t.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},function(t,e,n){"use strict";var r=n(15),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},function(t,e){"use strict";var n={useCreateElement:!0};t.exports=n},function(t,e,n){"use strict";var r=n(80),o=n(6),i={dangerouslyProcessChildrenUpdates:function(t,e){var n=o.getNodeFromInstance(t);r.processUpdates(n,e)}};t.exports=i},function(t,e,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);f.asap(r,this);var o=e.name;if("radio"===e.type&&null!=o){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),p=0;p<u.length;p++){var h=u[p];if(h!==a&&h.form===a.form){var d=c.getInstanceFromNode(h);d?void 0:i("90"),f.asap(r,d)}}}return n}var i=n(3),a=n(5),s=n(62),u=n(150),l=n(85),c=n(6),f=n(16),p=(n(2),n(4),{getHostProps:function(t,e){var n=l.getValue(e),r=l.getChecked(e),o=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(t,e),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:o.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(t),"checked",n||!1);var r=c.getNodeFromInstance(t),o=l.getValue(e);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==e.value&&null!=e.defaultValue&&(r.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(r.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=c.getNodeFromInstance(t);switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=p},function(t,e,n){"use strict";function r(t){var e="";return i.forEach(t,function(t){null!=t&&("string"==typeof t||"number"==typeof t?e+=t:u||(u=!0))}),e}var o=n(5),i=n(151),a=n(6),s=n(154),u=(n(4),!1),l={mountWrapper:function(t,e,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=e.value?e.value+"":r(e.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}t._wrapperState={selected:a}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=a.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getHostProps:function(t,e){var n=o({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var i=r(e.children);return i&&(n.children=i),n}};t.exports=l},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function o(t){var e=document.selection,n=e.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(t),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,o=e.anchorOffset,i=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(t),f.setEnd(s.startContainer,s.startOffset);var p=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),h=p?0:f.toString().length,d=h+c,m=document.createRange();m.setStart(n,o),m.setEnd(i,a);var y=m.collapsed;return{start:y?d:h,end:y?h:d}}function a(t,e){var n,r,o=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),o.moveToElementText(t),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),r=t[c()].length,o=Math.min(e.start,r),i=void 0===e.end?o:Math.min(e.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(t,o),u=l(t,i);if(s&&u){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(f),n.extend(u.node,u.offset)):(f.setEnd(u.node,u.offset),n.addRange(f))}}}var u=n(10),l=n(416),c=n(170),f=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:f?o:i,setOffsets:f?a:s};t.exports=p},function(t,e,n){"use strict";var r=n(3),o=n(5),i=n(80),a=n(38),s=n(6),u=n(65),l=(n(2),n(102),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(t,e,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=e,t.useCreateElement){var c=n._ownerDocument,f=c.createComment(i),p=c.createComment(l),h=a(c.createDocumentFragment());return a.queueChild(h,a(f)),this._stringText&&a.queueChild(h,a(c.createTextNode(this._stringText))),a.queueChild(h,a(p)),s.precacheNode(this,f),this._closingComment=p,h}var d=u(this._stringText);return t.renderToStaticMarkup?d:"<!--"+i+"-->"+d+"<!--"+l+"-->"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=s.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},function(t,e,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function o(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return c.asap(r,this),n}var i=n(3),a=n(5),s=n(62),u=n(85),l=n(6),c=n(16),f=(n(2),n(4),{getHostProps:function(t,e){null!=e.dangerouslySetInnerHTML?i("91"):void 0;var n=a({},s.getHostProps(t,e),{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=u.getValue(e),r=n;if(null==n){var a=e.defaultValue,s=e.children;null!=s&&(null!=a?i("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:i("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}t._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=l.getNodeFromInstance(t),r=u.getValue(e);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==e.defaultValue&&(n.defaultValue=o)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=l.getNodeFromInstance(t);e.value=e.textContent}});t.exports=f},function(t,e,n){"use strict";function r(t,e){"_hostNode"in t?void 0:u("33"),"_hostNode"in e?void 0:u("33");for(var n=0,r=t;r;r=r._hostParent)n++;for(var o=0,i=e;i;i=i._hostParent)o++;for(;n-o>0;)t=t._hostParent,n--;for(;o-n>0;)e=e._hostParent,o--;for(var a=n;a--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}function o(t,e){"_hostNode"in t?void 0:u("35"),"_hostNode"in e?void 0:u("35");for(;e;){if(e===t)return!0;e=e._hostParent}return!1}function i(t){return"_hostNode"in t?void 0:u("36"),t._hostParent}function a(t,e,n){for(var r=[];t;)r.push(t),t=t._hostParent;var o;for(o=r.length;o-- >0;)e(r[o],!1,n);for(o=0;o<r.length;o++)e(r[o],!0,n)}function s(t,e,n,o,i){for(var a=t&&e?r(t,e):null,s=[];t&&t!==a;)s.push(t),t=t._hostParent;for(var u=[];e&&e!==a;)u.push(e),e=e._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,o);for(l=u.length;l-- >0;)n(u[l],!1,i)}var u=n(3);n(2);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(5),i=n(16),a=n(50),s=n(13),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var f=new r,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,o,i){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?t(e,n,r,o,i):f.perform(t,null,e,n,r,o,i)}};t.exports=p},function(t,e,n){"use strict";function r(){w||(w=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(f),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:b,BeforeInputEventPlugin:o}),v.HostComponent.injectGenericComponentClass(c),v.HostComponent.injectTextComponentClass(d),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(t){return new p(t)}),v.Updates.injectReconcileTransaction(g),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(l))}var o=n(358),i=n(360),a=n(362),s=n(363),u=n(365),l=n(368),c=n(372),f=n(6),p=n(374),h=n(383),d=n(381),m=n(384),y=n(387),v=n(388),g=n(393),_=n(397),b=n(398),x=n(399),w=!1;t.exports={inject:r}},function(t,e,n){"use strict";function r(t){o.enqueueEvents(t),o.processEventQueue(!1)}var o=n(46),i={handleTopLevel:function(t,e,n,i){var a=o.extractEvents(t,e,n,i);r(a)}};t.exports=i},function(t,e,n){"use strict";function r(t){for(;t._hostParent;)t=t._hostParent;var e=f.getNodeFromInstance(t),n=e.parentNode;return f.getClosestInstanceFromNode(n)}function o(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function i(t){var e=h(t.nativeEvent),n=f.getClosestInstanceFromNode(e),o=n;do t.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<t.ancestors.length;i++)n=t.ancestors[i],m._handleTopLevel(t.topLevelType,n,t.nativeEvent,h(t.nativeEvent))}function a(t){var e=d(window);t(e)}var s=n(5),u=n(174),l=n(10),c=n(26),f=n(6),p=n(16),h=n(98),d=n(427);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?u.listen(r,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?u.capture(r,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);u.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(m._enabled){var n=o.getPooled(t,e);try{p.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},function(t,e,n){"use strict";var r=n(39),o=n(46),i=n(83),a=n(87),s=n(152),u=n(155),l=n(63),c=n(157),f=n(16),p={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:f.injection};t.exports=p},function(t,e,n){"use strict";var r=n(410),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return i.test(t)?t:t.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(t);return o===n}};t.exports=a},function(t,e,n){"use strict";function r(t,e,n){return{type:p.INSERT_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function o(t,e,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:t._mountIndex,fromNode:h.getHostNode(t),toIndex:n,afterNode:e}}function i(t,e){return{type:p.REMOVE_NODE,content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function a(t){return{type:p.SET_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(t){return{type:p.TEXT_CONTENT,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(t,e){return e&&(t=t||[],t.push(e)),t}function l(t,e){f.processChildrenUpdates(t,e)}var c=n(3),f=n(87),p=(n(48),n(12),n(160)),h=(n(27),n(40)),d=n(367),m=(n(13),n(414)),y=(n(2),{Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return d.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r,o,i){var a,s=0;return a=m(e,s),d.updateChildren(t,a,n,r,o,this,this._hostContainerInfo,i,s),a},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=h.mountComponent(s,e,this,this._hostContainerInfo,n,u);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var r=[s(t)];l(this,r)},updateMarkup:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var r=[a(t)];l(this,r)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,t,i,o,e,n);if(a||r){var s,c=null,f=0,p=0,d=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var y=r&&r[s],v=a[s];y===v?(c=u(c,this.moveChild(y,m,f,p)),p=Math.max(y._mountIndex,p),y._mountIndex=f):(y&&(p=Math.max(y._mountIndex,p)),c=u(c,this._mountChildAtIndex(v,i[d],m,f,e,n)),d++),f++,m=h.getHostNode(v)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(t){var e=this._renderedChildren;d.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,r){if(t._mountIndex<r)return o(t,e,n)},createChild:function(t,e,n){return r(n,e,t._mountIndex)},removeChild:function(t,e){return i(t,e)},_mountChildAtIndex:function(t,e,n,r,o,i){return t._mountIndex=r,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}});t.exports=y},function(t,e,n){"use strict";var r=n(3),o=(n(2),{isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){o.isValidOwner(n)?void 0:r("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){o.isValidOwner(n)?void 0:r("120");var i=n.getPublicInstance();i&&i.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});t.exports=o},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||s}function o(){}var i=n(5),a=n(86),s=n(90),u=n(51);o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,i(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=t}var o=n(5),i=n(149),a=n(26),s=n(63),u=n(158),l=(n(12),n(50)),c=n(94),f={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[f,p,h],m={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l.Mixin,m),a.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):i.addComponentAsRefTo(e,t,n)}function o(t,e,n){"function"==typeof t?t(null):i.removeComponentAsRefFrom(e,t,n)}var i=n(391),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,r=null===e||e===!1;return n||r||e.ref!==t.ref||"string"==typeof e.ref&&e._owner!==t._owner},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&o(n,t,e._owner)}},t.exports=a},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=n(5),i=n(26),a=n(50),s=(n(12),n(396)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a.Mixin,c),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){}var i=n(94),a=(n(50),n(4),function(){function t(e){r(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&i.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()?i.enqueueForceUpdate(t):o(t,"forceUpdate")},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()?i.enqueueReplaceState(t,e):o(t,"replaceState")},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()?i.enqueueSetState(t,e):o(t,"setState")},t}());t.exports=a},function(t,e){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(t){o.Properties[t]=0,r[t]&&(o.DOMAttributeNames[t]=r[t])}),t.exports=o},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&l.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(t,e){if(x||null==g||g!==f())return null;var n=r(g);if(!b||!d(b,n)){b=n;var o=c.getPooled(v.select,_,t,e);return o.type="select",o.target=g,a.accumulateTwoPhaseDispatches(o),o}return null}var i=n(19),a=n(47),s=n(10),u=n(6),l=n(158),c=n(20),f=n(176),p=n(172),h=n(28),d=n(103),m=i.topLevelTypes,y=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={
select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},g=null,_=null,b=null,x=!1,w=!1,E=h({onSelect:null}),S={eventTypes:v,extractEvents:function(t,e,n,r){if(!w)return null;var i=e?u.getNodeFromInstance(e):window;switch(t){case m.topFocus:(p(i)||"true"===i.contentEditable)&&(g=i,_=e,b=null);break;case m.topBlur:g=null,_=null,b=null;break;case m.topMouseDown:x=!0;break;case m.topContextMenu:case m.topMouseUp:return x=!1,o(n,r);case m.topSelectionChange:if(y)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(t,e,n){e===E&&(w=!0)}};t.exports=S},function(t,e,n){"use strict";function r(t){return"."+t._rootNodeID}var o=n(3),i=n(19),a=n(174),s=n(47),u=n(6),l=n(400),c=n(401),f=n(20),p=n(404),h=n(406),d=n(64),m=n(403),y=n(407),v=n(408),g=n(49),_=n(409),b=n(13),x=n(96),w=(n(2),n(28)),E=i.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:w({onAbort:!0}),captured:w({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:w({onAnimationEnd:!0}),captured:w({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:w({onAnimationIteration:!0}),captured:w({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:w({onAnimationStart:!0}),captured:w({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:w({onBlur:!0}),captured:w({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:w({onCanPlay:!0}),captured:w({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:w({onCanPlayThrough:!0}),captured:w({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:w({onClick:!0}),captured:w({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:w({onContextMenu:!0}),captured:w({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:w({onCopy:!0}),captured:w({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:w({onCut:!0}),captured:w({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:w({onDoubleClick:!0}),captured:w({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:w({onDrag:!0}),captured:w({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:w({onDragEnd:!0}),captured:w({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:w({onDragEnter:!0}),captured:w({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:w({onDragExit:!0}),captured:w({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:w({onDragLeave:!0}),captured:w({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:w({onDragOver:!0}),captured:w({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:w({onDragStart:!0}),captured:w({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:w({onDrop:!0}),captured:w({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:w({onDurationChange:!0}),captured:w({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:w({onEmptied:!0}),captured:w({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:w({onEncrypted:!0}),captured:w({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:w({onEnded:!0}),captured:w({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:w({onError:!0}),captured:w({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:w({onFocus:!0}),captured:w({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:w({onInput:!0}),captured:w({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:w({onInvalid:!0}),captured:w({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:w({onKeyDown:!0}),captured:w({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:w({onKeyPress:!0}),captured:w({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:w({onKeyUp:!0}),captured:w({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:w({onLoad:!0}),captured:w({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:w({onLoadedData:!0}),captured:w({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:w({onLoadedMetadata:!0}),captured:w({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:w({onLoadStart:!0}),captured:w({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:w({onMouseDown:!0}),captured:w({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:w({onMouseMove:!0}),captured:w({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:w({onMouseOut:!0}),captured:w({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:w({onMouseOver:!0}),captured:w({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:w({onMouseUp:!0}),captured:w({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:w({onPaste:!0}),captured:w({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:w({onPause:!0}),captured:w({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:w({onPlay:!0}),captured:w({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:w({onPlaying:!0}),captured:w({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:w({onProgress:!0}),captured:w({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:w({onRateChange:!0}),captured:w({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:w({onReset:!0}),captured:w({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:w({onScroll:!0}),captured:w({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:w({onSeeked:!0}),captured:w({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:w({onSeeking:!0}),captured:w({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:w({onStalled:!0}),captured:w({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:w({onSubmit:!0}),captured:w({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:w({onSuspend:!0}),captured:w({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:w({onTimeUpdate:!0}),captured:w({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:w({onTouchCancel:!0}),captured:w({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:w({onTouchEnd:!0}),captured:w({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:w({onTouchMove:!0}),captured:w({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:w({onTouchStart:!0}),captured:w({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:w({onTransitionEnd:!0}),captured:w({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:w({onVolumeChange:!0}),captured:w({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:w({onWaiting:!0}),captured:w({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:w({onWheel:!0}),captured:w({onWheelCapture:!0})}}},M={topAbort:S.abort,topAnimationEnd:S.animationEnd,topAnimationIteration:S.animationIteration,topAnimationStart:S.animationStart,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topInvalid:S.invalid,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topTransitionEnd:S.transitionEnd,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var T in M)M[T].dependencies=[T];var C=w({onClick:null}),k={},P={eventTypes:S,extractEvents:function(t,e,n,r){var i=M[t];if(!i)return null;var a;switch(t){case E.topAbort:case E.topCanPlay:case E.topCanPlayThrough:case E.topDurationChange:case E.topEmptied:case E.topEncrypted:case E.topEnded:case E.topError:case E.topInput:case E.topInvalid:case E.topLoad:case E.topLoadedData:case E.topLoadedMetadata:case E.topLoadStart:case E.topPause:case E.topPlay:case E.topPlaying:case E.topProgress:case E.topRateChange:case E.topReset:case E.topSeeked:case E.topSeeking:case E.topStalled:case E.topSubmit:case E.topSuspend:case E.topTimeUpdate:case E.topVolumeChange:case E.topWaiting:a=f;break;case E.topKeyPress:if(0===x(n))return null;case E.topKeyDown:case E.topKeyUp:a=h;break;case E.topBlur:case E.topFocus:a=p;break;case E.topClick:if(2===n.button)return null;case E.topContextMenu:case E.topDoubleClick:case E.topMouseDown:case E.topMouseMove:case E.topMouseOut:case E.topMouseOver:case E.topMouseUp:a=d;break;case E.topDrag:case E.topDragEnd:case E.topDragEnter:case E.topDragExit:case E.topDragLeave:case E.topDragOver:case E.topDragStart:case E.topDrop:a=m;break;case E.topTouchCancel:case E.topTouchEnd:case E.topTouchMove:case E.topTouchStart:a=y;break;case E.topAnimationEnd:case E.topAnimationIteration:case E.topAnimationStart:a=l;break;case E.topTransitionEnd:a=v;break;case E.topScroll:a=g;break;case E.topWheel:a=_;break;case E.topCopy:case E.topCut:case E.topPaste:a=c}a?void 0:o("86",t);var u=a.getPooled(i,e,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(t,e,n){if(e===C){var o=r(t),i=u.getNodeFromInstance(t);k[o]||(k[o]=a.listen(i,"click",b))}},willDeleteListener:function(t,e){if(e===C){var n=r(t);k[n].remove(),delete k[n]}}};t.exports=P},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(20),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(20),i={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(20),i={data:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(64),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(49),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(20),i={data:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(49),i=n(96),a=n(415),s=n(97),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?i(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?i(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};o.augmentClass(r,u),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(49),i=n(97),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(20),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){return o.call(this,t,e,n,r)}var o=n(64),i={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},function(t,e){"use strict";function n(t){for(var e=1,n=0,o=0,i=t.length,a=i&-4;o<a;){for(var s=Math.min(o+4096,a);o<s;o+=4)n+=(e+=t.charCodeAt(o))+(e+=t.charCodeAt(o+1))+(e+=t.charCodeAt(o+2))+(e+=t.charCodeAt(o+3));e%=r,n%=r}for(;o<i;o++)n+=e+=t.charCodeAt(o);return e%=r,n%=r,e|n<<16}var r=65521;t.exports=n},function(t,e,n){(function(e){"use strict";function r(t,e,n,r,u,l){for(var c in t)if(t.hasOwnProperty(c)){var f;try{"function"!=typeof t[c]?o("84",r||"React class",i[n],c):void 0,f=t[c](e,c,r,n,null,a)}catch(p){f=p}if(f instanceof Error&&!(f.message in s)){s[f.message]=!0}}}var o=n(3),i=n(91),a=n(93),s=(n(2),n(4),{});t.exports=r}).call(e,n(79))},function(t,e,n){"use strict";function r(t,e,n){var r=null==e||"boolean"==typeof e||""===e;if(r)return"";var o=isNaN(e);if(o||0===e||i.hasOwnProperty(t)&&i[t])return""+e;if("string"==typeof e){e=e.trim()}return e+"px"}var o=n(148),i=(n(4),o.isUnitlessNumber);t.exports=r},function(t,e,n){"use strict";function r(t){if(null==t)return null;if(1===t.nodeType)return t;var e=a.get(t);return e?(e=s(e),e?i.getNodeFromInstance(e):null):void("function"==typeof t.render?o("44"):o("45",Object.keys(t)))}var o=n(3),i=(n(27),n(6)),a=n(48),s=n(168);n(2),n(4);t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,e,n,r){if(t&&"object"==typeof t){var o=t,i=void 0===o[n];i&&null!=e&&(o[n]=e)}}function o(t,e){if(null==t)return t;var n={};return i(t,r,n),n}var i=(n(84),n(101));n(4);t.exports=o}).call(e,n(79))},function(t,e,n){"use strict";function r(t){if(t.key){var e=i[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=o(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var o=n(96),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var o=n(t),i=0,a=0;o;){if(3===o.nodeType){if(a=i+o.textContent.length,i<=e&&a>=e)return{node:o,offset:e-i};i=a}o=n(r(o))}}t.exports=o},function(t,e,n){"use strict";function r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function o(t){if(s[t])return s[t];if(!a[t])return t;var e=a[t];for(var n in e)if(e.hasOwnProperty(n)&&n in u)return s[t]=e[n];return""}var i=n(10),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},function(t,e,n){"use strict";function r(t){return i.isValidElement(t)?void 0:o("143"),t}var o=n(3),i=n(15);n(2);t.exports=r},function(t,e,n){"use strict";function r(t){return'"'+o(t)+'"'}var o=n(65);t.exports=r},function(t,e,n){"use strict";var r=n(159);t.exports=r.renderSubtreeIntoContainer},function(t,e){"use strict";function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function r(t){return o(t.replace(i,"ms-"))}var o=n(421),i=/^-ms-/;t.exports=r},function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!o(t)&&(o(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var o=n(431);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?a(!1):void 0,"number"!=typeof e?a(!1):void 0,0===e||e-1 in t?void 0:a(!1),"function"==typeof t.callee?a(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var r=Array(e),o=0;o<e;o++)r[o]=t[o];return r}function o(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function i(t){return o(t)?Array.isArray(t)?t.slice():r(t):[t]}var a=n(2);t.exports=i},function(t,e,n){"use strict";function r(t){var e=t.match(c);return e&&e[1].toLowerCase()}function o(t,e){var n=l;l?void 0:u(!1);var o=r(t),i=o&&s(o);if(i){n.innerHTML=i[1]+t+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=t;var f=n.getElementsByTagName("script");f.length&&(e?void 0:u(!1),a(f).forEach(e));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var i=n(10),a=n(424),s=n(426),u=n(2),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},function(t,e,n){"use strict";function r(t){return a?void 0:i(!1),p.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?p[t]:null}var o=n(10),i=n(2),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(t){p[t]=f,s[t]=!0}),t.exports=r},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){"use strict";function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function r(t){return o(t).replace(i,"-ms-")}var o=n(428),i=/^ms-/;t.exports=r},function(t,e){"use strict";function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e,n){"use strict";function r(t){return o(t)&&3==t.nodeType}var o=n(430);t.exports=r},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function a(t,e,n,r){switch("undefined"==typeof t?"undefined":i(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,o(n)):t[r];case"function":return t(e);default:return t}}function s(t){var e=t.timestamp,n=t.duration;return function(t,r,o){var i=["action"];return e&&i.push("@ "+r),i.push(t.type),n&&i.push("(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function u(t,e){var n=e.logger,r=e.actionTransformer,o=e.titleFormatter,i=void 0===o?s(e):o,u=e.collapsed,c=e.colors,p=e.level,h=e.diff;t.forEach(function(e,o){var s=e.started,d=e.startedTime,m=e.action,y=e.prevState,v=e.error,g=e.took,_=e.nextState,b=t[o+1];b&&(_=b.prevState,g=b.started-s);var x=r(m),w="function"==typeof u?u(function(){return _},m):u,E=(0,l.formatTime)(d),S=c.title?"color: "+c.title(x)+";":null,M=i(x,E,g);try{w?c.title?n.groupCollapsed("%c "+M,S):n.groupCollapsed(M):c.title?n.group("%c "+M,S):n.group(M)}catch(T){n.log(M)}var C=a(p,x,[y],"prevState"),k=a(p,x,[x],"action"),P=a(p,x,[v,y],"error"),A=a(p,x,[_],"nextState");C&&(c.prevState?n[C]("%c prev state","color: "+c.prevState(y)+"; font-weight: bold",y):n[C]("prev state",y)),k&&(c.action?n[k]("%c action","color: "+c.action(x)+"; font-weight: bold",x):n[k]("action",x)),v&&P&&(c.error?n[P]("%c error","color: "+c.error(v,y)+"; font-weight: bold",v):n[P]("error",v)),A&&(c.nextState?n[A]("%c next state","color: "+c.nextState(_)+"; font-weight: bold",_):n[A]("next state",_)),h&&(0,f.default)(y,_,n,w);try{n.groupEnd()}catch(T){n.log(" log end ")}})}Object.defineProperty(e,"__esModule",{value:!0}),e.printBuffer=u;var l=n(177),c=n(435),f=r(c)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return"color: "+l[t].color+"; font-weight: bold"}function i(t){var e=t.kind,n=t.path,r=t.lhs,o=t.rhs,i=t.index,a=t.item;switch(e){case"E":return n.join(".")+" "+r+"  "+o;case"N":return n.join(".")+" "+o;case"D":return""+n.join(".");case"A":return[n.join(".")+"["+i+"]",a];default:return null}}function a(t,e,n,r){var a=(0,u.default)(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(s){n.log("diff")}a?a.forEach(function(t){var e=t.kind,r=i(t);n.log("%c "+l[e].text,o(e),r)}):n.log(" no diff ");try{n.groupEnd()}catch(s){n.log(" diff end  ")}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=n(437),u=r(s),l={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=i({},l.default,t),n=e.logger,r=e.transformer,o=e.stateTransformer,u=e.errorTransformer,c=e.predicate,f=e.logErrors,p=e.diffPredicate;if("undefined"==typeof n)return function(){return function(t){return function(e){return t(e)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var h=[];return function(t){var n=t.getState;return function(t){return function(r){if("function"==typeof c&&!c(n,r))return t(r);var l={};h.push(l),l.started=s.timer.now(),l.startedTime=new Date,l.prevState=o(n()),l.action=r;var d=void 0;if(f)try{d=t(r)}catch(m){l.error=u(m)}else d=t(r);l.took=s.timer.now()-l.started,l.nextState=o(n());var y=e.diff&&"function"==typeof p?p(n,r):e.diff;if((0,a.printBuffer)(h,i({},e,{diff:y})),h.length=0,l.error)throw l.error;return d}}}}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(433),s=n(177),u=n(434),l=r(u);e.default=o,t.exports=e.default},function(t,e,n){var r,o;(function(n){!function(n,i){"use strict";r=[],o=function(){return i()}.apply(e,r),!(void 0!==o&&(t.exports=o))}(this,function(t){"use strict";function e(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function o(t,e,n){o.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(t,e){i.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function l(t){var e=typeof t;return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"undefined"!=typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(e,n,r,f,p,h,d){p=p||[];var m=p.slice(0);if("undefined"!=typeof h){if(f){if("function"==typeof f&&f(m,h))return;if("object"==typeof f){if(f.prefilter&&f.prefilter(m,h))return;if(f.normalize){var y=f.normalize(m,h,e,n);y&&(e=y[0],n=y[1])}}}m.push(h)}"regexp"===l(e)&&"regexp"===l(n)&&(e=e.toString(),n=n.toString());var v=typeof e,g=typeof n;if("undefined"===v)"undefined"!==g&&r(new i(m,n));else if("undefined"===g)r(new a(m,e));else if(l(e)!==l(n))r(new o(m,e,n));else if("[object Date]"===Object.prototype.toString.call(e)&&"[object Date]"===Object.prototype.toString.call(n)&&e-n!==0)r(new o(m,e,n));else if("object"===v&&null!==e&&null!==n){if(d=d||[],d.indexOf(e)<0){if(d.push(e),Array.isArray(e)){var _;e.length;for(_=0;_<e.length;_++)_>=n.length?r(new s(m,_,new a(t,e[_]))):c(e[_],n[_],r,f,m,_,d);for(;_<n.length;)r(new s(m,_,new i(t,n[_++])))}else{var b=Object.keys(e),x=Object.keys(n);b.forEach(function(o,i){var a=x.indexOf(o);a>=0?(c(e[o],n[o],r,f,m,o,d),x=u(x,a)):c(e[o],t,r,f,m,o,d)}),x.forEach(function(e){c(t,n[e],r,f,m,e,d)})}d.length=d.length-1}}else e!==n&&("number"===v&&isNaN(e)&&isNaN(n)||r(new o(m,e,n)))}function f(e,n,r,o){return o=o||[],c(e,n,function(t){t&&o.push(t)},r),o.length?o:t}function p(t,e,n){if(n.path&&n.path.length){var r,o=t[e],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":p(t[e],n.index,n.item);break;case"D":t=u(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function h(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,o=-1,i=n.path?n.path.length-1:0;++o<i;)"undefined"==typeof r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":p(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function d(t,e,n){if(n.path&&n.path.length){var r,o=t[e],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":o[n.path[r]]=n.lhs;break;case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":d(t[e],n.index,n.item);break;case"D":t[e]=n.lhs;break;case"E":t[e]=n.lhs;break;case"N":t=u(t,e)}return t}function m(t,e,n){if(t&&e&&n&&n.kind){var r,o,i=t;for(o=n.path.length-1,r=0;r<o;r++)"undefined"==typeof i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":i[n.path[r]]=n.lhs;break;case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}}function y(t,e,n){if(t&&e){var r=function(r){n&&!n(t,e,r)||h(t,e,r)};c(t,e,r)}}var v,g,_=[];return v="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},g=v.DeepDiff,g&&_.push(function(){"undefined"!=typeof g&&v.DeepDiff===f&&(v.DeepDiff=g,g=t)}),e(o,r),e(i,r),e(a,r),e(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof g},enumerable:!0},noConflict:{value:function(){return _&&(_.forEach(function(t){t()}),_=null),f},enumerable:!0}}),f})}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}e.__esModule=!0;var r=n();r.withExtraArgument=n,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(t){return u(t)}};return l=e.map(function(t){return t(c)}),u=s.default.apply(void 0,l)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var a=n(178),s=r(a)},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s,u=Object.keys(n);try{i(n)}catch(l){s=l}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<u.length;a++){var l=u[a],c=n[l],f=t[l],p=c(f,e);if("undefined"==typeof p){var h=o(l,e);throw new Error(h)}i[l]=p,r=r||p!==f}return r?i:t}}e.__esModule=!0,
e.default=a;var s=n(179),u=n(182),l=(r(u),n(180));r(l)},[454,181,445,446],111,[457,447],[455,181],243,244,[456,443],57,function(t,e,n){t.exports=n(451)},function(t,e,n){(function(t,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(452),s=o(a);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:r;var u=(0,s.default)(i);e.default=u}).call(e,function(){return this}(),n(78)(t))},function(t,e){"use strict";function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n,r){var o=n(r),i=o.Symbol;t.exports=i},function(t,e,n,r,o,i){function a(t){return null==t?void 0===t?f:c:(t=Object(t),p&&p in t?u(t):l(t))}var s=n(r),u=n(o),l=n(i),c="[object Null]",f="[object Undefined]",p=s?s.toStringTag:void 0;t.exports=a},function(t,e,n,r){function o(t){var e=s.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(o){}var i=u.call(t);return r&&(e?t[l]=n:delete t[l]),i}var i=n(r),a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=i?i.toStringTag:void 0;t.exports=o},function(t,e,n,r){var o=n(r),i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e,n,r){var o=n(r),i=o(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n,r,o,i){function a(t){if(!l(t)||s(t)!=c)return!1;var e=u(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&h.call(n)==m}var s=n(r),u=n(o),l=n(i),c="[object Object]",f=Function.prototype,p=Object.prototype,h=f.toString,d=p.hasOwnProperty,m=h.call(Object);t.exports=a}]));
//# sourceMappingURL=main.fa622c4d.js.map